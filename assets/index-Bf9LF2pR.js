(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();var qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oa(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Au={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function a0(){if(rp)return Tl;rp=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(r,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var h in a)h!=="key"&&(u[h]=a[h])}else u=a;return a=u.ref,{$$typeof:i,type:r,key:f,ref:a!==void 0?a:null,props:u}}return Tl.Fragment=e,Tl.jsx=o,Tl.jsxs=o,Tl}var ap;function s0(){return ap||(ap=1,Au.exports=a0()),Au.exports}var Et=s0(),bu={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function u0(){if(sp)return Dt;sp=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=T&&N[T]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,R={};function M(N,U,$){this.props=N,this.context=U,this.refs=R,this.updater=$||b}M.prototype.isReactComponent={},M.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},M.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function I(){}I.prototype=M.prototype;function D(N,U,$){this.props=N,this.context=U,this.refs=R,this.updater=$||b}var G=D.prototype=new I;G.constructor=D,A(G,M.prototype),G.isPureReactComponent=!0;var B=Array.isArray;function H(){}var P={H:null,A:null,T:null,S:null},lt=Object.prototype.hasOwnProperty;function V(N,U,$){var K=$.ref;return{$$typeof:i,type:N,key:U,ref:K!==void 0?K:null,props:$}}function ut(N,U){return V(N.type,U,N.props)}function vt(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function z(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function($){return U[$]})}var nt=/\/+/g;function w(N,U){return typeof N=="object"&&N!==null&&N.key!=null?z(""+N.key):U.toString(36)}function at(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(H,H):(N.status="pending",N.then(function(U){N.status==="pending"&&(N.status="fulfilled",N.value=U)},function(U){N.status==="pending"&&(N.status="rejected",N.reason=U)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function X(N,U,$,K,et){var _t=typeof N;(_t==="undefined"||_t==="boolean")&&(N=null);var Nt=!1;if(N===null)Nt=!0;else switch(_t){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(N.$$typeof){case i:case e:Nt=!0;break;case v:return Nt=N._init,X(Nt(N._payload),U,$,K,et)}}if(Nt)return et=et(N),Nt=K===""?"."+w(N,0):K,B(et)?($="",Nt!=null&&($=Nt.replace(nt,"$&/")+"/"),X(et,U,$,"",function(Jt){return Jt})):et!=null&&(vt(et)&&(et=ut(et,$+(et.key==null||N&&N.key===et.key?"":(""+et.key).replace(nt,"$&/")+"/")+Nt)),U.push(et)),1;Nt=0;var Mt=K===""?".":K+":";if(B(N))for(var bt=0;bt<N.length;bt++)K=N[bt],_t=Mt+w(K,bt),Nt+=X(K,U,$,_t,et);else if(bt=S(N),typeof bt=="function")for(N=bt.call(N),bt=0;!(K=N.next()).done;)K=K.value,_t=Mt+w(K,bt++),Nt+=X(K,U,$,_t,et);else if(_t==="object"){if(typeof N.then=="function")return X(at(N),U,$,K,et);throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function Y(N,U,$){if(N==null)return N;var K=[],et=0;return X(N,K,"","",function(_t){return U.call($,_t,et++)}),K}function mt(N){if(N._status===-1){var U=N._result;U=U(),U.then(function($){(N._status===0||N._status===-1)&&(N._status=1,N._result=$)},function($){(N._status===0||N._status===-1)&&(N._status=2,N._result=$)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var Z=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},ot={map:Y,forEach:function(N,U,$){Y(N,function(){U.apply(this,arguments)},$)},count:function(N){var U=0;return Y(N,function(){U++}),U},toArray:function(N){return Y(N,function(U){return U})||[]},only:function(N){if(!vt(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Dt.Activity=_,Dt.Children=ot,Dt.Component=M,Dt.Fragment=o,Dt.Profiler=a,Dt.PureComponent=D,Dt.StrictMode=r,Dt.Suspense=g,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return P.H.useMemoCache(N)}},Dt.cache=function(N){return function(){return N.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(N,U,$){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var K=A({},N.props),et=N.key;if(U!=null)for(_t in U.key!==void 0&&(et=""+U.key),U)!lt.call(U,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&U.ref===void 0||(K[_t]=U[_t]);var _t=arguments.length-2;if(_t===1)K.children=$;else if(1<_t){for(var Nt=Array(_t),Mt=0;Mt<_t;Mt++)Nt[Mt]=arguments[Mt+2];K.children=Nt}return V(N.type,et,K)},Dt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Dt.createElement=function(N,U,$){var K,et={},_t=null;if(U!=null)for(K in U.key!==void 0&&(_t=""+U.key),U)lt.call(U,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(et[K]=U[K]);var Nt=arguments.length-2;if(Nt===1)et.children=$;else if(1<Nt){for(var Mt=Array(Nt),bt=0;bt<Nt;bt++)Mt[bt]=arguments[bt+2];et.children=Mt}if(N&&N.defaultProps)for(K in Nt=N.defaultProps,Nt)et[K]===void 0&&(et[K]=Nt[K]);return V(N,_t,et)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(N){return{$$typeof:h,render:N}},Dt.isValidElement=vt,Dt.lazy=function(N){return{$$typeof:v,_payload:{_status:-1,_result:N},_init:mt}},Dt.memo=function(N,U){return{$$typeof:p,type:N,compare:U===void 0?null:U}},Dt.startTransition=function(N){var U=P.T,$={};P.T=$;try{var K=N(),et=P.S;et!==null&&et($,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(H,Z)}catch(_t){Z(_t)}finally{U!==null&&$.types!==null&&(U.types=$.types),P.T=U}},Dt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Dt.use=function(N){return P.H.use(N)},Dt.useActionState=function(N,U,$){return P.H.useActionState(N,U,$)},Dt.useCallback=function(N,U){return P.H.useCallback(N,U)},Dt.useContext=function(N){return P.H.useContext(N)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(N,U){return P.H.useDeferredValue(N,U)},Dt.useEffect=function(N,U){return P.H.useEffect(N,U)},Dt.useEffectEvent=function(N){return P.H.useEffectEvent(N)},Dt.useId=function(){return P.H.useId()},Dt.useImperativeHandle=function(N,U,$){return P.H.useImperativeHandle(N,U,$)},Dt.useInsertionEffect=function(N,U){return P.H.useInsertionEffect(N,U)},Dt.useLayoutEffect=function(N,U){return P.H.useLayoutEffect(N,U)},Dt.useMemo=function(N,U){return P.H.useMemo(N,U)},Dt.useOptimistic=function(N,U){return P.H.useOptimistic(N,U)},Dt.useReducer=function(N,U,$){return P.H.useReducer(N,U,$)},Dt.useRef=function(N){return P.H.useRef(N)},Dt.useState=function(N){return P.H.useState(N)},Dt.useSyncExternalStore=function(N,U,$){return P.H.useSyncExternalStore(N,U,$)},Dt.useTransition=function(){return P.H.useTransition()},Dt.version="19.2.4",Dt}var up;function $u(){return up||(up=1,bu.exports=u0()),bu.exports}var Pt=$u();const c0=oa(Pt);var Ru={exports:{}},Sl={},wu={exports:{}},Mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function f0(){return cp||(cp=1,(function(i){function e(X,Y){var mt=X.length;X.push(Y);t:for(;0<mt;){var Z=mt-1>>>1,ot=X[Z];if(0<a(ot,Y))X[Z]=Y,X[mt]=ot,mt=Z;else break t}}function o(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var Y=X[0],mt=X.pop();if(mt!==Y){X[0]=mt;t:for(var Z=0,ot=X.length,N=ot>>>1;Z<N;){var U=2*(Z+1)-1,$=X[U],K=U+1,et=X[K];if(0>a($,mt))K<ot&&0>a(et,$)?(X[Z]=et,X[K]=mt,Z=K):(X[Z]=$,X[U]=mt,Z=U);else if(K<ot&&0>a(et,mt))X[Z]=et,X[K]=mt,Z=K;else break t}}return Y}function a(X,Y){var mt=X.sortIndex-Y.sortIndex;return mt!==0?mt:X.id-Y.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var g=[],p=[],v=1,_=null,T=3,S=!1,b=!1,A=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function G(X){for(var Y=o(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=X)r(p),Y.sortIndex=Y.expirationTime,e(g,Y);else break;Y=o(p)}}function B(X){if(A=!1,G(X),!b)if(o(g)!==null)b=!0,H||(H=!0,z());else{var Y=o(p);Y!==null&&at(B,Y.startTime-X)}}var H=!1,P=-1,lt=5,V=-1;function ut(){return R?!0:!(i.unstable_now()-V<lt)}function vt(){if(R=!1,H){var X=i.unstable_now();V=X;var Y=!0;try{t:{b=!1,A&&(A=!1,I(P),P=-1),S=!0;var mt=T;try{e:{for(G(X),_=o(g);_!==null&&!(_.expirationTime>X&&ut());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,T=_.priorityLevel;var ot=Z(_.expirationTime<=X);if(X=i.unstable_now(),typeof ot=="function"){_.callback=ot,G(X),Y=!0;break e}_===o(g)&&r(g),G(X)}else r(g);_=o(g)}if(_!==null)Y=!0;else{var N=o(p);N!==null&&at(B,N.startTime-X),Y=!1}}break t}finally{_=null,T=mt,S=!1}Y=void 0}}finally{Y?z():H=!1}}}var z;if(typeof D=="function")z=function(){D(vt)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,w=nt.port2;nt.port1.onmessage=vt,z=function(){w.postMessage(null)}}else z=function(){M(vt,0)};function at(X,Y){P=M(function(){X(i.unstable_now())},Y)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(X){switch(T){case 1:case 2:case 3:var Y=3;break;default:Y=T}var mt=T;T=Y;try{return X()}finally{T=mt}},i.unstable_requestPaint=function(){R=!0},i.unstable_runWithPriority=function(X,Y){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var mt=T;T=X;try{return Y()}finally{T=mt}},i.unstable_scheduleCallback=function(X,Y,mt){var Z=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Z+mt:Z):mt=Z,X){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=mt+ot,X={id:v++,callback:Y,priorityLevel:X,startTime:mt,expirationTime:ot,sortIndex:-1},mt>Z?(X.sortIndex=mt,e(p,X),o(g)===null&&X===o(p)&&(A?(I(P),P=-1):A=!0,at(B,mt-Z))):(X.sortIndex=ot,e(g,X),b||S||(b=!0,H||(H=!0,z()))),X},i.unstable_shouldYield=ut,i.unstable_wrapCallback=function(X){var Y=T;return function(){var mt=T;T=Y;try{return X.apply(this,arguments)}finally{T=mt}}}})(Mu)),Mu}var fp;function d0(){return fp||(fp=1,wu.exports=f0()),wu.exports}var Nu={exports:{}},Re={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function h0(){if(dp)return Re;dp=1;var i=$u();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:g,containerInfo:p,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Re.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Re.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},Re.flushSync=function(g){var p=f.T,v=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=p,r.p=v,r.d.f()}},Re.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Re.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Re.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:S}):v==="script"&&r.d.X(g,{crossOrigin:_,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Re.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Re.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=h(v,p.crossOrigin);r.d.L(g,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Re.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Re.requestFormReset=function(g){r.d.r(g)},Re.unstable_batchedUpdates=function(g,p){return g(p)},Re.useFormState=function(g,p,v){return f.H.useFormState(g,p,v)},Re.useFormStatus=function(){return f.H.useHostTransitionStatus()},Re.version="19.2.4",Re}var hp;function p0(){if(hp)return Nu.exports;hp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Nu.exports=h0(),Nu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function m0(){if(pp)return Sl;pp=1;var i=d0(),e=$u(),o=p0();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,l=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(l=n.return),t=n.return;while(t)}return n.tag===3?l:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var l=t,s=n;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(s=m.return,s!==null){l=s;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return g(m),t;if(y===s)return g(m),n;y=y.sibling}throw Error(r(188))}if(l.return!==s.return)l=m,s=y;else{for(var E=!1,x=m.child;x;){if(x===l){E=!0,l=m,s=y;break}if(x===s){E=!0,s=m,l=y;break}x=x.sibling}if(!E){for(x=y.child;x;){if(x===l){E=!0,l=y,s=m;break}if(x===s){E=!0,s=y,l=m;break}x=x.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==s)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),vt=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=vt&&t[vt]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===nt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case M:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case H:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case D:return t.displayName||"Context";case I:return(t._context.displayName||"Context")+".Consumer";case G:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return n=t.displayName||null,n!==null?n:w(t.type)||"Memo";case lt:n=t._payload,t=t._init;try{return w(t(n))}catch{}}return null}var at=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Z=[],ot=-1;function N(t){return{current:t}}function U(t){0>ot||(t.current=Z[ot],Z[ot]=null,ot--)}function $(t,n){ot++,Z[ot]=t.current,t.current=n}var K=N(null),et=N(null),_t=N(null),Nt=N(null);function Mt(t,n){switch($(_t,n),$(et,t),$(K,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Nh(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Nh(n),t=xh(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}U(K),$(K,t)}function bt(){U(K),U(et),U(_t)}function Jt(t){t.memoizedState!==null&&$(Nt,t);var n=K.current,l=xh(n,t.type);n!==l&&($(et,t),$(K,l))}function Kt(t){et.current===t&&(U(K),U(et)),Nt.current===t&&(U(Nt),gl._currentValue=mt)}var Te,xe;function C(t){if(Te===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Te=n&&n[1]||"",xe=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+t+xe}var ft=!1;function rt(t,n){if(!t||ft)return"";ft=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(it){var tt=it}Reflect.construct(t,[],dt)}else{try{dt.call()}catch(it){tt=it}t.call(dt.prototype)}}else{try{throw Error()}catch(it){tt=it}(dt=t())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=s.DetermineComponentFrameRoot(),E=y[0],x=y[1];if(E&&x){var O=E.split(`
`),W=x.split(`
`);for(m=s=0;s<O.length&&!O[s].includes("DetermineComponentFrameRoot");)s++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(s===O.length||m===W.length)for(s=O.length-1,m=W.length-1;1<=s&&0<=m&&O[s]!==W[m];)m--;for(;1<=s&&0<=m;s--,m--)if(O[s]!==W[m]){if(s!==1||m!==1)do if(s--,m--,0>m||O[s]!==W[m]){var st=`
`+O[s].replace(" at new "," at ");return t.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",t.displayName)),st}while(1<=s&&0<=m);break}}}finally{ft=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?C(l):""}function L(t,n){switch(t.tag){case 26:case 27:case 5:return C(t.type);case 16:return C("Lazy");case 13:return t.child!==n&&n!==null?C("Suspense Fallback"):C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return rt(t.type,!1);case 11:return rt(t.type.render,!1);case 1:return rt(t.type,!0);case 31:return C("Activity");default:return""}}function k(t){try{var n="",l=null;do n+=L(t,l),l=t,t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var F=Object.prototype.hasOwnProperty,ht=i.unstable_scheduleCallback,pt=i.unstable_cancelCallback,j=i.unstable_shouldYield,gt=i.unstable_requestPaint,Tt=i.unstable_now,yt=i.unstable_getCurrentPriorityLevel,Rt=i.unstable_ImmediatePriority,Xt=i.unstable_UserBlockingPriority,Lt=i.unstable_NormalPriority,Ie=i.unstable_LowPriority,Hn=i.unstable_IdlePriority,Ke=i.log,hi=i.unstable_setDisableYieldValue,te=null,me=null;function Xe(t){if(typeof Ke=="function"&&hi(t),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(te,t)}catch{}}var le=Math.clz32?Math.clz32:fa,Ml=Math.log,ca=Math.LN2;function fa(t){return t>>>=0,t===0?32:31-(Ml(t)/ca|0)|0}var Li=256,pi=262144,pn=4194304;function Ze(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Nl(t,n,l){var s=t.pendingLanes;if(s===0)return 0;var m=0,y=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var x=s&134217727;return x!==0?(s=x&~y,s!==0?m=Ze(s):(E&=x,E!==0?m=Ze(E):l||(l=x&~t,l!==0&&(m=Ze(l))))):(x=s&~y,x!==0?m=Ze(x):E!==0?m=Ze(E):l||(l=s&~t,l!==0&&(m=Ze(l)))),m===0?0:n!==0&&n!==m&&(n&y)===0&&(y=m&-m,l=n&-n,y>=l||y===32&&(l&4194048)!==0)?n:m}function No(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xg(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uc(){var t=pn;return pn<<=1,(pn&62914560)===0&&(pn=4194304),t}function da(t){for(var n=[],l=0;31>l;l++)n.push(t);return n}function xo(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zg(t,n,l,s,m,y){var E=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var x=t.entanglements,O=t.expirationTimes,W=t.hiddenUpdates;for(l=E&~l;0<l;){var st=31-le(l),dt=1<<st;x[st]=0,O[st]=-1;var tt=W[st];if(tt!==null)for(W[st]=null,st=0;st<tt.length;st++){var it=tt[st];it!==null&&(it.lane&=-536870913)}l&=~dt}s!==0&&cc(t,s,0),y!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=y&~(E&~n))}function cc(t,n,l){t.pendingLanes|=n,t.suspendedLanes&=~n;var s=31-le(n);t.entangledLanes|=n,t.entanglements[s]=t.entanglements[s]|1073741824|l&261930}function fc(t,n){var l=t.entangledLanes|=n;for(t=t.entanglements;l;){var s=31-le(l),m=1<<s;m&n|t[s]&n&&(t[s]|=n),l&=~m}}function dc(t,n){var l=n&-n;return l=(l&42)!==0?1:ha(l),(l&(t.suspendedLanes|n))!==0?0:l}function ha(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hc(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:jh(t.type))}function pc(t,n){var l=Y.p;try{return Y.p=t,n()}finally{Y.p=l}}var Pn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Pn,De="__reactProps$"+Pn,zi="__reactContainer$"+Pn,ma="__reactEvents$"+Pn,Qg="__reactListeners$"+Pn,Wg="__reactHandles$"+Pn,mc="__reactResources$"+Pn,Io="__reactMarker$"+Pn;function ga(t){delete t[Se],delete t[De],delete t[ma],delete t[Qg],delete t[Wg]}function Gi(t){var n=t[Se];if(n)return n;for(var l=t.parentNode;l;){if(n=l[zi]||l[Se]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(t=Gh(t);t!==null;){if(l=t[Se])return l;t=Gh(t)}return n}t=l,l=t.parentNode}return null}function Bi(t){if(t=t[Se]||t[zi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Do(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Oi(t){var n=t[mc];return n||(n=t[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ge(t){t[Io]=!0}var gc=new Set,yc={};function mi(t,n){Hi(t,n),Hi(t+"Capture",n)}function Hi(t,n){for(yc[t]=n,t=0;t<n.length;t++)gc.add(n[t])}var $g=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},_c={};function jg(t){return F.call(_c,t)?!0:F.call(vc,t)?!1:$g.test(t)?_c[t]=!0:(vc[t]=!0,!1)}function xl(t,n,l){if(jg(n))if(l===null)t.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+l)}}function Il(t,n,l){if(l===null)t.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+l)}}function _n(t,n,l,s){if(s===null)t.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(n,l,""+s)}}function Qe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tc(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ty(t,n,l){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,y=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return m.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ya(t){if(!t._valueTracker){var n=Tc(t)?"checked":"value";t._valueTracker=ty(t,n,""+t[n])}}function Sc(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return t&&(s=Tc(t)?t.checked?"true":"false":t.value),t=s,t!==l?(n.setValue(t),!0):!1}function Dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ey=/[\n"\\]/g;function We(t){return t.replace(ey,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(t,n,l,s,m,y,E,x){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),n!=null?E==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qe(n)):t.value!==""+Qe(n)&&(t.value=""+Qe(n)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),n!=null?_a(t,E,Qe(n)):l!=null?_a(t,E,Qe(l)):s!=null&&t.removeAttribute("value"),m==null&&y!=null&&(t.defaultChecked=!!y),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Qe(x):t.removeAttribute("name")}function Ec(t,n,l,s,m,y,E,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),n!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||n!=null)){ya(t);return}l=l!=null?""+Qe(l):"",n=n!=null?""+Qe(n):l,x||n===t.value||(t.value=n),t.defaultValue=n}s=s??m,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=x?t.checked:!!s,t.defaultChecked=!!s,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E),ya(t)}function _a(t,n,l){n==="number"&&Dl(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Pi(t,n,l,s){if(t=t.options,n){n={};for(var m=0;m<l.length;m++)n["$"+l[m]]=!0;for(l=0;l<t.length;l++)m=n.hasOwnProperty("$"+t[l].value),t[l].selected!==m&&(t[l].selected=m),m&&s&&(t[l].defaultSelected=!0)}else{for(l=""+Qe(l),n=null,m=0;m<t.length;m++){if(t[m].value===l){t[m].selected=!0,s&&(t[m].defaultSelected=!0);return}n!==null||t[m].disabled||(n=t[m])}n!==null&&(n.selected=!0)}}function Cc(t,n,l){if(n!=null&&(n=""+Qe(n),n!==t.value&&(t.value=n),l==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=l!=null?""+Qe(l):""}function Ac(t,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(r(92));if(at(s)){if(1<s.length)throw Error(r(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=Qe(n),t.defaultValue=l,s=t.textContent,s===l&&s!==""&&s!==null&&(t.value=s),ya(t)}function qi(t,n){if(n){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=n;return}}t.textContent=n}var ny=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(t,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":s?t.setProperty(n,l):typeof l!="number"||l===0||ny.has(n)?n==="float"?t.cssFloat=l:t[n]=(""+l).trim():t[n]=l+"px"}function Rc(t,n,l){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var m in n)s=n[m],n.hasOwnProperty(m)&&l[m]!==s&&bc(t,m,s)}else for(var y in n)n.hasOwnProperty(y)&&bc(t,y,n[y])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ul(t){return oy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Tn(){}var Sa=null;function Ea(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vi=null,Fi=null;function wc(t){var n=Bi(t);if(n&&(t=n.stateNode)){var l=t[De]||null;t:switch(t=n.stateNode,n.type){case"input":if(va(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==t&&s.form===t.form){var m=s[De]||null;if(!m)throw Error(r(90));va(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===t.form&&Sc(s)}break t;case"textarea":Cc(t,l.value,l.defaultValue);break t;case"select":n=l.value,n!=null&&Pi(t,!!l.multiple,n,!1)}}}var Ca=!1;function Mc(t,n,l){if(Ca)return t(n,l);Ca=!0;try{var s=t(n);return s}finally{if(Ca=!1,(Vi!==null||Fi!==null)&&(Tr(),Vi&&(n=Vi,t=Fi,Fi=Vi=null,wc(n),t)))for(n=0;n<t.length;n++)wc(t[n])}}function Uo(t,n){var l=t.stateNode;if(l===null)return null;var s=l[De]||null;if(s===null)return null;l=s[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(r(231,n,typeof l));return l}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(Sn)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Aa=!1}var qn=null,ba=null,kl=null;function Nc(){if(kl)return kl;var t,n=ba,l=n.length,s,m="value"in qn?qn.value:qn.textContent,y=m.length;for(t=0;t<l&&n[t]===m[t];t++);var E=l-t;for(s=1;s<=E&&n[l-s]===m[y-s];s++);return kl=m.slice(t,1<s?1-s:void 0)}function Ll(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function zl(){return!0}function xc(){return!1}function Ue(t){function n(l,s,m,y,E){this._reactName=l,this._targetInst=m,this.type=s,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(l=t[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?zl:xc,this.isPropagationStopped=xc,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),n}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gl=Ue(gi),Lo=_({},gi,{view:0,detail:0}),ly=Ue(Lo),Ra,wa,zo,Bl=_({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zo&&(zo&&t.type==="mousemove"?(Ra=t.screenX-zo.screenX,wa=t.screenY-zo.screenY):wa=Ra=0,zo=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Ic=Ue(Bl),ry=_({},Bl,{dataTransfer:0}),ay=Ue(ry),sy=_({},Lo,{relatedTarget:0}),Ma=Ue(sy),uy=_({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=Ue(uy),fy=_({},gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dy=Ue(fy),hy=_({},gi,{data:0}),Dc=Ue(hy),py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},my={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yy(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gy[t])?!!n[t]:!1}function Na(){return yy}var vy=_({},Lo,{key:function(t){if(t.key){var n=py[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?my[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_y=Ue(vy),Ty=_({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=Ue(Ty),Sy=_({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),Ey=Ue(Sy),Cy=_({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ay=Ue(Cy),by=_({},Bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=Ue(by),wy=_({},gi,{newState:0,oldState:0}),My=Ue(wy),Ny=[9,13,27,32],xa=Sn&&"CompositionEvent"in window,Go=null;Sn&&"documentMode"in document&&(Go=document.documentMode);var xy=Sn&&"TextEvent"in window&&!Go,kc=Sn&&(!xa||Go&&8<Go&&11>=Go),Lc=" ",zc=!1;function Gc(t,n){switch(t){case"keyup":return Ny.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function Iy(t,n){switch(t){case"compositionend":return Bc(n);case"keypress":return n.which!==32?null:(zc=!0,Lc);case"textInput":return t=n.data,t===Lc&&zc?null:t;default:return null}}function Dy(t,n){if(Yi)return t==="compositionend"||!xa&&Gc(t,n)?(t=Nc(),kl=ba=qn=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return kc&&n.locale!=="ko"?null:n.data;default:return null}}var Uy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Uy[t.type]:n==="textarea"}function Hc(t,n,l,s){Vi?Fi?Fi.push(s):Fi=[s]:Vi=s,n=wr(n,"onChange"),0<n.length&&(l=new Gl("onChange","change",null,l,s),t.push({event:l,listeners:n}))}var Bo=null,Oo=null;function ky(t){Ch(t,0)}function Ol(t){var n=Do(t);if(Sc(n))return t}function Pc(t,n){if(t==="change")return n}var qc=!1;if(Sn){var Ia;if(Sn){var Da="oninput"in document;if(!Da){var Vc=document.createElement("div");Vc.setAttribute("oninput","return;"),Da=typeof Vc.oninput=="function"}Ia=Da}else Ia=!1;qc=Ia&&(!document.documentMode||9<document.documentMode)}function Fc(){Bo&&(Bo.detachEvent("onpropertychange",Yc),Oo=Bo=null)}function Yc(t){if(t.propertyName==="value"&&Ol(Oo)){var n=[];Hc(n,Oo,t,Ea(t)),Mc(ky,n)}}function Ly(t,n,l){t==="focusin"?(Fc(),Bo=n,Oo=l,Bo.attachEvent("onpropertychange",Yc)):t==="focusout"&&Fc()}function zy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ol(Oo)}function Gy(t,n){if(t==="click")return Ol(n)}function By(t,n){if(t==="input"||t==="change")return Ol(n)}function Oy(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Oe=typeof Object.is=="function"?Object.is:Oy;function Ho(t,n){if(Oe(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var l=Object.keys(t),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var m=l[s];if(!F.call(n,m)||!Oe(t[m],n[m]))return!1}return!0}function Jc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kc(t,n){var l=Jc(t);t=0;for(var s;l;){if(l.nodeType===3){if(s=t+l.textContent.length,t<=n&&s>=n)return{node:l,offset:n-t};t=s}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Jc(l)}}function Xc(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xc(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Zc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Dl(t.document);n instanceof t.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)t=n.contentWindow;else break;n=Dl(t.document)}return n}function Ua(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Hy=Sn&&"documentMode"in document&&11>=document.documentMode,Ji=null,ka=null,Po=null,La=!1;function Qc(t,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;La||Ji==null||Ji!==Dl(s)||(s=Ji,"selectionStart"in s&&Ua(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Po&&Ho(Po,s)||(Po=s,s=wr(ka,"onSelect"),0<s.length&&(n=new Gl("onSelect","select",null,n,l),t.push({event:n,listeners:s}),n.target=Ji)))}function yi(t,n){var l={};return l[t.toLowerCase()]=n.toLowerCase(),l["Webkit"+t]="webkit"+n,l["Moz"+t]="moz"+n,l}var Ki={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},za={},Wc={};Sn&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function vi(t){if(za[t])return za[t];if(!Ki[t])return t;var n=Ki[t],l;for(l in n)if(n.hasOwnProperty(l)&&l in Wc)return za[t]=n[l];return t}var $c=vi("animationend"),jc=vi("animationiteration"),tf=vi("animationstart"),Py=vi("transitionrun"),qy=vi("transitionstart"),Vy=vi("transitioncancel"),ef=vi("transitionend"),nf=new Map,Ga="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ga.push("scrollEnd");function sn(t,n){nf.set(t,n),mi(n,[t])}var Hl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$e=[],Xi=0,Ba=0;function Pl(){for(var t=Xi,n=Ba=Xi=0;n<t;){var l=$e[n];$e[n++]=null;var s=$e[n];$e[n++]=null;var m=$e[n];$e[n++]=null;var y=$e[n];if($e[n++]=null,s!==null&&m!==null){var E=s.pending;E===null?m.next=m:(m.next=E.next,E.next=m),s.pending=m}y!==0&&of(l,m,y)}}function ql(t,n,l,s){$e[Xi++]=t,$e[Xi++]=n,$e[Xi++]=l,$e[Xi++]=s,Ba|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Oa(t,n,l,s){return ql(t,n,l,s),Vl(t)}function _i(t,n){return ql(t,null,null,n),Vl(t)}function of(t,n,l){t.lanes|=l;var s=t.alternate;s!==null&&(s.lanes|=l);for(var m=!1,y=t.return;y!==null;)y.childLanes|=l,s=y.alternate,s!==null&&(s.childLanes|=l),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(m=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,m&&n!==null&&(m=31-le(l),t=y.hiddenUpdates,s=t[m],s===null?t[m]=[n]:s.push(n),n.lane=l|536870912),y):null}function Vl(t){if(50<ul)throw ul=0,Xs=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zi={};function Fy(t,n,l,s){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(t,n,l,s){return new Fy(t,n,l,s)}function Ha(t){return t=t.prototype,!(!t||!t.isReactComponent)}function En(t,n){var l=t.alternate;return l===null?(l=He(t.tag,n,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=n,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,n=t.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function lf(t,n){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,n=l.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fl(t,n,l,s,m,y){var E=0;if(s=t,typeof t=="function")Ha(t)&&(E=1);else if(typeof t=="string")E=Zv(t,l,K.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case V:return t=He(31,l,n,m),t.elementType=V,t.lanes=y,t;case A:return Ti(l.children,m,y,n);case R:E=8,m|=24;break;case M:return t=He(12,l,n,m|2),t.elementType=M,t.lanes=y,t;case B:return t=He(13,l,n,m),t.elementType=B,t.lanes=y,t;case H:return t=He(19,l,n,m),t.elementType=H,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:E=10;break t;case I:E=9;break t;case G:E=11;break t;case P:E=14;break t;case lt:E=16,s=null;break t}E=29,l=Error(r(130,t===null?"null":typeof t,"")),s=null}return n=He(E,l,n,m),n.elementType=t,n.type=s,n.lanes=y,n}function Ti(t,n,l,s){return t=He(7,t,s,n),t.lanes=l,t}function Pa(t,n,l){return t=He(6,t,null,n),t.lanes=l,t}function rf(t){var n=He(18,null,null,0);return n.stateNode=t,n}function qa(t,n,l){return n=He(4,t.children!==null?t.children:[],t.key,n),n.lanes=l,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var af=new WeakMap;function je(t,n){if(typeof t=="object"&&t!==null){var l=af.get(t);return l!==void 0?l:(n={value:t,source:n,stack:k(n)},af.set(t,n),n)}return{value:t,source:n,stack:k(n)}}var Qi=[],Wi=0,Yl=null,qo=0,tn=[],en=0,Vn=null,mn=1,gn="";function Cn(t,n){Qi[Wi++]=qo,Qi[Wi++]=Yl,Yl=t,qo=n}function sf(t,n,l){tn[en++]=mn,tn[en++]=gn,tn[en++]=Vn,Vn=t;var s=mn;t=gn;var m=32-le(s)-1;s&=~(1<<m),l+=1;var y=32-le(n)+m;if(30<y){var E=m-m%5;y=(s&(1<<E)-1).toString(32),s>>=E,m-=E,mn=1<<32-le(n)+m|l<<m|s,gn=y+t}else mn=1<<y|l<<m|s,gn=t}function Va(t){t.return!==null&&(Cn(t,1),sf(t,1,0))}function Fa(t){for(;t===Yl;)Yl=Qi[--Wi],Qi[Wi]=null,qo=Qi[--Wi],Qi[Wi]=null;for(;t===Vn;)Vn=tn[--en],tn[en]=null,gn=tn[--en],tn[en]=null,mn=tn[--en],tn[en]=null}function uf(t,n){tn[en++]=mn,tn[en++]=gn,tn[en++]=Vn,mn=n.id,gn=n.overflow,Vn=t}var Ee=null,ne=null,Ht=!1,Fn=null,nn=!1,Ya=Error(r(519));function Yn(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vo(je(n,t)),Ya}function cf(t){var n=t.stateNode,l=t.type,s=t.memoizedProps;switch(n[Se]=t,n[De]=s,l){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(l=0;l<fl.length;l++)Gt(fl[l],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":Gt("invalid",n),Ec(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Gt("invalid",n);break;case"textarea":Gt("invalid",n),Ac(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||wh(n.textContent,l)?(s.popover!=null&&(Gt("beforetoggle",n),Gt("toggle",n)),s.onScroll!=null&&Gt("scroll",n),s.onScrollEnd!=null&&Gt("scrollend",n),s.onClick!=null&&(n.onclick=Tn),n=!0):n=!1,n||Yn(t,!0)}function ff(t){for(Ee=t.return;Ee;)switch(Ee.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:Ee=Ee.return}}function $i(t){if(t!==Ee)return!1;if(!Ht)return ff(t),Ht=!0,!1;var n=t.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||uu(t.type,t.memoizedProps)),l=!l),l&&ne&&Yn(t),ff(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ne=zh(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ne=zh(t)}else n===27?(n=ne,li(t.type)?(t=pu,pu=null,ne=t):ne=n):ne=Ee?ln(t.stateNode.nextSibling):null;return!0}function Si(){ne=Ee=null,Ht=!1}function Ja(){var t=Fn;return t!==null&&(Ge===null?Ge=t:Ge.push.apply(Ge,t),Fn=null),t}function Vo(t){Fn===null?Fn=[t]:Fn.push(t)}var Ka=N(null),Ei=null,An=null;function Jn(t,n,l){$(Ka,n._currentValue),n._currentValue=l}function bn(t){t._currentValue=Ka.current,U(Ka)}function Xa(t,n,l){for(;t!==null;){var s=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),t===l)break;t=t.return}}function Za(t,n,l,s){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;t:for(;y!==null;){var x=y;y=m;for(var O=0;O<n.length;O++)if(x.context===n[O]){y.lanes|=l,x=y.alternate,x!==null&&(x.lanes|=l),Xa(y.return,l,t),s||(E=null);break t}y=x.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(r(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Xa(E,l,t),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===t){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function ji(t,n,l,s){t=null;for(var m=n,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var x=m.type;Oe(m.pendingProps.value,E.value)||(t!==null?t.push(x):t=[x])}}else if(m===Nt.current){if(E=m.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}m=m.return}t!==null&&Za(n,t,l,s),n.flags|=262144}function Jl(t){for(t=t.firstContext;t!==null;){if(!Oe(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ci(t){Ei=t,An=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ce(t){return df(Ei,t)}function Kl(t,n){return Ei===null&&Ci(t),df(t,n)}function df(t,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},An===null){if(t===null)throw Error(r(308));An=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else An=An.next=n;return l}var Yy=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(l,s){t.push(s)}};this.abort=function(){n.aborted=!0,t.forEach(function(l){return l()})}},Jy=i.unstable_scheduleCallback,Ky=i.unstable_NormalPriority,ce={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qa(){return{controller:new Yy,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&Jy(Ky,function(){t.controller.abort()})}var Yo=null,Wa=0,to=0,eo=null;function Xy(t,n){if(Yo===null){var l=Yo=[];Wa=0,to=tu(),eo={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Wa++,n.then(hf,hf),n}function hf(){if(--Wa===0&&Yo!==null){eo!==null&&(eo.status="fulfilled");var t=Yo;Yo=null,to=0,eo=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Zy(t,n){var l=[],s={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return t.then(function(){s.status="fulfilled",s.value=n;for(var m=0;m<l.length;m++)(0,l[m])(n)},function(m){for(s.status="rejected",s.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),s}var pf=X.S;X.S=function(t,n){Wd=Tt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Xy(t,n),pf!==null&&pf(t,n)};var Ai=N(null);function $a(){var t=Ai.current;return t!==null?t:ee.pooledCache}function Xl(t,n){n===null?$(Ai,Ai.current):$(Ai,n.pool)}function mf(){var t=$a();return t===null?null:{parent:ce._currentValue,pool:t}}var no=Error(r(460)),ja=Error(r(474)),Zl=Error(r(542)),Ql={then:function(){}};function gf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function yf(t,n,l){switch(l=t[l],l===void 0?t.push(n):l!==n&&(n.then(Tn,Tn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_f(t),t;default:if(typeof n.status=="string")n.then(Tn,Tn);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(s){if(n.status==="pending"){var m=n;m.status="fulfilled",m.value=s}},function(s){if(n.status==="pending"){var m=n;m.status="rejected",m.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,_f(t),t}throw Ri=n,no}}function bi(t){try{var n=t._init;return n(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ri=l,no):l}}var Ri=null;function vf(){if(Ri===null)throw Error(r(459));var t=Ri;return Ri=null,t}function _f(t){if(t===no||t===Zl)throw Error(r(483))}var io=null,Jo=0;function Wl(t){var n=Jo;return Jo+=1,io===null&&(io=[]),yf(io,t,n)}function Ko(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function $l(t,n){throw n.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tf(t){function n(J,q){if(t){var Q=J.deletions;Q===null?(J.deletions=[q],J.flags|=16):Q.push(q)}}function l(J,q){if(!t)return null;for(;q!==null;)n(J,q),q=q.sibling;return null}function s(J){for(var q=new Map;J!==null;)J.key!==null?q.set(J.key,J):q.set(J.index,J),J=J.sibling;return q}function m(J,q){return J=En(J,q),J.index=0,J.sibling=null,J}function y(J,q,Q){return J.index=Q,t?(Q=J.alternate,Q!==null?(Q=Q.index,Q<q?(J.flags|=67108866,q):Q):(J.flags|=67108866,q)):(J.flags|=1048576,q)}function E(J){return t&&J.alternate===null&&(J.flags|=67108866),J}function x(J,q,Q,ct){return q===null||q.tag!==6?(q=Pa(Q,J.mode,ct),q.return=J,q):(q=m(q,Q),q.return=J,q)}function O(J,q,Q,ct){var wt=Q.type;return wt===A?st(J,q,Q.props.children,ct,Q.key):q!==null&&(q.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===lt&&bi(wt)===q.type)?(q=m(q,Q.props),Ko(q,Q),q.return=J,q):(q=Fl(Q.type,Q.key,Q.props,null,J.mode,ct),Ko(q,Q),q.return=J,q)}function W(J,q,Q,ct){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=qa(Q,J.mode,ct),q.return=J,q):(q=m(q,Q.children||[]),q.return=J,q)}function st(J,q,Q,ct,wt){return q===null||q.tag!==7?(q=Ti(Q,J.mode,ct,wt),q.return=J,q):(q=m(q,Q),q.return=J,q)}function dt(J,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Pa(""+q,J.mode,Q),q.return=J,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return Q=Fl(q.type,q.key,q.props,null,J.mode,Q),Ko(Q,q),Q.return=J,Q;case b:return q=qa(q,J.mode,Q),q.return=J,q;case lt:return q=bi(q),dt(J,q,Q)}if(at(q)||z(q))return q=Ti(q,J.mode,Q,null),q.return=J,q;if(typeof q.then=="function")return dt(J,Wl(q),Q);if(q.$$typeof===D)return dt(J,Kl(J,q),Q);$l(J,q)}return null}function tt(J,q,Q,ct){var wt=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return wt!==null?null:x(J,q,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===wt?O(J,q,Q,ct):null;case b:return Q.key===wt?W(J,q,Q,ct):null;case lt:return Q=bi(Q),tt(J,q,Q,ct)}if(at(Q)||z(Q))return wt!==null?null:st(J,q,Q,ct,null);if(typeof Q.then=="function")return tt(J,q,Wl(Q),ct);if(Q.$$typeof===D)return tt(J,q,Kl(J,Q),ct);$l(J,Q)}return null}function it(J,q,Q,ct,wt){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return J=J.get(Q)||null,x(q,J,""+ct,wt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case S:return J=J.get(ct.key===null?Q:ct.key)||null,O(q,J,ct,wt);case b:return J=J.get(ct.key===null?Q:ct.key)||null,W(q,J,ct,wt);case lt:return ct=bi(ct),it(J,q,Q,ct,wt)}if(at(ct)||z(ct))return J=J.get(Q)||null,st(q,J,ct,wt,null);if(typeof ct.then=="function")return it(J,q,Q,Wl(ct),wt);if(ct.$$typeof===D)return it(J,q,Q,Kl(q,ct),wt);$l(q,ct)}return null}function Ct(J,q,Q,ct){for(var wt=null,qt=null,At=q,kt=q=0,Ot=null;At!==null&&kt<Q.length;kt++){At.index>kt?(Ot=At,At=null):Ot=At.sibling;var Vt=tt(J,At,Q[kt],ct);if(Vt===null){At===null&&(At=Ot);break}t&&At&&Vt.alternate===null&&n(J,At),q=y(Vt,q,kt),qt===null?wt=Vt:qt.sibling=Vt,qt=Vt,At=Ot}if(kt===Q.length)return l(J,At),Ht&&Cn(J,kt),wt;if(At===null){for(;kt<Q.length;kt++)At=dt(J,Q[kt],ct),At!==null&&(q=y(At,q,kt),qt===null?wt=At:qt.sibling=At,qt=At);return Ht&&Cn(J,kt),wt}for(At=s(At);kt<Q.length;kt++)Ot=it(At,J,kt,Q[kt],ct),Ot!==null&&(t&&Ot.alternate!==null&&At.delete(Ot.key===null?kt:Ot.key),q=y(Ot,q,kt),qt===null?wt=Ot:qt.sibling=Ot,qt=Ot);return t&&At.forEach(function(ci){return n(J,ci)}),Ht&&Cn(J,kt),wt}function xt(J,q,Q,ct){if(Q==null)throw Error(r(151));for(var wt=null,qt=null,At=q,kt=q=0,Ot=null,Vt=Q.next();At!==null&&!Vt.done;kt++,Vt=Q.next()){At.index>kt?(Ot=At,At=null):Ot=At.sibling;var ci=tt(J,At,Vt.value,ct);if(ci===null){At===null&&(At=Ot);break}t&&At&&ci.alternate===null&&n(J,At),q=y(ci,q,kt),qt===null?wt=ci:qt.sibling=ci,qt=ci,At=Ot}if(Vt.done)return l(J,At),Ht&&Cn(J,kt),wt;if(At===null){for(;!Vt.done;kt++,Vt=Q.next())Vt=dt(J,Vt.value,ct),Vt!==null&&(q=y(Vt,q,kt),qt===null?wt=Vt:qt.sibling=Vt,qt=Vt);return Ht&&Cn(J,kt),wt}for(At=s(At);!Vt.done;kt++,Vt=Q.next())Vt=it(At,J,kt,Vt.value,ct),Vt!==null&&(t&&Vt.alternate!==null&&At.delete(Vt.key===null?kt:Vt.key),q=y(Vt,q,kt),qt===null?wt=Vt:qt.sibling=Vt,qt=Vt);return t&&At.forEach(function(r0){return n(J,r0)}),Ht&&Cn(J,kt),wt}function jt(J,q,Q,ct){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:t:{for(var wt=Q.key;q!==null;){if(q.key===wt){if(wt=Q.type,wt===A){if(q.tag===7){l(J,q.sibling),ct=m(q,Q.props.children),ct.return=J,J=ct;break t}}else if(q.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===lt&&bi(wt)===q.type){l(J,q.sibling),ct=m(q,Q.props),Ko(ct,Q),ct.return=J,J=ct;break t}l(J,q);break}else n(J,q);q=q.sibling}Q.type===A?(ct=Ti(Q.props.children,J.mode,ct,Q.key),ct.return=J,J=ct):(ct=Fl(Q.type,Q.key,Q.props,null,J.mode,ct),Ko(ct,Q),ct.return=J,J=ct)}return E(J);case b:t:{for(wt=Q.key;q!==null;){if(q.key===wt)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){l(J,q.sibling),ct=m(q,Q.children||[]),ct.return=J,J=ct;break t}else{l(J,q);break}else n(J,q);q=q.sibling}ct=qa(Q,J.mode,ct),ct.return=J,J=ct}return E(J);case lt:return Q=bi(Q),jt(J,q,Q,ct)}if(at(Q))return Ct(J,q,Q,ct);if(z(Q)){if(wt=z(Q),typeof wt!="function")throw Error(r(150));return Q=wt.call(Q),xt(J,q,Q,ct)}if(typeof Q.then=="function")return jt(J,q,Wl(Q),ct);if(Q.$$typeof===D)return jt(J,q,Kl(J,Q),ct);$l(J,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,q!==null&&q.tag===6?(l(J,q.sibling),ct=m(q,Q),ct.return=J,J=ct):(l(J,q),ct=Pa(Q,J.mode,ct),ct.return=J,J=ct),E(J)):l(J,q)}return function(J,q,Q,ct){try{Jo=0;var wt=jt(J,q,Q,ct);return io=null,wt}catch(At){if(At===no||At===Zl)throw At;var qt=He(29,At,null,J.mode);return qt.lanes=ct,qt.return=J,qt}finally{}}}var wi=Tf(!0),Sf=Tf(!1),Kn=!1;function ts(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function es(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Zn(t,n,l){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(Yt&2)!==0){var m=s.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),s.pending=n,n=Vl(t),of(t,null,l),n}return ql(t,s,n,l),Vl(t)}function Xo(t,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=t.pendingLanes,l|=s,n.lanes=l,fc(t,l)}}function ns(t,n){var l=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?m=y=n:y=y.next=n}else m=y=n;l={baseState:s.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:s.shared,callbacks:s.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=n:t.next=n,l.lastBaseUpdate=n}var is=!1;function Zo(){if(is){var t=eo;if(t!==null)throw t}}function Qo(t,n,l,s){is=!1;var m=t.updateQueue;Kn=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,x=m.shared.pending;if(x!==null){m.shared.pending=null;var O=x,W=O.next;O.next=null,E===null?y=W:E.next=W,E=O;var st=t.alternate;st!==null&&(st=st.updateQueue,x=st.lastBaseUpdate,x!==E&&(x===null?st.firstBaseUpdate=W:x.next=W,st.lastBaseUpdate=O))}if(y!==null){var dt=m.baseState;E=0,st=W=O=null,x=y;do{var tt=x.lane&-536870913,it=tt!==x.lane;if(it?(Bt&tt)===tt:(s&tt)===tt){tt!==0&&tt===to&&(is=!0),st!==null&&(st=st.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Ct=t,xt=x;tt=n;var jt=l;switch(xt.tag){case 1:if(Ct=xt.payload,typeof Ct=="function"){dt=Ct.call(jt,dt,tt);break t}dt=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=xt.payload,tt=typeof Ct=="function"?Ct.call(jt,dt,tt):Ct,tt==null)break t;dt=_({},dt,tt);break t;case 2:Kn=!0}}tt=x.callback,tt!==null&&(t.flags|=64,it&&(t.flags|=8192),it=m.callbacks,it===null?m.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:x.tag,payload:x.payload,callback:x.callback,next:null},st===null?(W=st=it,O=dt):st=st.next=it,E|=tt;if(x=x.next,x===null){if(x=m.shared.pending,x===null)break;it=x,x=it.next,it.next=null,m.lastBaseUpdate=it,m.shared.pending=null}}while(!0);st===null&&(O=dt),m.baseState=O,m.firstBaseUpdate=W,m.lastBaseUpdate=st,y===null&&(m.shared.lanes=0),ti|=E,t.lanes=E,t.memoizedState=dt}}function Ef(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Cf(t,n){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Ef(l[t],n)}var oo=N(null),jl=N(0);function Af(t,n){t=kn,$(jl,t),$(oo,n),kn=t|n.baseLanes}function os(){$(jl,kn),$(oo,oo.current)}function ls(){kn=jl.current,U(oo),U(jl)}var Pe=N(null),on=null;function Qn(t){var n=t.alternate;$(se,se.current&1),$(Pe,t),on===null&&(n===null||oo.current!==null||n.memoizedState!==null)&&(on=t)}function rs(t){$(se,se.current),$(Pe,t),on===null&&(on=t)}function bf(t){t.tag===22?($(se,se.current),$(Pe,t),on===null&&(on=t)):Wn()}function Wn(){$(se,se.current),$(Pe,Pe.current)}function qe(t){U(Pe),on===t&&(on=null),U(se)}var se=N(0);function tr(t){for(var n=t;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||du(l)||hu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Rn=0,Ut=null,Wt=null,fe=null,er=!1,lo=!1,Mi=!1,nr=0,Wo=0,ro=null,Qy=0;function re(){throw Error(r(321))}function as(t,n){if(n===null)return!1;for(var l=0;l<n.length&&l<t.length;l++)if(!Oe(t[l],n[l]))return!1;return!0}function ss(t,n,l,s,m,y){return Rn=y,Ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?sd:Cs,Mi=!1,y=l(s,m),Mi=!1,lo&&(y=wf(n,l,s,m)),Rf(t),y}function Rf(t){X.H=tl;var n=Wt!==null&&Wt.next!==null;if(Rn=0,fe=Wt=Ut=null,er=!1,Wo=0,ro=null,n)throw Error(r(300));t===null||de||(t=t.dependencies,t!==null&&Jl(t)&&(de=!0))}function wf(t,n,l,s){Ut=t;var m=0;do{if(lo&&(ro=null),Wo=0,lo=!1,25<=m)throw Error(r(301));if(m+=1,fe=Wt=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}X.H=ud,y=n(l,s)}while(lo);return y}function Wy(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?$o(n):n,t=t.useState()[0],(Wt!==null?Wt.memoizedState:null)!==t&&(Ut.flags|=1024),n}function us(){var t=nr!==0;return nr=0,t}function cs(t,n,l){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~l}function fs(t){if(er){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}er=!1}Rn=0,fe=Wt=Ut=null,lo=!1,Wo=nr=0,ro=null}function we(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Ut.memoizedState=fe=t:fe=fe.next=t,fe}function ue(){if(Wt===null){var t=Ut.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var n=fe===null?Ut.memoizedState:fe.next;if(n!==null)fe=n,Wt=t;else{if(t===null)throw Ut.alternate===null?Error(r(467)):Error(r(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},fe===null?Ut.memoizedState=fe=t:fe=fe.next=t}return fe}function ir(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(t){var n=Wo;return Wo+=1,ro===null&&(ro=[]),t=yf(ro,t,n),n=Ut,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?sd:Cs),t}function or(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return $o(t);if(t.$$typeof===D)return Ce(t)}throw Error(r(438,String(t)))}function ds(t){var n=null,l=Ut.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=Ut.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(m){return m.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=ir(),Ut.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(t),s=0;s<t;s++)l[s]=ut;return n.index++,l}function wn(t,n){return typeof n=="function"?n(t):n}function lr(t){var n=ue();return hs(n,Wt,t)}function hs(t,n,l){var s=t.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=l;var m=t.baseQueue,y=s.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}n.baseQueue=m=y,s.pending=null}if(y=t.baseState,m===null)t.memoizedState=y;else{n=m.next;var x=E=null,O=null,W=n,st=!1;do{var dt=W.lane&-536870913;if(dt!==W.lane?(Bt&dt)===dt:(Rn&dt)===dt){var tt=W.revertLane;if(tt===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),dt===to&&(st=!0);else if((Rn&tt)===tt){W=W.next,tt===to&&(st=!0);continue}else dt={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(x=O=dt,E=y):O=O.next=dt,Ut.lanes|=tt,ti|=tt;dt=W.action,Mi&&l(y,dt),y=W.hasEagerState?W.eagerState:l(y,dt)}else tt={lane:dt,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},O===null?(x=O=tt,E=y):O=O.next=tt,Ut.lanes|=dt,ti|=dt;W=W.next}while(W!==null&&W!==n);if(O===null?E=y:O.next=x,!Oe(y,t.memoizedState)&&(de=!0,st&&(l=eo,l!==null)))throw l;t.memoizedState=y,t.baseState=E,t.baseQueue=O,s.lastRenderedState=y}return m===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function ps(t){var n=ue(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=t;var s=l.dispatch,m=l.pending,y=n.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do y=t(y,E.action),E=E.next;while(E!==m);Oe(y,n.memoizedState)||(de=!0),n.memoizedState=y,n.baseQueue===null&&(n.baseState=y),l.lastRenderedState=y}return[y,s]}function Mf(t,n,l){var s=Ut,m=ue(),y=Ht;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=n();var E=!Oe((Wt||m).memoizedState,l);if(E&&(m.memoizedState=l,de=!0),m=m.queue,ys(If.bind(null,s,m,t),[t]),m.getSnapshot!==n||E||fe!==null&&fe.memoizedState.tag&1){if(s.flags|=2048,ao(9,{destroy:void 0},xf.bind(null,s,m,l,n),null),ee===null)throw Error(r(349));y||(Rn&127)!==0||Nf(s,n,l)}return l}function Nf(t,n,l){t.flags|=16384,t={getSnapshot:n,value:l},n=Ut.updateQueue,n===null?(n=ir(),Ut.updateQueue=n,n.stores=[t]):(l=n.stores,l===null?n.stores=[t]:l.push(t))}function xf(t,n,l,s){n.value=l,n.getSnapshot=s,Df(n)&&Uf(t)}function If(t,n,l){return l(function(){Df(n)&&Uf(t)})}function Df(t){var n=t.getSnapshot;t=t.value;try{var l=n();return!Oe(t,l)}catch{return!0}}function Uf(t){var n=_i(t,2);n!==null&&Be(n,t,2)}function ms(t){var n=we();if(typeof t=="function"){var l=t;if(t=l(),Mi){Xe(!0);try{l()}finally{Xe(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:t},n}function kf(t,n,l,s){return t.baseState=l,hs(t,Wt,typeof s=="function"?s:wn)}function $y(t,n,l,s,m){if(sr(t))throw Error(r(485));if(t=n.action,t!==null){var y={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};X.T!==null?l(!0):y.isTransition=!1,s(y),l=n.pending,l===null?(y.next=n.pending=y,Lf(n,y)):(y.next=l.next,n.pending=l.next=y)}}function Lf(t,n){var l=n.action,s=n.payload,m=t.state;if(n.isTransition){var y=X.T,E={};X.T=E;try{var x=l(m,s),O=X.S;O!==null&&O(E,x),zf(t,n,x)}catch(W){gs(t,n,W)}finally{y!==null&&E.types!==null&&(y.types=E.types),X.T=y}}else try{y=l(m,s),zf(t,n,y)}catch(W){gs(t,n,W)}}function zf(t,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Gf(t,n,s)},function(s){return gs(t,n,s)}):Gf(t,n,l)}function Gf(t,n,l){n.status="fulfilled",n.value=l,Bf(n),t.state=l,n=t.pending,n!==null&&(l=n.next,l===n?t.pending=null:(l=l.next,n.next=l,Lf(t,l)))}function gs(t,n,l){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Bf(n),n=n.next;while(n!==s)}t.action=null}function Bf(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Of(t,n){return n}function Hf(t,n){if(Ht){var l=ee.formState;if(l!==null){t:{var s=Ut;if(Ht){if(ne){e:{for(var m=ne,y=nn;m.nodeType!==8;){if(!y){m=null;break e}if(m=ln(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){ne=ln(m.nextSibling),s=m.data==="F!";break t}}Yn(s)}s=!1}s&&(n=l[0])}}return l=we(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Of,lastRenderedState:n},l.queue=s,l=ld.bind(null,Ut,s),s.dispatch=l,s=ms(!1),y=Es.bind(null,Ut,!1,s.queue),s=we(),m={state:n,dispatch:null,action:t,pending:null},s.queue=m,l=$y.bind(null,Ut,m,y,l),m.dispatch=l,s.memoizedState=t,[n,l,!1]}function Pf(t){var n=ue();return qf(n,Wt,t)}function qf(t,n,l){if(n=hs(t,n,Of)[0],t=lr(wn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=$o(n)}catch(E){throw E===no?Zl:E}else s=n;n=ue();var m=n.queue,y=m.dispatch;return l!==n.memoizedState&&(Ut.flags|=2048,ao(9,{destroy:void 0},jy.bind(null,m,l),null)),[s,y,t]}function jy(t,n){t.action=n}function Vf(t){var n=ue(),l=Wt;if(l!==null)return qf(n,l,t);ue(),n=n.memoizedState,l=ue();var s=l.queue.dispatch;return l.memoizedState=t,[n,s,!1]}function ao(t,n,l,s){return t={tag:t,create:l,deps:s,inst:n,next:null},n=Ut.updateQueue,n===null&&(n=ir(),Ut.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=t.next=t:(s=l.next,l.next=t,t.next=s,n.lastEffect=t),t}function Ff(){return ue().memoizedState}function rr(t,n,l,s){var m=we();Ut.flags|=t,m.memoizedState=ao(1|n,{destroy:void 0},l,s===void 0?null:s)}function ar(t,n,l,s){var m=ue();s=s===void 0?null:s;var y=m.memoizedState.inst;Wt!==null&&s!==null&&as(s,Wt.memoizedState.deps)?m.memoizedState=ao(n,y,l,s):(Ut.flags|=t,m.memoizedState=ao(1|n,y,l,s))}function Yf(t,n){rr(8390656,8,t,n)}function ys(t,n){ar(2048,8,t,n)}function tv(t){Ut.flags|=4;var n=Ut.updateQueue;if(n===null)n=ir(),Ut.updateQueue=n,n.events=[t];else{var l=n.events;l===null?n.events=[t]:l.push(t)}}function Jf(t){var n=ue().memoizedState;return tv({ref:n,nextImpl:t}),function(){if((Yt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Kf(t,n){return ar(4,2,t,n)}function Xf(t,n){return ar(4,4,t,n)}function Zf(t,n){if(typeof n=="function"){t=t();var l=n(t);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qf(t,n,l){l=l!=null?l.concat([t]):null,ar(4,4,Zf.bind(null,n,t),l)}function vs(){}function Wf(t,n){var l=ue();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&as(n,s[1])?s[0]:(l.memoizedState=[t,n],t)}function $f(t,n){var l=ue();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&as(n,s[1]))return s[0];if(s=t(),Mi){Xe(!0);try{t()}finally{Xe(!1)}}return l.memoizedState=[s,n],s}function _s(t,n,l){return l===void 0||(Rn&1073741824)!==0&&(Bt&261930)===0?t.memoizedState=n:(t.memoizedState=l,t=jd(),Ut.lanes|=t,ti|=t,l)}function jf(t,n,l,s){return Oe(l,n)?l:oo.current!==null?(t=_s(t,l,s),Oe(t,n)||(de=!0),t):(Rn&42)===0||(Rn&1073741824)!==0&&(Bt&261930)===0?(de=!0,t.memoizedState=l):(t=jd(),Ut.lanes|=t,ti|=t,n)}function td(t,n,l,s,m){var y=Y.p;Y.p=y!==0&&8>y?y:8;var E=X.T,x={};X.T=x,Es(t,!1,n,l);try{var O=m(),W=X.S;if(W!==null&&W(x,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var st=Zy(O,s);jo(t,n,st,Ye(t))}else jo(t,n,s,Ye(t))}catch(dt){jo(t,n,{then:function(){},status:"rejected",reason:dt},Ye())}finally{Y.p=y,E!==null&&x.types!==null&&(E.types=x.types),X.T=E}}function ev(){}function Ts(t,n,l,s){if(t.tag!==5)throw Error(r(476));var m=ed(t).queue;td(t,m,n,mt,l===null?ev:function(){return nd(t),l(s)})}function ed(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:mt},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:l},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function nd(t){var n=ed(t);n.next===null&&(n=t.alternate.memoizedState),jo(t,n.next.queue,{},Ye())}function Ss(){return Ce(gl)}function id(){return ue().memoizedState}function od(){return ue().memoizedState}function nv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var l=Ye();t=Xn(l);var s=Zn(n,t,l);s!==null&&(Be(s,n,l),Xo(s,n,l)),n={cache:Qa()},t.payload=n;return}n=n.return}}function iv(t,n,l){var s=Ye();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},sr(t)?rd(n,l):(l=Oa(t,n,l,s),l!==null&&(Be(l,t,s),ad(l,n,s)))}function ld(t,n,l){var s=Ye();jo(t,n,l,s)}function jo(t,n,l,s){var m={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(sr(t))rd(n,m);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=n.lastRenderedReducer,y!==null))try{var E=n.lastRenderedState,x=y(E,l);if(m.hasEagerState=!0,m.eagerState=x,Oe(x,E))return ql(t,n,m,0),ee===null&&Pl(),!1}catch{}finally{}if(l=Oa(t,n,m,s),l!==null)return Be(l,t,s),ad(l,n,s),!0}return!1}function Es(t,n,l,s){if(s={lane:2,revertLane:tu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},sr(t)){if(n)throw Error(r(479))}else n=Oa(t,l,s,2),n!==null&&Be(n,t,2)}function sr(t){var n=t.alternate;return t===Ut||n!==null&&n===Ut}function rd(t,n){lo=er=!0;var l=t.pending;l===null?n.next=n:(n.next=l.next,l.next=n),t.pending=n}function ad(t,n,l){if((l&4194048)!==0){var s=n.lanes;s&=t.pendingLanes,l|=s,n.lanes=l,fc(t,l)}}var tl={readContext:Ce,use:or,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};tl.useEffectEvent=re;var sd={readContext:Ce,use:or,useCallback:function(t,n){return we().memoizedState=[t,n===void 0?null:n],t},useContext:Ce,useEffect:Yf,useImperativeHandle:function(t,n,l){l=l!=null?l.concat([t]):null,rr(4194308,4,Zf.bind(null,n,t),l)},useLayoutEffect:function(t,n){return rr(4194308,4,t,n)},useInsertionEffect:function(t,n){rr(4,2,t,n)},useMemo:function(t,n){var l=we();n=n===void 0?null:n;var s=t();if(Mi){Xe(!0);try{t()}finally{Xe(!1)}}return l.memoizedState=[s,n],s},useReducer:function(t,n,l){var s=we();if(l!==void 0){var m=l(n);if(Mi){Xe(!0);try{l(n)}finally{Xe(!1)}}}else m=n;return s.memoizedState=s.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},s.queue=t,t=t.dispatch=iv.bind(null,Ut,t),[s.memoizedState,t]},useRef:function(t){var n=we();return t={current:t},n.memoizedState=t},useState:function(t){t=ms(t);var n=t.queue,l=ld.bind(null,Ut,n);return n.dispatch=l,[t.memoizedState,l]},useDebugValue:vs,useDeferredValue:function(t,n){var l=we();return _s(l,t,n)},useTransition:function(){var t=ms(!1);return t=td.bind(null,Ut,t.queue,!0,!1),we().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,l){var s=Ut,m=we();if(Ht){if(l===void 0)throw Error(r(407));l=l()}else{if(l=n(),ee===null)throw Error(r(349));(Bt&127)!==0||Nf(s,n,l)}m.memoizedState=l;var y={value:l,getSnapshot:n};return m.queue=y,Yf(If.bind(null,s,y,t),[t]),s.flags|=2048,ao(9,{destroy:void 0},xf.bind(null,s,y,l,n),null),l},useId:function(){var t=we(),n=ee.identifierPrefix;if(Ht){var l=gn,s=mn;l=(s&~(1<<32-le(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=nr++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Qy++,n="_"+n+"r_"+l.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ss,useFormState:Hf,useActionState:Hf,useOptimistic:function(t){var n=we();n.memoizedState=n.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Es.bind(null,Ut,!0,l),l.dispatch=n,[t,n]},useMemoCache:ds,useCacheRefresh:function(){return we().memoizedState=nv.bind(null,Ut)},useEffectEvent:function(t){var n=we(),l={impl:t};return n.memoizedState=l,function(){if((Yt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Cs={readContext:Ce,use:or,useCallback:Wf,useContext:Ce,useEffect:ys,useImperativeHandle:Qf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:$f,useReducer:lr,useRef:Ff,useState:function(){return lr(wn)},useDebugValue:vs,useDeferredValue:function(t,n){var l=ue();return jf(l,Wt.memoizedState,t,n)},useTransition:function(){var t=lr(wn)[0],n=ue().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:Mf,useId:id,useHostTransitionStatus:Ss,useFormState:Pf,useActionState:Pf,useOptimistic:function(t,n){var l=ue();return kf(l,Wt,t,n)},useMemoCache:ds,useCacheRefresh:od};Cs.useEffectEvent=Jf;var ud={readContext:Ce,use:or,useCallback:Wf,useContext:Ce,useEffect:ys,useImperativeHandle:Qf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:$f,useReducer:ps,useRef:Ff,useState:function(){return ps(wn)},useDebugValue:vs,useDeferredValue:function(t,n){var l=ue();return Wt===null?_s(l,t,n):jf(l,Wt.memoizedState,t,n)},useTransition:function(){var t=ps(wn)[0],n=ue().memoizedState;return[typeof t=="boolean"?t:$o(t),n]},useSyncExternalStore:Mf,useId:id,useHostTransitionStatus:Ss,useFormState:Vf,useActionState:Vf,useOptimistic:function(t,n){var l=ue();return Wt!==null?kf(l,Wt,t,n):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:ds,useCacheRefresh:od};ud.useEffectEvent=Jf;function As(t,n,l,s){n=t.memoizedState,l=l(s,n),l=l==null?n:_({},n,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var bs={enqueueSetState:function(t,n,l){t=t._reactInternals;var s=Ye(),m=Xn(s);m.payload=n,l!=null&&(m.callback=l),n=Zn(t,m,s),n!==null&&(Be(n,t,s),Xo(n,t,s))},enqueueReplaceState:function(t,n,l){t=t._reactInternals;var s=Ye(),m=Xn(s);m.tag=1,m.payload=n,l!=null&&(m.callback=l),n=Zn(t,m,s),n!==null&&(Be(n,t,s),Xo(n,t,s))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var l=Ye(),s=Xn(l);s.tag=2,n!=null&&(s.callback=n),n=Zn(t,s,l),n!==null&&(Be(n,t,l),Xo(n,t,l))}};function cd(t,n,l,s,m,y,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,y,E):n.prototype&&n.prototype.isPureReactComponent?!Ho(l,s)||!Ho(m,y):!0}function fd(t,n,l,s){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==t&&bs.enqueueReplaceState(n,n.state,null)}function Ni(t,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(t=t.defaultProps){l===n&&(l=_({},l));for(var m in t)l[m]===void 0&&(l[m]=t[m])}return l}function dd(t){Hl(t)}function hd(t){console.error(t)}function pd(t){Hl(t)}function ur(t,n){try{var l=t.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function md(t,n,l){try{var s=t.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Rs(t,n,l){return l=Xn(l),l.tag=3,l.payload={element:null},l.callback=function(){ur(t,n)},l}function gd(t){return t=Xn(t),t.tag=3,t}function yd(t,n,l,s){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=s.value;t.payload=function(){return m(y)},t.callback=function(){md(n,l,s)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){md(n,l,s),typeof m!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function ov(t,n,l,s,m){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&ji(n,l,m,!0),l=Pe.current,l!==null){switch(l.tag){case 31:case 13:return on===null?Sr():l.alternate===null&&ae===0&&(ae=3),l.flags&=-257,l.flags|=65536,l.lanes=m,s===Ql?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Ws(t,s,m)),!1;case 22:return l.flags|=65536,s===Ql?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Ws(t,s,m)),!1}throw Error(r(435,l.tag))}return Ws(t,s,m),Sr(),!1}if(Ht)return n=Pe.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=m,s!==Ya&&(t=Error(r(422),{cause:s}),Vo(je(t,l)))):(s!==Ya&&(n=Error(r(423),{cause:s}),Vo(je(n,l))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,s=je(s,l),m=Rs(t.stateNode,s,m),ns(t,m),ae!==4&&(ae=2)),!1;var y=Error(r(520),{cause:s});if(y=je(y,l),sl===null?sl=[y]:sl.push(y),ae!==4&&(ae=2),n===null)return!0;s=je(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,t=m&-m,l.lanes|=t,t=Rs(l.stateNode,s,t),ns(l,t),!1;case 1:if(n=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ei===null||!ei.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=gd(m),yd(m,t,l,s),ns(l,m),!1}l=l.return}while(l!==null);return!1}var ws=Error(r(461)),de=!1;function Ae(t,n,l,s){n.child=t===null?Sf(n,null,l,s):wi(n,t.child,l,s)}function vd(t,n,l,s,m){l=l.render;var y=n.ref;if("ref"in s){var E={};for(var x in s)x!=="ref"&&(E[x]=s[x])}else E=s;return Ci(n),s=ss(t,n,l,E,y,m),x=us(),t!==null&&!de?(cs(t,n,m),Mn(t,n,m)):(Ht&&x&&Va(n),n.flags|=1,Ae(t,n,s,m),n.child)}function _d(t,n,l,s,m){if(t===null){var y=l.type;return typeof y=="function"&&!Ha(y)&&y.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=y,Td(t,n,y,s,m)):(t=Fl(l.type,null,s,n,n.mode,m),t.ref=n.ref,t.return=n,n.child=t)}if(y=t.child,!Ls(t,m)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ho,l(E,s)&&t.ref===n.ref)return Mn(t,n,m)}return n.flags|=1,t=En(y,s),t.ref=n.ref,t.return=n,n.child=t}function Td(t,n,l,s,m){if(t!==null){var y=t.memoizedProps;if(Ho(y,s)&&t.ref===n.ref)if(de=!1,n.pendingProps=s=y,Ls(t,m))(t.flags&131072)!==0&&(de=!0);else return n.lanes=t.lanes,Mn(t,n,m)}return Ms(t,n,l,s,m)}function Sd(t,n,l,s){var m=s.children,y=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,t!==null){for(s=n.child=t.child,m=0;s!==null;)m=m|s.lanes|s.childLanes,s=s.sibling;s=m&~y}else s=0,n.child=null;return Ed(t,n,y,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xl(n,y!==null?y.cachePool:null),y!==null?Af(n,y):os(),bf(n);else return s=n.lanes=536870912,Ed(t,n,y!==null?y.baseLanes|l:l,l,s)}else y!==null?(Xl(n,y.cachePool),Af(n,y),Wn(),n.memoizedState=null):(t!==null&&Xl(n,null),os(),Wn());return Ae(t,n,m,l),n.child}function el(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ed(t,n,l,s,m){var y=$a();return y=y===null?null:{parent:ce._currentValue,pool:y},n.memoizedState={baseLanes:l,cachePool:y},t!==null&&Xl(n,null),os(),bf(n),t!==null&&ji(t,n,s,!0),n.childLanes=m,null}function cr(t,n){return n=dr({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Cd(t,n,l){return wi(n,t.child,null,l),t=cr(n,n.pendingProps),t.flags|=2,qe(n),n.memoizedState=null,t}function lv(t,n,l){var s=n.pendingProps,m=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ht){if(s.mode==="hidden")return t=cr(n,s),n.lanes=536870912,el(null,t);if(rs(n),(t=ne)?(t=Lh(t,nn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vn!==null?{id:mn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},l=rf(t),l.return=n,n.child=l,Ee=n,ne=null)):t=null,t===null)throw Yn(n);return n.lanes=536870912,null}return cr(n,s)}var y=t.memoizedState;if(y!==null){var E=y.dehydrated;if(rs(n),m)if(n.flags&256)n.flags&=-257,n=Cd(t,n,l);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(de||ji(t,n,l,!1),m=(l&t.childLanes)!==0,de||m){if(s=ee,s!==null&&(E=dc(s,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,_i(t,E),Be(s,t,E),ws;Sr(),n=Cd(t,n,l)}else t=y.treeContext,ne=ln(E.nextSibling),Ee=n,Ht=!0,Fn=null,nn=!1,t!==null&&uf(n,t),n=cr(n,s),n.flags|=4096;return n}return t=En(t.child,{mode:s.mode,children:s.children}),t.ref=n.ref,n.child=t,t.return=n,t}function fr(t,n){var l=n.ref;if(l===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(t===null||t.ref!==l)&&(n.flags|=4194816)}}function Ms(t,n,l,s,m){return Ci(n),l=ss(t,n,l,s,void 0,m),s=us(),t!==null&&!de?(cs(t,n,m),Mn(t,n,m)):(Ht&&s&&Va(n),n.flags|=1,Ae(t,n,l,m),n.child)}function Ad(t,n,l,s,m,y){return Ci(n),n.updateQueue=null,l=wf(n,s,l,m),Rf(t),s=us(),t!==null&&!de?(cs(t,n,y),Mn(t,n,y)):(Ht&&s&&Va(n),n.flags|=1,Ae(t,n,l,y),n.child)}function bd(t,n,l,s,m){if(Ci(n),n.stateNode===null){var y=Zi,E=l.contextType;typeof E=="object"&&E!==null&&(y=Ce(E)),y=new l(s,y),n.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bs,n.stateNode=y,y._reactInternals=n,y=n.stateNode,y.props=s,y.state=n.memoizedState,y.refs={},ts(n),E=l.contextType,y.context=typeof E=="object"&&E!==null?Ce(E):Zi,y.state=n.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(As(n,l,E,s),y.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&bs.enqueueReplaceState(y,y.state,null),Qo(n,s,y,m),Zo(),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(t===null){y=n.stateNode;var x=n.memoizedProps,O=Ni(l,x);y.props=O;var W=y.context,st=l.contextType;E=Zi,typeof st=="object"&&st!==null&&(E=Ce(st));var dt=l.getDerivedStateFromProps;st=typeof dt=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,st||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||W!==E)&&fd(n,y,s,E),Kn=!1;var tt=n.memoizedState;y.state=tt,Qo(n,s,y,m),Zo(),W=n.memoizedState,x||tt!==W||Kn?(typeof dt=="function"&&(As(n,l,dt,s),W=n.memoizedState),(O=Kn||cd(n,l,O,s,tt,W,E))?(st||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=W),y.props=s,y.state=W,y.context=E,s=O):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{y=n.stateNode,es(t,n),E=n.memoizedProps,st=Ni(l,E),y.props=st,dt=n.pendingProps,tt=y.context,W=l.contextType,O=Zi,typeof W=="object"&&W!==null&&(O=Ce(W)),x=l.getDerivedStateFromProps,(W=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==dt||tt!==O)&&fd(n,y,s,O),Kn=!1,tt=n.memoizedState,y.state=tt,Qo(n,s,y,m),Zo();var it=n.memoizedState;E!==dt||tt!==it||Kn||t!==null&&t.dependencies!==null&&Jl(t.dependencies)?(typeof x=="function"&&(As(n,l,x,s),it=n.memoizedState),(st=Kn||cd(n,l,st,s,tt,it,O)||t!==null&&t.dependencies!==null&&Jl(t.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(s,it,O),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(s,it,O)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&tt===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&tt===t.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=it),y.props=s,y.state=it,y.context=O,s=st):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&tt===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&tt===t.memoizedState||(n.flags|=1024),s=!1)}return y=s,fr(t,n),s=(n.flags&128)!==0,y||s?(y=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:y.render(),n.flags|=1,t!==null&&s?(n.child=wi(n,t.child,null,m),n.child=wi(n,null,l,m)):Ae(t,n,l,m),n.memoizedState=y.state,t=n.child):t=Mn(t,n,m),t}function Rd(t,n,l,s){return Si(),n.flags|=256,Ae(t,n,l,s),n.child}var Ns={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xs(t){return{baseLanes:t,cachePool:mf()}}function Is(t,n,l){return t=t!==null?t.childLanes&~l:0,n&&(t|=Fe),t}function wd(t,n,l){var s=n.pendingProps,m=!1,y=(n.flags&128)!==0,E;if((E=y)||(E=t!==null&&t.memoizedState===null?!1:(se.current&2)!==0),E&&(m=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ht){if(m?Qn(n):Wn(),(t=ne)?(t=Lh(t,nn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vn!==null?{id:mn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},l=rf(t),l.return=n,n.child=l,Ee=n,ne=null)):t=null,t===null)throw Yn(n);return hu(t)?n.lanes=32:n.lanes=536870912,null}var x=s.children;return s=s.fallback,m?(Wn(),m=n.mode,x=dr({mode:"hidden",children:x},m),s=Ti(s,m,l,null),x.return=n,s.return=n,x.sibling=s,n.child=x,s=n.child,s.memoizedState=xs(l),s.childLanes=Is(t,E,l),n.memoizedState=Ns,el(null,s)):(Qn(n),Ds(n,x))}var O=t.memoizedState;if(O!==null&&(x=O.dehydrated,x!==null)){if(y)n.flags&256?(Qn(n),n.flags&=-257,n=Us(t,n,l)):n.memoizedState!==null?(Wn(),n.child=t.child,n.flags|=128,n=null):(Wn(),x=s.fallback,m=n.mode,s=dr({mode:"visible",children:s.children},m),x=Ti(x,m,l,null),x.flags|=2,s.return=n,x.return=n,s.sibling=x,n.child=s,wi(n,t.child,null,l),s=n.child,s.memoizedState=xs(l),s.childLanes=Is(t,E,l),n.memoizedState=Ns,n=el(null,s));else if(Qn(n),hu(x)){if(E=x.nextSibling&&x.nextSibling.dataset,E)var W=E.dgst;E=W,s=Error(r(419)),s.stack="",s.digest=E,Vo({value:s,source:null,stack:null}),n=Us(t,n,l)}else if(de||ji(t,n,l,!1),E=(l&t.childLanes)!==0,de||E){if(E=ee,E!==null&&(s=dc(E,l),s!==0&&s!==O.retryLane))throw O.retryLane=s,_i(t,s),Be(E,t,s),ws;du(x)||Sr(),n=Us(t,n,l)}else du(x)?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,ne=ln(x.nextSibling),Ee=n,Ht=!0,Fn=null,nn=!1,t!==null&&uf(n,t),n=Ds(n,s.children),n.flags|=4096);return n}return m?(Wn(),x=s.fallback,m=n.mode,O=t.child,W=O.sibling,s=En(O,{mode:"hidden",children:s.children}),s.subtreeFlags=O.subtreeFlags&65011712,W!==null?x=En(W,x):(x=Ti(x,m,l,null),x.flags|=2),x.return=n,s.return=n,s.sibling=x,n.child=s,el(null,s),s=n.child,x=t.child.memoizedState,x===null?x=xs(l):(m=x.cachePool,m!==null?(O=ce._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=mf(),x={baseLanes:x.baseLanes|l,cachePool:m}),s.memoizedState=x,s.childLanes=Is(t,E,l),n.memoizedState=Ns,el(t.child,s)):(Qn(n),l=t.child,t=l.sibling,l=En(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,t!==null&&(E=n.deletions,E===null?(n.deletions=[t],n.flags|=16):E.push(t)),n.child=l,n.memoizedState=null,l)}function Ds(t,n){return n=dr({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function dr(t,n){return t=He(22,t,null,n),t.lanes=0,t}function Us(t,n,l){return wi(n,t.child,null,l),t=Ds(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Md(t,n,l){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n),Xa(t.return,n,l)}function ks(t,n,l,s,m,y){var E=t.memoizedState;E===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:m,treeForkCount:y}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=s,E.tail=l,E.tailMode=m,E.treeForkCount=y)}function Nd(t,n,l){var s=n.pendingProps,m=s.revealOrder,y=s.tail;s=s.children;var E=se.current,x=(E&2)!==0;if(x?(E=E&1|2,n.flags|=128):E&=1,$(se,E),Ae(t,n,s,l),s=Ht?qo:0,!x&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Md(t,l,n);else if(t.tag===19)Md(t,l,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(l=n.child,m=null;l!==null;)t=l.alternate,t!==null&&tr(t)===null&&(m=l),l=l.sibling;l=m,l===null?(m=n.child,n.child=null):(m=l.sibling,l.sibling=null),ks(n,!1,m,l,y,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=n.child,n.child=null;m!==null;){if(t=m.alternate,t!==null&&tr(t)===null){n.child=m;break}t=m.sibling,m.sibling=l,l=m,m=t}ks(n,!0,l,null,y,s);break;case"together":ks(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function Mn(t,n,l){if(t!==null&&(n.dependencies=t.dependencies),ti|=n.lanes,(l&n.childLanes)===0)if(t!==null){if(ji(t,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,l=En(t,t.pendingProps),n.child=l,l.return=n;t.sibling!==null;)t=t.sibling,l=l.sibling=En(t,t.pendingProps),l.return=n;l.sibling=null}return n.child}function Ls(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jl(t)))}function rv(t,n,l){switch(n.tag){case 3:Mt(n,n.stateNode.containerInfo),Jn(n,ce,t.memoizedState.cache),Si();break;case 27:case 5:Jt(n);break;case 4:Mt(n,n.stateNode.containerInfo);break;case 10:Jn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,rs(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(Qn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?wd(t,n,l):(Qn(n),t=Mn(t,n,l),t!==null?t.sibling:null);Qn(n);break;case 19:var m=(t.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(ji(t,n,l,!1),s=(l&n.childLanes)!==0),m){if(s)return Nd(t,n,l);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$(se,se.current),s)break;return null;case 22:return n.lanes=0,Sd(t,n,l,n.pendingProps);case 24:Jn(n,ce,t.memoizedState.cache)}return Mn(t,n,l)}function xd(t,n,l){if(t!==null)if(t.memoizedProps!==n.pendingProps)de=!0;else{if(!Ls(t,l)&&(n.flags&128)===0)return de=!1,rv(t,n,l);de=(t.flags&131072)!==0}else de=!1,Ht&&(n.flags&1048576)!==0&&sf(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var s=n.pendingProps;if(t=bi(n.elementType),n.type=t,typeof t=="function")Ha(t)?(s=Ni(t,s),n.tag=1,n=bd(null,n,t,s,l)):(n.tag=0,n=Ms(null,n,t,s,l));else{if(t!=null){var m=t.$$typeof;if(m===G){n.tag=11,n=vd(null,n,t,s,l);break t}else if(m===P){n.tag=14,n=_d(null,n,t,s,l);break t}}throw n=w(t)||t,Error(r(306,n,""))}}return n;case 0:return Ms(t,n,n.type,n.pendingProps,l);case 1:return s=n.type,m=Ni(s,n.pendingProps),bd(t,n,s,m,l);case 3:t:{if(Mt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));s=n.pendingProps;var y=n.memoizedState;m=y.element,es(t,n),Qo(n,s,null,l);var E=n.memoizedState;if(s=E.cache,Jn(n,ce,s),s!==y.cache&&Za(n,[ce],l,!0),Zo(),s=E.element,y.isDehydrated)if(y={element:s,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=y,n.memoizedState=y,n.flags&256){n=Rd(t,n,s,l);break t}else if(s!==m){m=je(Error(r(424)),n),Vo(m),n=Rd(t,n,s,l);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ne=ln(t.firstChild),Ee=n,Ht=!0,Fn=null,nn=!0,l=Sf(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Si(),s===m){n=Mn(t,n,l);break t}Ae(t,n,s,l)}n=n.child}return n;case 26:return fr(t,n),t===null?(l=Ph(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ht||(l=n.type,t=n.pendingProps,s=Mr(_t.current).createElement(l),s[Se]=n,s[De]=t,be(s,l,t),ge(s),n.stateNode=s):n.memoizedState=Ph(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Jt(n),t===null&&Ht&&(s=n.stateNode=Bh(n.type,n.pendingProps,_t.current),Ee=n,nn=!0,m=ne,li(n.type)?(pu=m,ne=ln(s.firstChild)):ne=m),Ae(t,n,n.pendingProps.children,l),fr(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ht&&((m=s=ne)&&(s=zv(s,n.type,n.pendingProps,nn),s!==null?(n.stateNode=s,Ee=n,ne=ln(s.firstChild),nn=!1,m=!0):m=!1),m||Yn(n)),Jt(n),m=n.type,y=n.pendingProps,E=t!==null?t.memoizedProps:null,s=y.children,uu(m,y)?s=null:E!==null&&uu(m,E)&&(n.flags|=32),n.memoizedState!==null&&(m=ss(t,n,Wy,null,null,l),gl._currentValue=m),fr(t,n),Ae(t,n,s,l),n.child;case 6:return t===null&&Ht&&((t=l=ne)&&(l=Gv(l,n.pendingProps,nn),l!==null?(n.stateNode=l,Ee=n,ne=null,t=!0):t=!1),t||Yn(n)),null;case 13:return wd(t,n,l);case 4:return Mt(n,n.stateNode.containerInfo),s=n.pendingProps,t===null?n.child=wi(n,null,s,l):Ae(t,n,s,l),n.child;case 11:return vd(t,n,n.type,n.pendingProps,l);case 7:return Ae(t,n,n.pendingProps,l),n.child;case 8:return Ae(t,n,n.pendingProps.children,l),n.child;case 12:return Ae(t,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Jn(n,n.type,s.value),Ae(t,n,s.children,l),n.child;case 9:return m=n.type._context,s=n.pendingProps.children,Ci(n),m=Ce(m),s=s(m),n.flags|=1,Ae(t,n,s,l),n.child;case 14:return _d(t,n,n.type,n.pendingProps,l);case 15:return Td(t,n,n.type,n.pendingProps,l);case 19:return Nd(t,n,l);case 31:return lv(t,n,l);case 22:return Sd(t,n,l,n.pendingProps);case 24:return Ci(n),s=Ce(ce),t===null?(m=$a(),m===null&&(m=ee,y=Qa(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),n.memoizedState={parent:s,cache:m},ts(n),Jn(n,ce,m)):((t.lanes&l)!==0&&(es(t,n),Qo(n,null,null,l),Zo()),m=t.memoizedState,y=n.memoizedState,m.parent!==s?(m={parent:s,cache:s},n.memoizedState=m,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=m),Jn(n,ce,s)):(s=y.cache,Jn(n,ce,s),s!==m.cache&&Za(n,[ce],l,!0))),Ae(t,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Nn(t){t.flags|=4}function zs(t,n,l,s,m){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(ih())t.flags|=8192;else throw Ri=Ql,ja}else t.flags&=-16777217}function Id(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Jh(n))if(ih())t.flags|=8192;else throw Ri=Ql,ja}function hr(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?uc():536870912,t.lanes|=n,fo|=n)}function nl(t,n){if(!Ht)switch(t.tailMode){case"hidden":n=t.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,l=0,s=0;if(n)for(var m=t.child;m!==null;)l|=m.lanes|m.childLanes,s|=m.subtreeFlags&65011712,s|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)l|=m.lanes|m.childLanes,s|=m.subtreeFlags,s|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=s,t.childLanes=l,n}function av(t,n,l){var s=n.pendingProps;switch(Fa(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return l=n.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),bn(ce),bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&($i(n)?Nn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ja())),ie(n),null;case 26:var m=n.type,y=n.memoizedState;return t===null?(Nn(n),y!==null?(ie(n),Id(n,y)):(ie(n),zs(n,m,null,s,l))):y?y!==t.memoizedState?(Nn(n),ie(n),Id(n,y)):(ie(n),n.flags&=-16777217):(t=t.memoizedProps,t!==s&&Nn(n),ie(n),zs(n,m,t,s,l)),null;case 27:if(Kt(n),l=_t.current,m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&Nn(n);else{if(!s){if(n.stateNode===null)throw Error(r(166));return ie(n),null}t=K.current,$i(n)?cf(n):(t=Bh(m,s,l),n.stateNode=t,Nn(n))}return ie(n),null;case 5:if(Kt(n),m=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==s&&Nn(n);else{if(!s){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(y=K.current,$i(n))cf(n);else{var E=Mr(_t.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof s.is=="string"?E.createElement("select",{is:s.is}):E.createElement("select"),s.multiple?y.multiple=!0:s.size&&(y.size=s.size);break;default:y=typeof s.is=="string"?E.createElement(m,{is:s.is}):E.createElement(m)}}y[Se]=n,y[De]=s;t:for(E=n.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===n)break t;for(;E.sibling===null;){if(E.return===null||E.return===n)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}n.stateNode=y;t:switch(be(y,m,s),m){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Nn(n)}}return ie(n),zs(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,l),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==s&&Nn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(r(166));if(t=_t.current,$i(n)){if(t=n.stateNode,l=n.memoizedProps,s=null,m=Ee,m!==null)switch(m.tag){case 27:case 5:s=m.memoizedProps}t[Se]=n,t=!!(t.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||wh(t.nodeValue,l)),t||Yn(n,!0)}else t=Mr(t).createTextNode(s),t[Se]=n,n.stateNode=t}return ie(n),null;case 31:if(l=n.memoizedState,t===null||t.memoizedState!==null){if(s=$i(n),l!==null){if(t===null){if(!s)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Se]=n}else Si(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),t=!1}else l=Ja(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return n.flags&256?(qe(n),n):(qe(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(s=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=$i(n),s!==null&&s.dehydrated!==null){if(t===null){if(!m)throw Error(r(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Se]=n}else Si(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),m=!1}else m=Ja(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return n.flags&256?(qe(n),n):(qe(n),null)}return qe(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,t=t!==null&&t.memoizedState!==null,l&&(s=n.child,m=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(m=s.alternate.memoizedState.cachePool.pool),y=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(y=s.memoizedState.cachePool.pool),y!==m&&(s.flags|=2048)),l!==t&&l&&(n.child.flags|=8192),hr(n,n.updateQueue),ie(n),null);case 4:return bt(),t===null&&ou(n.stateNode.containerInfo),ie(n),null;case 10:return bn(n.type),ie(n),null;case 19:if(U(se),s=n.memoizedState,s===null)return ie(n),null;if(m=(n.flags&128)!==0,y=s.rendering,y===null)if(m)nl(s,!1);else{if(ae!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=tr(t),y!==null){for(n.flags|=128,nl(s,!1),t=y.updateQueue,n.updateQueue=t,hr(n,t),n.subtreeFlags=0,t=l,l=n.child;l!==null;)lf(l,t),l=l.sibling;return $(se,se.current&1|2),Ht&&Cn(n,s.treeForkCount),n.child}t=t.sibling}s.tail!==null&&Tt()>vr&&(n.flags|=128,m=!0,nl(s,!1),n.lanes=4194304)}else{if(!m)if(t=tr(y),t!==null){if(n.flags|=128,m=!0,t=t.updateQueue,n.updateQueue=t,hr(n,t),nl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!y.alternate&&!Ht)return ie(n),null}else 2*Tt()-s.renderingStartTime>vr&&l!==536870912&&(n.flags|=128,m=!0,nl(s,!1),n.lanes=4194304);s.isBackwards?(y.sibling=n.child,n.child=y):(t=s.last,t!==null?t.sibling=y:n.child=y,s.last=y)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Tt(),t.sibling=null,l=se.current,$(se,m?l&1|2:l&1),Ht&&Cn(n,s.treeForkCount),t):(ie(n),null);case 22:case 23:return qe(n),ls(),s=n.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),l=n.updateQueue,l!==null&&hr(n,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),t!==null&&U(Ai),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bn(ce),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function sv(t,n){switch(Fa(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bn(ce),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Kt(n),null;case 31:if(n.memoizedState!==null){if(qe(n),n.alternate===null)throw Error(r(340));Si()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(qe(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Si()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return U(se),null;case 4:return bt(),null;case 10:return bn(n.type),null;case 22:case 23:return qe(n),ls(),t!==null&&U(Ai),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bn(ce),null;case 25:return null;default:return null}}function Dd(t,n){switch(Fa(n),n.tag){case 3:bn(ce),bt();break;case 26:case 27:case 5:Kt(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&qe(n);break;case 13:qe(n);break;case 19:U(se);break;case 10:bn(n.type);break;case 22:case 23:qe(n),ls(),t!==null&&U(Ai);break;case 24:bn(ce)}}function il(t,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var m=s.next;l=m;do{if((l.tag&t)===t){s=void 0;var y=l.create,E=l.inst;s=y(),E.destroy=s}l=l.next}while(l!==m)}}catch(x){Qt(n,n.return,x)}}function $n(t,n,l){try{var s=n.updateQueue,m=s!==null?s.lastEffect:null;if(m!==null){var y=m.next;s=y;do{if((s.tag&t)===t){var E=s.inst,x=E.destroy;if(x!==void 0){E.destroy=void 0,m=n;var O=l,W=x;try{W()}catch(st){Qt(m,O,st)}}}s=s.next}while(s!==y)}}catch(st){Qt(n,n.return,st)}}function Ud(t){var n=t.updateQueue;if(n!==null){var l=t.stateNode;try{Cf(n,l)}catch(s){Qt(t,t.return,s)}}}function kd(t,n,l){l.props=Ni(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(s){Qt(t,n,s)}}function ol(t,n){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof l=="function"?t.refCleanup=l(s):l.current=s}}catch(m){Qt(t,n,m)}}function yn(t,n){var l=t.ref,s=t.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(m){Qt(t,n,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Qt(t,n,m)}else l.current=null}function Ld(t){var n=t.type,l=t.memoizedProps,s=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break t;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(m){Qt(t,t.return,m)}}function Gs(t,n,l){try{var s=t.stateNode;xv(s,t.type,l,n),s[De]=n}catch(m){Qt(t,t.return,m)}}function zd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&li(t.type)||t.tag===4}function Bs(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&li(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Os(t,n,l){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(t),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Tn));else if(s!==4&&(s===27&&li(t.type)&&(l=t.stateNode,n=null),t=t.child,t!==null))for(Os(t,n,l),t=t.sibling;t!==null;)Os(t,n,l),t=t.sibling}function pr(t,n,l){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?l.insertBefore(t,n):l.appendChild(t);else if(s!==4&&(s===27&&li(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(pr(t,n,l),t=t.sibling;t!==null;)pr(t,n,l),t=t.sibling}function Gd(t){var n=t.stateNode,l=t.memoizedProps;try{for(var s=t.type,m=n.attributes;m.length;)n.removeAttributeNode(m[0]);be(n,s,l),n[Se]=t,n[De]=l}catch(y){Qt(t,t.return,y)}}var xn=!1,he=!1,Hs=!1,Bd=typeof WeakSet=="function"?WeakSet:Set,ye=null;function uv(t,n){if(t=t.containerInfo,au=Lr,t=Zc(t),Ua(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var m=s.anchorOffset,y=s.focusNode;s=s.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var E=0,x=-1,O=-1,W=0,st=0,dt=t,tt=null;e:for(;;){for(var it;dt!==l||m!==0&&dt.nodeType!==3||(x=E+m),dt!==y||s!==0&&dt.nodeType!==3||(O=E+s),dt.nodeType===3&&(E+=dt.nodeValue.length),(it=dt.firstChild)!==null;)tt=dt,dt=it;for(;;){if(dt===t)break e;if(tt===l&&++W===m&&(x=E),tt===y&&++st===s&&(O=E),(it=dt.nextSibling)!==null)break;dt=tt,tt=dt.parentNode}dt=it}l=x===-1||O===-1?null:{start:x,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(su={focusedElem:t,selectionRange:l},Lr=!1,ye=n;ye!==null;)if(n=ye,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ye=t;else for(;ye!==null;){switch(n=ye,y=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)m=t[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,l=n,m=y.memoizedProps,y=y.memoizedState,s=l.stateNode;try{var Ct=Ni(l.type,m);t=s.getSnapshotBeforeUpdate(Ct,y),s.__reactInternalSnapshotBeforeUpdate=t}catch(xt){Qt(l,l.return,xt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,l=t.nodeType,l===9)fu(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,ye=t;break}ye=n.return}}function Od(t,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:Dn(t,l),s&4&&il(5,l);break;case 1:if(Dn(t,l),s&4)if(t=l.stateNode,n===null)try{t.componentDidMount()}catch(E){Qt(l,l.return,E)}else{var m=Ni(l.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(m,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Qt(l,l.return,E)}}s&64&&Ud(l),s&512&&ol(l,l.return);break;case 3:if(Dn(t,l),s&64&&(t=l.updateQueue,t!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Cf(t,n)}catch(E){Qt(l,l.return,E)}}break;case 27:n===null&&s&4&&Gd(l);case 26:case 5:Dn(t,l),n===null&&s&4&&Ld(l),s&512&&ol(l,l.return);break;case 12:Dn(t,l);break;case 31:Dn(t,l),s&4&&qd(t,l);break;case 13:Dn(t,l),s&4&&Vd(t,l),s&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=vv.bind(null,l),Bv(t,l))));break;case 22:if(s=l.memoizedState!==null||xn,!s){n=n!==null&&n.memoizedState!==null||he,m=xn;var y=he;xn=s,(he=n)&&!y?Un(t,l,(l.subtreeFlags&8772)!==0):Dn(t,l),xn=m,he=y}break;case 30:break;default:Dn(t,l)}}function Hd(t){var n=t.alternate;n!==null&&(t.alternate=null,Hd(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ga(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var oe=null,ke=!1;function In(t,n,l){for(l=l.child;l!==null;)Pd(t,n,l),l=l.sibling}function Pd(t,n,l){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(te,l)}catch{}switch(l.tag){case 26:he||yn(l,n),In(t,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:he||yn(l,n);var s=oe,m=ke;li(l.type)&&(oe=l.stateNode,ke=!1),In(t,n,l),hl(l.stateNode),oe=s,ke=m;break;case 5:he||yn(l,n);case 6:if(s=oe,m=ke,oe=null,In(t,n,l),oe=s,ke=m,oe!==null)if(ke)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(l.stateNode)}catch(y){Qt(l,n,y)}else try{oe.removeChild(l.stateNode)}catch(y){Qt(l,n,y)}break;case 18:oe!==null&&(ke?(t=oe,Uh(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),To(t)):Uh(oe,l.stateNode));break;case 4:s=oe,m=ke,oe=l.stateNode.containerInfo,ke=!0,In(t,n,l),oe=s,ke=m;break;case 0:case 11:case 14:case 15:$n(2,l,n),he||$n(4,l,n),In(t,n,l);break;case 1:he||(yn(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&kd(l,n,s)),In(t,n,l);break;case 21:In(t,n,l);break;case 22:he=(s=he)||l.memoizedState!==null,In(t,n,l),he=s;break;default:In(t,n,l)}}function qd(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(l){Qt(n,n.return,l)}}}function Vd(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(l){Qt(n,n.return,l)}}function cv(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Bd),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Bd),n;default:throw Error(r(435,t.tag))}}function mr(t,n){var l=cv(t);n.forEach(function(s){if(!l.has(s)){l.add(s);var m=_v.bind(null,t,s);s.then(m,m)}})}function Le(t,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var m=l[s],y=t,E=n,x=E;t:for(;x!==null;){switch(x.tag){case 27:if(li(x.type)){oe=x.stateNode,ke=!1;break t}break;case 5:oe=x.stateNode,ke=!1;break t;case 3:case 4:oe=x.stateNode.containerInfo,ke=!0;break t}x=x.return}if(oe===null)throw Error(r(160));Pd(y,E,m),oe=null,ke=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fd(n,t),n=n.sibling}var un=null;function Fd(t,n){var l=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Le(n,t),ze(t),s&4&&($n(3,t,t.return),il(3,t),$n(5,t,t.return));break;case 1:Le(n,t),ze(t),s&512&&(he||l===null||yn(l,l.return)),s&64&&xn&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var m=un;if(Le(n,t),ze(t),s&512&&(he||l===null||yn(l,l.return)),s&4){var y=l!==null?l.memoizedState:null;if(s=t.memoizedState,l===null)if(s===null)if(t.stateNode===null){t:{s=t.type,l=t.memoizedProps,m=m.ownerDocument||m;e:switch(s){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Io]||y[Se]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(s),m.head.insertBefore(y,m.querySelector("head > title"))),be(y,s,l),y[Se]=t,ge(y),s=y;break t;case"link":var E=Fh("link","href",m).get(s+(l.href||""));if(E){for(var x=0;x<E.length;x++)if(y=E[x],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(x,1);break e}}y=m.createElement(s),be(y,s,l),m.head.appendChild(y);break;case"meta":if(E=Fh("meta","content",m).get(s+(l.content||""))){for(x=0;x<E.length;x++)if(y=E[x],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(x,1);break e}}y=m.createElement(s),be(y,s,l),m.head.appendChild(y);break;default:throw Error(r(468,s))}y[Se]=t,ge(y),s=y}t.stateNode=s}else Yh(m,t.type,t.stateNode);else t.stateNode=Vh(m,s,t.memoizedProps);else y!==s?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,s===null?Yh(m,t.type,t.stateNode):Vh(m,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Gs(t,t.memoizedProps,l.memoizedProps)}break;case 27:Le(n,t),ze(t),s&512&&(he||l===null||yn(l,l.return)),l!==null&&s&4&&Gs(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Le(n,t),ze(t),s&512&&(he||l===null||yn(l,l.return)),t.flags&32){m=t.stateNode;try{qi(m,"")}catch(Ct){Qt(t,t.return,Ct)}}s&4&&t.stateNode!=null&&(m=t.memoizedProps,Gs(t,m,l!==null?l.memoizedProps:m)),s&1024&&(Hs=!0);break;case 6:if(Le(n,t),ze(t),s&4){if(t.stateNode===null)throw Error(r(162));s=t.memoizedProps,l=t.stateNode;try{l.nodeValue=s}catch(Ct){Qt(t,t.return,Ct)}}break;case 3:if(Ir=null,m=un,un=Nr(n.containerInfo),Le(n,t),un=m,ze(t),s&4&&l!==null&&l.memoizedState.isDehydrated)try{To(n.containerInfo)}catch(Ct){Qt(t,t.return,Ct)}Hs&&(Hs=!1,Yd(t));break;case 4:s=un,un=Nr(t.stateNode.containerInfo),Le(n,t),ze(t),un=s;break;case 12:Le(n,t),ze(t);break;case 31:Le(n,t),ze(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,mr(t,s)));break;case 13:Le(n,t),ze(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(yr=Tt()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,mr(t,s)));break;case 22:m=t.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,W=xn,st=he;if(xn=W||m,he=st||O,Le(n,t),he=st,xn=W,ze(t),s&8192)t:for(n=t.stateNode,n._visibility=m?n._visibility&-2:n._visibility|1,m&&(l===null||O||xn||he||xi(t)),l=null,n=t;;){if(n.tag===5||n.tag===26){if(l===null){O=l=n;try{if(y=O.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{x=O.stateNode;var dt=O.memoizedProps.style,tt=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;x.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(Ct){Qt(O,O.return,Ct)}}}else if(n.tag===6){if(l===null){O=n;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(Ct){Qt(O,O.return,Ct)}}}else if(n.tag===18){if(l===null){O=n;try{var it=O.stateNode;m?kh(it,!0):kh(O.stateNode,!1)}catch(Ct){Qt(O,O.return,Ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=t.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,mr(t,l))));break;case 19:Le(n,t),ze(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,mr(t,s)));break;case 30:break;case 21:break;default:Le(n,t),ze(t)}}function ze(t){var n=t.flags;if(n&2){try{for(var l,s=t.return;s!==null;){if(zd(s)){l=s;break}s=s.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=Bs(t);pr(t,y,m);break;case 5:var E=l.stateNode;l.flags&32&&(qi(E,""),l.flags&=-33);var x=Bs(t);pr(t,x,E);break;case 3:case 4:var O=l.stateNode.containerInfo,W=Bs(t);Os(t,W,O);break;default:throw Error(r(161))}}catch(st){Qt(t,t.return,st)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Yd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Yd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Dn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Od(t,n.alternate,n),n=n.sibling}function xi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$n(4,n,n.return),xi(n);break;case 1:yn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&kd(n,n.return,l),xi(n);break;case 27:hl(n.stateNode);case 26:case 5:yn(n,n.return),xi(n);break;case 22:n.memoizedState===null&&xi(n);break;case 30:xi(n);break;default:xi(n)}t=t.sibling}}function Un(t,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,m=t,y=n,E=y.flags;switch(y.tag){case 0:case 11:case 15:Un(m,y,l),il(4,y);break;case 1:if(Un(m,y,l),s=y,m=s.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){Qt(s,s.return,W)}if(s=y,m=s.updateQueue,m!==null){var x=s.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)Ef(O[m],x)}catch(W){Qt(s,s.return,W)}}l&&E&64&&Ud(y),ol(y,y.return);break;case 27:Gd(y);case 26:case 5:Un(m,y,l),l&&s===null&&E&4&&Ld(y),ol(y,y.return);break;case 12:Un(m,y,l);break;case 31:Un(m,y,l),l&&E&4&&qd(m,y);break;case 13:Un(m,y,l),l&&E&4&&Vd(m,y);break;case 22:y.memoizedState===null&&Un(m,y,l),ol(y,y.return);break;case 30:break;default:Un(m,y,l)}n=n.sibling}}function Ps(t,n){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Fo(l))}function qs(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t))}function cn(t,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jd(t,n,l,s),n=n.sibling}function Jd(t,n,l,s){var m=n.flags;switch(n.tag){case 0:case 11:case 15:cn(t,n,l,s),m&2048&&il(9,n);break;case 1:cn(t,n,l,s);break;case 3:cn(t,n,l,s),m&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t)));break;case 12:if(m&2048){cn(t,n,l,s),t=n.stateNode;try{var y=n.memoizedProps,E=y.id,x=y.onPostCommit;typeof x=="function"&&x(E,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Qt(n,n.return,O)}}else cn(t,n,l,s);break;case 31:cn(t,n,l,s);break;case 13:cn(t,n,l,s);break;case 23:break;case 22:y=n.stateNode,E=n.alternate,n.memoizedState!==null?y._visibility&2?cn(t,n,l,s):ll(t,n):y._visibility&2?cn(t,n,l,s):(y._visibility|=2,so(t,n,l,s,(n.subtreeFlags&10256)!==0||!1)),m&2048&&Ps(E,n);break;case 24:cn(t,n,l,s),m&2048&&qs(n.alternate,n);break;default:cn(t,n,l,s)}}function so(t,n,l,s,m){for(m=m&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var y=t,E=n,x=l,O=s,W=E.flags;switch(E.tag){case 0:case 11:case 15:so(y,E,x,O,m),il(8,E);break;case 23:break;case 22:var st=E.stateNode;E.memoizedState!==null?st._visibility&2?so(y,E,x,O,m):ll(y,E):(st._visibility|=2,so(y,E,x,O,m)),m&&W&2048&&Ps(E.alternate,E);break;case 24:so(y,E,x,O,m),m&&W&2048&&qs(E.alternate,E);break;default:so(y,E,x,O,m)}n=n.sibling}}function ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=t,s=n,m=s.flags;switch(s.tag){case 22:ll(l,s),m&2048&&Ps(s.alternate,s);break;case 24:ll(l,s),m&2048&&qs(s.alternate,s);break;default:ll(l,s)}n=n.sibling}}var rl=8192;function uo(t,n,l){if(t.subtreeFlags&rl)for(t=t.child;t!==null;)Kd(t,n,l),t=t.sibling}function Kd(t,n,l){switch(t.tag){case 26:uo(t,n,l),t.flags&rl&&t.memoizedState!==null&&Qv(l,un,t.memoizedState,t.memoizedProps);break;case 5:uo(t,n,l);break;case 3:case 4:var s=un;un=Nr(t.stateNode.containerInfo),uo(t,n,l),un=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=rl,rl=16777216,uo(t,n,l),rl=s):uo(t,n,l));break;default:uo(t,n,l)}}function Xd(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function al(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];ye=s,Qd(s,t)}Xd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zd(t),t=t.sibling}function Zd(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&$n(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gr(t)):al(t);break;default:al(t)}}function gr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];ye=s,Qd(s,t)}Xd(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$n(8,n,n.return),gr(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,gr(n));break;default:gr(n)}t=t.sibling}}function Qd(t,n){for(;ye!==null;){var l=ye;switch(l.tag){case 0:case 11:case 15:$n(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Fo(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,ye=s;else t:for(l=t;ye!==null;){s=ye;var m=s.sibling,y=s.return;if(Hd(s),s===l){ye=null;break t}if(m!==null){m.return=y,ye=m;break t}ye=y}}}var fv={getCacheForType:function(t){var n=Ce(ce),l=n.data.get(t);return l===void 0&&(l=t(),n.data.set(t,l)),l},cacheSignal:function(){return Ce(ce).controller.signal}},dv=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,zt=null,Bt=0,Zt=0,Ve=null,jn=!1,co=!1,Vs=!1,kn=0,ae=0,ti=0,Ii=0,Fs=0,Fe=0,fo=0,sl=null,Ge=null,Ys=!1,yr=0,Wd=0,vr=1/0,_r=null,ei=null,pe=0,ni=null,ho=null,Ln=0,Js=0,Ks=null,$d=null,ul=0,Xs=null;function Ye(){return(Yt&2)!==0&&Bt!==0?Bt&-Bt:X.T!==null?tu():hc()}function jd(){if(Fe===0)if((Bt&536870912)===0||Ht){var t=pi;pi<<=1,(pi&3932160)===0&&(pi=262144),Fe=t}else Fe=536870912;return t=Pe.current,t!==null&&(t.flags|=32),Fe}function Be(t,n,l){(t===ee&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)&&(po(t,0),ii(t,Bt,Fe,!1)),xo(t,l),((Yt&2)===0||t!==ee)&&(t===ee&&((Yt&2)===0&&(Ii|=l),ae===4&&ii(t,Bt,Fe,!1)),vn(t))}function th(t,n,l){if((Yt&6)!==0)throw Error(r(327));var s=!l&&(n&127)===0&&(n&t.expiredLanes)===0||No(t,n),m=s?mv(t,n):Qs(t,n,!0),y=s;do{if(m===0){co&&!s&&ii(t,n,0,!1);break}else{if(l=t.current.alternate,y&&!hv(l)){m=Qs(t,n,!1),y=!1;continue}if(m===2){if(y=n,t.errorRecoveryDisabledLanes&y)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var x=t;m=sl;var O=x.current.memoizedState.isDehydrated;if(O&&(po(x,E).flags|=256),E=Qs(x,E,!1),E!==2){if(Vs&&!O){x.errorRecoveryDisabledLanes|=y,Ii|=y,m=4;break t}y=Ge,Ge=m,y!==null&&(Ge===null?Ge=y:Ge.push.apply(Ge,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){po(t,0),ii(t,n,0,!0);break}t:{switch(s=t,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ii(s,n,Fe,!jn);break t;case 2:Ge=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(m=yr+300-Tt(),10<m)){if(ii(s,n,Fe,!jn),Nl(s,0,!0)!==0)break t;Ln=n,s.timeoutHandle=Ih(eh.bind(null,s,l,Ge,_r,Ys,n,Fe,Ii,fo,jn,y,"Throttled",-0,0),m);break t}eh(s,l,Ge,_r,Ys,n,Fe,Ii,fo,jn,y,null,-0,0)}}break}while(!0);vn(t)}function eh(t,n,l,s,m,y,E,x,O,W,st,dt,tt,it){if(t.timeoutHandle=-1,dt=n.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},Kd(n,y,dt);var Ct=(y&62914560)===y?yr-Tt():(y&4194048)===y?Wd-Tt():0;if(Ct=Wv(dt,Ct),Ct!==null){Ln=y,t.cancelPendingCommit=Ct(uh.bind(null,t,n,y,l,s,m,E,x,O,st,dt,null,tt,it)),ii(t,y,E,!W);return}}uh(t,n,y,l,s,m,E,x,O)}function hv(t){for(var n=t;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var m=l[s],y=m.getSnapshot;m=m.value;try{if(!Oe(y(),m))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ii(t,n,l,s){n&=~Fs,n&=~Ii,t.suspendedLanes|=n,t.pingedLanes&=~n,s&&(t.warmLanes|=n),s=t.expirationTimes;for(var m=n;0<m;){var y=31-le(m),E=1<<y;s[y]=-1,m&=~E}l!==0&&cc(t,l,n)}function Tr(){return(Yt&6)===0?(cl(0),!1):!0}function Zs(){if(zt!==null){if(Zt===0)var t=zt.return;else t=zt,An=Ei=null,fs(t),io=null,Jo=0,t=zt;for(;t!==null;)Dd(t.alternate,t),t=t.return;zt=null}}function po(t,n){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,Uv(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),Ln=0,Zs(),ee=t,zt=l=En(t.current,null),Bt=n,Zt=0,Ve=null,jn=!1,co=No(t,n),Vs=!1,fo=Fe=Fs=Ii=ti=ae=0,Ge=sl=null,Ys=!1,(n&8)!==0&&(n|=n&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=n;0<s;){var m=31-le(s),y=1<<m;n|=t[m],s&=~y}return kn=n,Pl(),l}function nh(t,n){Ut=null,X.H=tl,n===no||n===Zl?(n=vf(),Zt=3):n===ja?(n=vf(),Zt=4):Zt=n===ws?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ve=n,zt===null&&(ae=1,ur(t,je(n,t.current)))}function ih(){var t=Pe.current;return t===null?!0:(Bt&4194048)===Bt?on===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?t===on:!1}function oh(){var t=X.H;return X.H=tl,t===null?tl:t}function lh(){var t=X.A;return X.A=fv,t}function Sr(){ae=4,jn||(Bt&4194048)!==Bt&&Pe.current!==null||(co=!0),(ti&134217727)===0&&(Ii&134217727)===0||ee===null||ii(ee,Bt,Fe,!1)}function Qs(t,n,l){var s=Yt;Yt|=2;var m=oh(),y=lh();(ee!==t||Bt!==n)&&(_r=null,po(t,n)),n=!1;var E=ae;t:do try{if(Zt!==0&&zt!==null){var x=zt,O=Ve;switch(Zt){case 8:Zs(),E=6;break t;case 3:case 2:case 9:case 6:Pe.current===null&&(n=!0);var W=Zt;if(Zt=0,Ve=null,mo(t,x,O,W),l&&co){E=0;break t}break;default:W=Zt,Zt=0,Ve=null,mo(t,x,O,W)}}pv(),E=ae;break}catch(st){nh(t,st)}while(!0);return n&&t.shellSuspendCounter++,An=Ei=null,Yt=s,X.H=m,X.A=y,zt===null&&(ee=null,Bt=0,Pl()),E}function pv(){for(;zt!==null;)rh(zt)}function mv(t,n){var l=Yt;Yt|=2;var s=oh(),m=lh();ee!==t||Bt!==n?(_r=null,vr=Tt()+500,po(t,n)):co=No(t,n);t:do try{if(Zt!==0&&zt!==null){n=zt;var y=Ve;e:switch(Zt){case 1:Zt=0,Ve=null,mo(t,n,y,1);break;case 2:case 9:if(gf(y)){Zt=0,Ve=null,ah(n);break}n=function(){Zt!==2&&Zt!==9||ee!==t||(Zt=7),vn(t)},y.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:gf(y)?(Zt=0,Ve=null,ah(n)):(Zt=0,Ve=null,mo(t,n,y,7));break;case 5:var E=null;switch(zt.tag){case 26:E=zt.memoizedState;case 5:case 27:var x=zt;if(E?Jh(E):x.stateNode.complete){Zt=0,Ve=null;var O=x.sibling;if(O!==null)zt=O;else{var W=x.return;W!==null?(zt=W,Er(W)):zt=null}break e}}Zt=0,Ve=null,mo(t,n,y,5);break;case 6:Zt=0,Ve=null,mo(t,n,y,6);break;case 8:Zs(),ae=6;break t;default:throw Error(r(462))}}gv();break}catch(st){nh(t,st)}while(!0);return An=Ei=null,X.H=s,X.A=m,Yt=l,zt!==null?0:(ee=null,Bt=0,Pl(),ae)}function gv(){for(;zt!==null&&!j();)rh(zt)}function rh(t){var n=xd(t.alternate,t,kn);t.memoizedProps=t.pendingProps,n===null?Er(t):zt=n}function ah(t){var n=t,l=n.alternate;switch(n.tag){case 15:case 0:n=Ad(l,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=Ad(l,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:fs(n);default:Dd(l,n),n=zt=lf(n,kn),n=xd(l,n,kn)}t.memoizedProps=t.pendingProps,n===null?Er(t):zt=n}function mo(t,n,l,s){An=Ei=null,fs(n),io=null,Jo=0;var m=n.return;try{if(ov(t,m,n,l,Bt)){ae=1,ur(t,je(l,t.current)),zt=null;return}}catch(y){if(m!==null)throw zt=m,y;ae=1,ur(t,je(l,t.current)),zt=null;return}n.flags&32768?(Ht||s===1?t=!0:co||(Bt&536870912)!==0?t=!1:(jn=t=!0,(s===2||s===9||s===3||s===6)&&(s=Pe.current,s!==null&&s.tag===13&&(s.flags|=16384))),sh(n,t)):Er(n)}function Er(t){var n=t;do{if((n.flags&32768)!==0){sh(n,jn);return}t=n.return;var l=av(n.alternate,n,kn);if(l!==null){zt=l;return}if(n=n.sibling,n!==null){zt=n;return}zt=n=t}while(n!==null);ae===0&&(ae=5)}function sh(t,n){do{var l=sv(t.alternate,t);if(l!==null){l.flags&=32767,zt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(t=t.sibling,t!==null)){zt=t;return}zt=t=l}while(t!==null);ae=6,zt=null}function uh(t,n,l,s,m,y,E,x,O){t.cancelPendingCommit=null;do Cr();while(pe!==0);if((Yt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(y=n.lanes|n.childLanes,y|=Ba,Zg(t,l,y,E,x,O),t===ee&&(zt=ee=null,Bt=0),ho=n,ni=t,Ln=l,Js=y,Ks=m,$d=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tv(Lt,function(){return ph(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null,m=Y.p,Y.p=2,E=Yt,Yt|=4;try{uv(t,n,l)}finally{Yt=E,Y.p=m,X.T=s}}pe=1,ch(),fh(),dh()}}function ch(){if(pe===1){pe=0;var t=ni,n=ho,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var s=Y.p;Y.p=2;var m=Yt;Yt|=4;try{Fd(n,t);var y=su,E=Zc(t.containerInfo),x=y.focusedElem,O=y.selectionRange;if(E!==x&&x&&x.ownerDocument&&Xc(x.ownerDocument.documentElement,x)){if(O!==null&&Ua(x)){var W=O.start,st=O.end;if(st===void 0&&(st=W),"selectionStart"in x)x.selectionStart=W,x.selectionEnd=Math.min(st,x.value.length);else{var dt=x.ownerDocument||document,tt=dt&&dt.defaultView||window;if(tt.getSelection){var it=tt.getSelection(),Ct=x.textContent.length,xt=Math.min(O.start,Ct),jt=O.end===void 0?xt:Math.min(O.end,Ct);!it.extend&&xt>jt&&(E=jt,jt=xt,xt=E);var J=Kc(x,xt),q=Kc(x,jt);if(J&&q&&(it.rangeCount!==1||it.anchorNode!==J.node||it.anchorOffset!==J.offset||it.focusNode!==q.node||it.focusOffset!==q.offset)){var Q=dt.createRange();Q.setStart(J.node,J.offset),it.removeAllRanges(),xt>jt?(it.addRange(Q),it.extend(q.node,q.offset)):(Q.setEnd(q.node,q.offset),it.addRange(Q))}}}}for(dt=[],it=x;it=it.parentNode;)it.nodeType===1&&dt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<dt.length;x++){var ct=dt[x];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}Lr=!!au,su=au=null}finally{Yt=m,Y.p=s,X.T=l}}t.current=n,pe=2}}function fh(){if(pe===2){pe=0;var t=ni,n=ho,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var s=Y.p;Y.p=2;var m=Yt;Yt|=4;try{Od(t,n.alternate,n)}finally{Yt=m,Y.p=s,X.T=l}}pe=3}}function dh(){if(pe===4||pe===3){pe=0,gt();var t=ni,n=ho,l=Ln,s=$d;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?pe=5:(pe=0,ho=ni=null,hh(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ei=null),pa(l),n=n.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(te,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=X.T,m=Y.p,Y.p=2,X.T=null;try{for(var y=t.onRecoverableError,E=0;E<s.length;E++){var x=s[E];y(x.value,{componentStack:x.stack})}}finally{X.T=n,Y.p=m}}(Ln&3)!==0&&Cr(),vn(t),m=t.pendingLanes,(l&261930)!==0&&(m&42)!==0?t===Xs?ul++:(ul=0,Xs=t):ul=0,cl(0)}}function hh(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fo(n)))}function Cr(){return ch(),fh(),dh(),ph()}function ph(){if(pe!==5)return!1;var t=ni,n=Js;Js=0;var l=pa(Ln),s=X.T,m=Y.p;try{Y.p=32>l?32:l,X.T=null,l=Ks,Ks=null;var y=ni,E=Ln;if(pe=0,ho=ni=null,Ln=0,(Yt&6)!==0)throw Error(r(331));var x=Yt;if(Yt|=4,Zd(y.current),Jd(y,y.current,E,l),Yt=x,cl(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(te,y)}catch{}return!0}finally{Y.p=m,X.T=s,hh(t,n)}}function mh(t,n,l){n=je(l,n),n=Rs(t.stateNode,n,2),t=Zn(t,n,2),t!==null&&(xo(t,2),vn(t))}function Qt(t,n,l){if(t.tag===3)mh(t,t,l);else for(;n!==null;){if(n.tag===3){mh(n,t,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ei===null||!ei.has(s))){t=je(l,t),l=gd(2),s=Zn(n,l,2),s!==null&&(yd(l,s,n,t),xo(s,2),vn(s));break}}n=n.return}}function Ws(t,n,l){var s=t.pingCache;if(s===null){s=t.pingCache=new dv;var m=new Set;s.set(n,m)}else m=s.get(n),m===void 0&&(m=new Set,s.set(n,m));m.has(l)||(Vs=!0,m.add(l),t=yv.bind(null,t,n,l),n.then(t,t))}function yv(t,n,l){var s=t.pingCache;s!==null&&s.delete(n),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,ee===t&&(Bt&l)===l&&(ae===4||ae===3&&(Bt&62914560)===Bt&&300>Tt()-yr?(Yt&2)===0&&po(t,0):Fs|=l,fo===Bt&&(fo=0)),vn(t)}function gh(t,n){n===0&&(n=uc()),t=_i(t,n),t!==null&&(xo(t,n),vn(t))}function vv(t){var n=t.memoizedState,l=0;n!==null&&(l=n.retryLane),gh(t,l)}function _v(t,n){var l=0;switch(t.tag){case 31:case 13:var s=t.stateNode,m=t.memoizedState;m!==null&&(l=m.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(n),gh(t,l)}function Tv(t,n){return ht(t,n)}var Ar=null,go=null,$s=!1,br=!1,js=!1,oi=0;function vn(t){t!==go&&t.next===null&&(go===null?Ar=go=t:go=go.next=t),br=!0,$s||($s=!0,Ev())}function cl(t,n){if(!js&&br){js=!0;do for(var l=!1,s=Ar;s!==null;){if(t!==0){var m=s.pendingLanes;if(m===0)var y=0;else{var E=s.suspendedLanes,x=s.pingedLanes;y=(1<<31-le(42|t)+1)-1,y&=m&~(E&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Th(s,y))}else y=Bt,y=Nl(s,s===ee?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(y&3)===0||No(s,y)||(l=!0,Th(s,y));s=s.next}while(l);js=!1}}function Sv(){yh()}function yh(){br=$s=!1;var t=0;oi!==0&&Dv()&&(t=oi);for(var n=Tt(),l=null,s=Ar;s!==null;){var m=s.next,y=vh(s,n);y===0?(s.next=null,l===null?Ar=m:l.next=m,m===null&&(go=l)):(l=s,(t!==0||(y&3)!==0)&&(br=!0)),s=m}pe!==0&&pe!==5||cl(t),oi!==0&&(oi=0)}function vh(t,n){for(var l=t.suspendedLanes,s=t.pingedLanes,m=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var E=31-le(y),x=1<<E,O=m[E];O===-1?((x&l)===0||(x&s)!==0)&&(m[E]=Xg(x,n)):O<=n&&(t.expiredLanes|=x),y&=~x}if(n=ee,l=Bt,l=Nl(t,t===n?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,l===0||t===n&&(Zt===2||Zt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&pt(s),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||No(t,l)){if(n=l&-l,n===t.callbackPriority)return n;switch(s!==null&&pt(s),pa(l)){case 2:case 8:l=Xt;break;case 32:l=Lt;break;case 268435456:l=Hn;break;default:l=Lt}return s=_h.bind(null,t),l=ht(l,s),t.callbackPriority=n,t.callbackNode=l,n}return s!==null&&s!==null&&pt(s),t.callbackPriority=2,t.callbackNode=null,2}function _h(t,n){if(pe!==0&&pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Cr()&&t.callbackNode!==l)return null;var s=Bt;return s=Nl(t,t===ee?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(th(t,s,n),vh(t,Tt()),t.callbackNode!=null&&t.callbackNode===l?_h.bind(null,t):null)}function Th(t,n){if(Cr())return null;th(t,n,!0)}function Ev(){kv(function(){(Yt&6)!==0?ht(Rt,Sv):yh()})}function tu(){if(oi===0){var t=to;t===0&&(t=Li,Li<<=1,(Li&261888)===0&&(Li=256)),oi=t}return oi}function Sh(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ul(""+t)}function Eh(t,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,t.id&&l.setAttribute("form",t.id),n.parentNode.insertBefore(l,n),t=new FormData(t),l.parentNode.removeChild(l),t}function Cv(t,n,l,s,m){if(n==="submit"&&l&&l.stateNode===m){var y=Sh((m[De]||null).action),E=s.submitter;E&&(n=(n=E[De]||null)?Sh(n.formAction):E.getAttribute("formAction"),n!==null&&(y=n,E=null));var x=new Gl("action","action",null,s,m);t.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(oi!==0){var O=E?Eh(m,E):new FormData(m);Ts(l,{pending:!0,data:O,method:m.method,action:y},null,O)}}else typeof y=="function"&&(x.preventDefault(),O=E?Eh(m,E):new FormData(m),Ts(l,{pending:!0,data:O,method:m.method,action:y},y,O))},currentTarget:m}]})}}for(var eu=0;eu<Ga.length;eu++){var nu=Ga[eu],Av=nu.toLowerCase(),bv=nu[0].toUpperCase()+nu.slice(1);sn(Av,"on"+bv)}sn($c,"onAnimationEnd"),sn(jc,"onAnimationIteration"),sn(tf,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(Py,"onTransitionRun"),sn(qy,"onTransitionStart"),sn(Vy,"onTransitionCancel"),sn(ef,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function Ch(t,n){n=(n&4)!==0;for(var l=0;l<t.length;l++){var s=t[l],m=s.event;s=s.listeners;t:{var y=void 0;if(n)for(var E=s.length-1;0<=E;E--){var x=s[E],O=x.instance,W=x.currentTarget;if(x=x.listener,O!==y&&m.isPropagationStopped())break t;y=x,m.currentTarget=W;try{y(m)}catch(st){Hl(st)}m.currentTarget=null,y=O}else for(E=0;E<s.length;E++){if(x=s[E],O=x.instance,W=x.currentTarget,x=x.listener,O!==y&&m.isPropagationStopped())break t;y=x,m.currentTarget=W;try{y(m)}catch(st){Hl(st)}m.currentTarget=null,y=O}}}}function Gt(t,n){var l=n[ma];l===void 0&&(l=n[ma]=new Set);var s=t+"__bubble";l.has(s)||(Ah(n,t,2,!1),l.add(s))}function iu(t,n,l){var s=0;n&&(s|=4),Ah(l,t,s,n)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function ou(t){if(!t[Rr]){t[Rr]=!0,gc.forEach(function(l){l!=="selectionchange"&&(Rv.has(l)||iu(l,!1,t),iu(l,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Rr]||(n[Rr]=!0,iu("selectionchange",!1,n))}}function Ah(t,n,l,s){switch(jh(n)){case 2:var m=t0;break;case 8:m=e0;break;default:m=_u}l=m.bind(null,n,l,t),m=void 0,!Aa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),s?m!==void 0?t.addEventListener(n,l,{capture:!0,passive:m}):t.addEventListener(n,l,!0):m!==void 0?t.addEventListener(n,l,{passive:m}):t.addEventListener(n,l,!1)}function lu(t,n,l,s,m){var y=s;if((n&1)===0&&(n&2)===0&&s!==null)t:for(;;){if(s===null)return;var E=s.tag;if(E===3||E===4){var x=s.stateNode.containerInfo;if(x===m)break;if(E===4)for(E=s.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;x!==null;){if(E=Gi(x),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){s=y=E;continue t}x=x.parentNode}}s=s.return}Mc(function(){var W=y,st=Ea(l),dt=[];t:{var tt=nf.get(t);if(tt!==void 0){var it=Gl,Ct=t;switch(t){case"keypress":if(Ll(l)===0)break t;case"keydown":case"keyup":it=_y;break;case"focusin":Ct="focus",it=Ma;break;case"focusout":Ct="blur",it=Ma;break;case"beforeblur":case"afterblur":it=Ma;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Ey;break;case $c:case jc:case tf:it=cy;break;case ef:it=Ay;break;case"scroll":case"scrollend":it=ly;break;case"wheel":it=Ry;break;case"copy":case"cut":case"paste":it=dy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Uc;break;case"toggle":case"beforetoggle":it=My}var xt=(n&4)!==0,jt=!xt&&(t==="scroll"||t==="scrollend"),J=xt?tt!==null?tt+"Capture":null:tt;xt=[];for(var q=W,Q;q!==null;){var ct=q;if(Q=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||Q===null||J===null||(ct=Uo(q,J),ct!=null&&xt.push(dl(q,ct,Q))),jt)break;q=q.return}0<xt.length&&(tt=new it(tt,Ct,null,l,st),dt.push({event:tt,listeners:xt}))}}if((n&7)===0){t:{if(tt=t==="mouseover"||t==="pointerover",it=t==="mouseout"||t==="pointerout",tt&&l!==Sa&&(Ct=l.relatedTarget||l.fromElement)&&(Gi(Ct)||Ct[zi]))break t;if((it||tt)&&(tt=st.window===st?st:(tt=st.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(Ct=l.relatedTarget||l.toElement,it=W,Ct=Ct?Gi(Ct):null,Ct!==null&&(jt=u(Ct),xt=Ct.tag,Ct!==jt||xt!==5&&xt!==27&&xt!==6)&&(Ct=null)):(it=null,Ct=W),it!==Ct)){if(xt=Ic,ct="onMouseLeave",J="onMouseEnter",q="mouse",(t==="pointerout"||t==="pointerover")&&(xt=Uc,ct="onPointerLeave",J="onPointerEnter",q="pointer"),jt=it==null?tt:Do(it),Q=Ct==null?tt:Do(Ct),tt=new xt(ct,q+"leave",it,l,st),tt.target=jt,tt.relatedTarget=Q,ct=null,Gi(st)===W&&(xt=new xt(J,q+"enter",Ct,l,st),xt.target=Q,xt.relatedTarget=jt,ct=xt),jt=ct,it&&Ct)e:{for(xt=wv,J=it,q=Ct,Q=0,ct=J;ct;ct=xt(ct))Q++;ct=0;for(var wt=q;wt;wt=xt(wt))ct++;for(;0<Q-ct;)J=xt(J),Q--;for(;0<ct-Q;)q=xt(q),ct--;for(;Q--;){if(J===q||q!==null&&J===q.alternate){xt=J;break e}J=xt(J),q=xt(q)}xt=null}else xt=null;it!==null&&bh(dt,tt,it,xt,!1),Ct!==null&&jt!==null&&bh(dt,jt,Ct,xt,!0)}}t:{if(tt=W?Do(W):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var qt=Pc;else if(Oc(tt))if(qc)qt=By;else{qt=zy;var At=Ly}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?W&&Ta(W.elementType)&&(qt=Pc):qt=Gy;if(qt&&(qt=qt(t,W))){Hc(dt,qt,l,st);break t}At&&At(t,tt,W),t==="focusout"&&W&&tt.type==="number"&&W.memoizedProps.value!=null&&_a(tt,"number",tt.value)}switch(At=W?Do(W):window,t){case"focusin":(Oc(At)||At.contentEditable==="true")&&(Ji=At,ka=W,Po=null);break;case"focusout":Po=ka=Ji=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Qc(dt,l,st);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":Qc(dt,l,st)}var kt;if(xa)t:{switch(t){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else Yi?Gc(t,l)&&(Ot="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ot="onCompositionStart");Ot&&(kc&&l.locale!=="ko"&&(Yi||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Yi&&(kt=Nc()):(qn=st,ba="value"in qn?qn.value:qn.textContent,Yi=!0)),At=wr(W,Ot),0<At.length&&(Ot=new Dc(Ot,t,null,l,st),dt.push({event:Ot,listeners:At}),kt?Ot.data=kt:(kt=Bc(l),kt!==null&&(Ot.data=kt)))),(kt=xy?Iy(t,l):Dy(t,l))&&(Ot=wr(W,"onBeforeInput"),0<Ot.length&&(At=new Dc("onBeforeInput","beforeinput",null,l,st),dt.push({event:At,listeners:Ot}),At.data=kt)),Cv(dt,t,W,l,st)}Ch(dt,n)})}function dl(t,n,l){return{instance:t,listener:n,currentTarget:l}}function wr(t,n){for(var l=n+"Capture",s=[];t!==null;){var m=t,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Uo(t,l),m!=null&&s.unshift(dl(t,m,y)),m=Uo(t,n),m!=null&&s.push(dl(t,m,y))),t.tag===3)return s;t=t.return}return[]}function wv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bh(t,n,l,s,m){for(var y=n._reactName,E=[];l!==null&&l!==s;){var x=l,O=x.alternate,W=x.stateNode;if(x=x.tag,O!==null&&O===s)break;x!==5&&x!==26&&x!==27||W===null||(O=W,m?(W=Uo(l,y),W!=null&&E.unshift(dl(l,W,O))):m||(W=Uo(l,y),W!=null&&E.push(dl(l,W,O)))),l=l.return}E.length!==0&&t.push({event:n,listeners:E})}var Mv=/\r\n?/g,Nv=/\u0000|\uFFFD/g;function Rh(t){return(typeof t=="string"?t:""+t).replace(Mv,`
`).replace(Nv,"")}function wh(t,n){return n=Rh(n),Rh(t)===n}function $t(t,n,l,s,m,y){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||qi(t,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&qi(t,""+s);break;case"className":Il(t,"class",s);break;case"tabIndex":Il(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(t,l,s);break;case"style":Rc(t,s,y);break;case"data":if(n!=="object"){Il(t,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){t.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(l);break}s=Ul(""+s),t.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(n!=="input"&&$t(t,n,"name",m.name,m,null),$t(t,n,"formEncType",m.formEncType,m,null),$t(t,n,"formMethod",m.formMethod,m,null),$t(t,n,"formTarget",m.formTarget,m,null)):($t(t,n,"encType",m.encType,m,null),$t(t,n,"method",m.method,m,null),$t(t,n,"target",m.target,m,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(l);break}s=Ul(""+s),t.setAttribute(l,s);break;case"onClick":s!=null&&(t.onclick=Tn);break;case"onScroll":s!=null&&Gt("scroll",t);break;case"onScrollEnd":s!=null&&Gt("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(l=s.__html,l!=null){if(m.children!=null)throw Error(r(60));t.innerHTML=l}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}l=Ul(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,""+s):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":s===!0?t.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(l,s):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(l,s):t.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(l):t.setAttribute(l,s);break;case"popover":Gt("beforetoggle",t),Gt("toggle",t),xl(t,"popover",s);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":xl(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=iy.get(l)||l,xl(t,l,s))}}function ru(t,n,l,s,m,y){switch(l){case"style":Rc(t,s,y);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(l=s.__html,l!=null){if(m.children!=null)throw Error(r(60));t.innerHTML=l}}break;case"children":typeof s=="string"?qi(t,s):(typeof s=="number"||typeof s=="bigint")&&qi(t,""+s);break;case"onScroll":s!=null&&Gt("scroll",t);break;case"onScrollEnd":s!=null&&Gt("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yc.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),n=l.slice(2,m?l.length-7:void 0),y=t[De]||null,y=y!=null?y[l]:null,typeof y=="function"&&t.removeEventListener(n,y,m),typeof s=="function")){typeof y!="function"&&y!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(n,s,m);break t}l in t?t[l]=s:s===!0?t.setAttribute(l,""):xl(t,l,s)}}}function be(t,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",t),Gt("load",t);var s=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":s=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,y,E,l,null)}}m&&$t(t,n,"srcSet",l.srcSet,l,null),s&&$t(t,n,"src",l.src,l,null);return;case"input":Gt("invalid",t);var x=y=E=m=null,O=null,W=null;for(s in l)if(l.hasOwnProperty(s)){var st=l[s];if(st!=null)switch(s){case"name":m=st;break;case"type":E=st;break;case"checked":O=st;break;case"defaultChecked":W=st;break;case"value":y=st;break;case"defaultValue":x=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(r(137,n));break;default:$t(t,n,s,st,l,null)}}Ec(t,y,x,O,W,E,m,!1);return;case"select":Gt("invalid",t),s=E=y=null;for(m in l)if(l.hasOwnProperty(m)&&(x=l[m],x!=null))switch(m){case"value":y=x;break;case"defaultValue":E=x;break;case"multiple":s=x;default:$t(t,n,m,x,l,null)}n=y,l=E,t.multiple=!!s,n!=null?Pi(t,!!s,n,!1):l!=null&&Pi(t,!!s,l,!0);return;case"textarea":Gt("invalid",t),y=m=s=null;for(E in l)if(l.hasOwnProperty(E)&&(x=l[E],x!=null))switch(E){case"value":s=x;break;case"defaultValue":m=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:$t(t,n,E,x,l,null)}Ac(t,s,m,y);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(s=l[O],s!=null))switch(O){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:$t(t,n,O,s,l,null)}return;case"dialog":Gt("beforetoggle",t),Gt("toggle",t),Gt("cancel",t),Gt("close",t);break;case"iframe":case"object":Gt("load",t);break;case"video":case"audio":for(s=0;s<fl.length;s++)Gt(fl[s],t);break;case"image":Gt("error",t),Gt("load",t);break;case"details":Gt("toggle",t);break;case"embed":case"source":case"link":Gt("error",t),Gt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(s=l[W],s!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:$t(t,n,W,s,l,null)}return;default:if(Ta(n)){for(st in l)l.hasOwnProperty(st)&&(s=l[st],s!==void 0&&ru(t,n,st,s,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(s=l[x],s!=null&&$t(t,n,x,s,l,null))}function xv(t,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,x=null,O=null,W=null,st=null;for(it in l){var dt=l[it];if(l.hasOwnProperty(it)&&dt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":O=dt;default:s.hasOwnProperty(it)||$t(t,n,it,null,s,dt)}}for(var tt in s){var it=s[tt];if(dt=l[tt],s.hasOwnProperty(tt)&&(it!=null||dt!=null))switch(tt){case"type":y=it;break;case"name":m=it;break;case"checked":W=it;break;case"defaultChecked":st=it;break;case"value":E=it;break;case"defaultValue":x=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,n));break;default:it!==dt&&$t(t,n,tt,it,s,dt)}}va(t,E,x,O,W,st,y,m);return;case"select":it=E=x=tt=null;for(y in l)if(O=l[y],l.hasOwnProperty(y)&&O!=null)switch(y){case"value":break;case"multiple":it=O;default:s.hasOwnProperty(y)||$t(t,n,y,null,s,O)}for(m in s)if(y=s[m],O=l[m],s.hasOwnProperty(m)&&(y!=null||O!=null))switch(m){case"value":tt=y;break;case"defaultValue":x=y;break;case"multiple":E=y;default:y!==O&&$t(t,n,m,y,s,O)}n=x,l=E,s=it,tt!=null?Pi(t,!!l,tt,!1):!!s!=!!l&&(n!=null?Pi(t,!!l,n,!0):Pi(t,!!l,l?[]:"",!1));return;case"textarea":it=tt=null;for(x in l)if(m=l[x],l.hasOwnProperty(x)&&m!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:$t(t,n,x,null,s,m)}for(E in s)if(m=s[E],y=l[E],s.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":tt=m;break;case"defaultValue":it=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&$t(t,n,E,m,s,y)}Cc(t,tt,it);return;case"option":for(var Ct in l)if(tt=l[Ct],l.hasOwnProperty(Ct)&&tt!=null&&!s.hasOwnProperty(Ct))switch(Ct){case"selected":t.selected=!1;break;default:$t(t,n,Ct,null,s,tt)}for(O in s)if(tt=s[O],it=l[O],s.hasOwnProperty(O)&&tt!==it&&(tt!=null||it!=null))switch(O){case"selected":t.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:$t(t,n,O,tt,s,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in l)tt=l[xt],l.hasOwnProperty(xt)&&tt!=null&&!s.hasOwnProperty(xt)&&$t(t,n,xt,null,s,tt);for(W in s)if(tt=s[W],it=l[W],s.hasOwnProperty(W)&&tt!==it&&(tt!=null||it!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(r(137,n));break;default:$t(t,n,W,tt,s,it)}return;default:if(Ta(n)){for(var jt in l)tt=l[jt],l.hasOwnProperty(jt)&&tt!==void 0&&!s.hasOwnProperty(jt)&&ru(t,n,jt,void 0,s,tt);for(st in s)tt=s[st],it=l[st],!s.hasOwnProperty(st)||tt===it||tt===void 0&&it===void 0||ru(t,n,st,tt,s,it);return}}for(var J in l)tt=l[J],l.hasOwnProperty(J)&&tt!=null&&!s.hasOwnProperty(J)&&$t(t,n,J,null,s,tt);for(dt in s)tt=s[dt],it=l[dt],!s.hasOwnProperty(dt)||tt===it||tt==null&&it==null||$t(t,n,dt,tt,s,it)}function Mh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Iv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var m=l[s],y=m.transferSize,E=m.initiatorType,x=m.duration;if(y&&x&&Mh(E)){for(E=0,x=m.responseEnd,s+=1;s<l.length;s++){var O=l[s],W=O.startTime;if(W>x)break;var st=O.transferSize,dt=O.initiatorType;st&&Mh(dt)&&(O=O.responseEnd,E+=st*(O<x?1:(x-W)/(O-W)))}if(--s,n+=8*(y+E)/(m.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var au=null,su=null;function Mr(t){return t.nodeType===9?t:t.ownerDocument}function Nh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xh(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function uu(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cu=null;function Dv(){var t=window.event;return t&&t.type==="popstate"?t===cu?!1:(cu=t,!0):(cu=null,!1)}var Ih=typeof setTimeout=="function"?setTimeout:void 0,Uv=typeof clearTimeout=="function"?clearTimeout:void 0,Dh=typeof Promise=="function"?Promise:void 0,kv=typeof queueMicrotask=="function"?queueMicrotask:typeof Dh<"u"?function(t){return Dh.resolve(null).then(t).catch(Lv)}:Ih;function Lv(t){setTimeout(function(){throw t})}function li(t){return t==="head"}function Uh(t,n){var l=n,s=0;do{var m=l.nextSibling;if(t.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(s===0){t.removeChild(m),To(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")hl(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,hl(l);for(var y=l.firstChild;y;){var E=y.nextSibling,x=y.nodeName;y[Io]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&hl(t.ownerDocument.body);l=m}while(l);To(n)}function kh(t,n){var l=t;t=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=s}while(l)}function fu(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fu(l),ga(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function zv(t,n,l,s){for(;t.nodeType===1;){var m=l;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Io])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=ln(t.nextSibling),t===null)break}return null}function Gv(t,n,l){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=ln(t.nextSibling),t===null))return null;return t}function Lh(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ln(t.nextSibling),t===null))return null;return t}function du(t){return t.data==="$?"||t.data==="$~"}function hu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Bv(t,n){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function ln(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var pu=null;function zh(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(n===0)return ln(t.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}t=t.nextSibling}return null}function Gh(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return t;n--}else l!=="/$"&&l!=="/&"||n++}t=t.previousSibling}return null}function Bh(t,n,l){switch(n=Mr(l),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function hl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ga(t)}var rn=new Map,Oh=new Set;function Nr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zn=Y.d;Y.d={f:Ov,r:Hv,D:Pv,C:qv,L:Vv,m:Fv,X:Jv,S:Yv,M:Kv};function Ov(){var t=zn.f(),n=Tr();return t||n}function Hv(t){var n=Bi(t);n!==null&&n.tag===5&&n.type==="form"?nd(n):zn.r(t)}var yo=typeof document>"u"?null:document;function Hh(t,n,l){var s=yo;if(s&&typeof n=="string"&&n){var m=We(n);m='link[rel="'+t+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Oh.has(m)||(Oh.add(m),t={rel:t,crossOrigin:l,href:n},s.querySelector(m)===null&&(n=s.createElement("link"),be(n,"link",t),ge(n),s.head.appendChild(n)))}}function Pv(t){zn.D(t),Hh("dns-prefetch",t,null)}function qv(t,n){zn.C(t,n),Hh("preconnect",t,n)}function Vv(t,n,l){zn.L(t,n,l);var s=yo;if(s&&t&&n){var m='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+We(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+We(l.imageSizes)+'"]')):m+='[href="'+We(t)+'"]';var y=m;switch(n){case"style":y=vo(t);break;case"script":y=_o(t)}rn.has(y)||(t=_({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:t,as:n},l),rn.set(y,t),s.querySelector(m)!==null||n==="style"&&s.querySelector(pl(y))||n==="script"&&s.querySelector(ml(y))||(n=s.createElement("link"),be(n,"link",t),ge(n),s.head.appendChild(n)))}}function Fv(t,n){zn.m(t,n);var l=yo;if(l&&t){var s=n&&typeof n.as=="string"?n.as:"script",m='link[rel="modulepreload"][as="'+We(s)+'"][href="'+We(t)+'"]',y=m;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=_o(t)}if(!rn.has(y)&&(t=_({rel:"modulepreload",href:t},n),rn.set(y,t),l.querySelector(m)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ml(y)))return}s=l.createElement("link"),be(s,"link",t),ge(s),l.head.appendChild(s)}}}function Yv(t,n,l){zn.S(t,n,l);var s=yo;if(s&&t){var m=Oi(s).hoistableStyles,y=vo(t);n=n||"default";var E=m.get(y);if(!E){var x={loading:0,preload:null};if(E=s.querySelector(pl(y)))x.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":n},l),(l=rn.get(y))&&mu(t,l);var O=E=s.createElement("link");ge(O),be(O,"link",t),O._p=new Promise(function(W,st){O.onload=W,O.onerror=st}),O.addEventListener("load",function(){x.loading|=1}),O.addEventListener("error",function(){x.loading|=2}),x.loading|=4,xr(E,n,s)}E={type:"stylesheet",instance:E,count:1,state:x},m.set(y,E)}}}function Jv(t,n){zn.X(t,n);var l=yo;if(l&&t){var s=Oi(l).hoistableScripts,m=_o(t),y=s.get(m);y||(y=l.querySelector(ml(m)),y||(t=_({src:t,async:!0},n),(n=rn.get(m))&&gu(t,n),y=l.createElement("script"),ge(y),be(y,"link",t),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(m,y))}}function Kv(t,n){zn.M(t,n);var l=yo;if(l&&t){var s=Oi(l).hoistableScripts,m=_o(t),y=s.get(m);y||(y=l.querySelector(ml(m)),y||(t=_({src:t,async:!0,type:"module"},n),(n=rn.get(m))&&gu(t,n),y=l.createElement("script"),ge(y),be(y,"link",t),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},s.set(m,y))}}function Ph(t,n,l,s){var m=(m=_t.current)?Nr(m):null;if(!m)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=vo(l.href),l=Oi(m).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=vo(l.href);var y=Oi(m).hoistableStyles,E=y.get(t);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,E),(y=m.querySelector(pl(t)))&&!y._p&&(E.instance=y,E.state.loading=5),rn.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},rn.set(t,l),y||Xv(m,t,l,E.state))),n&&s===null)throw Error(r(528,""));return E}if(n&&s!==null)throw Error(r(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_o(l),l=Oi(m).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function vo(t){return'href="'+We(t)+'"'}function pl(t){return'link[rel="stylesheet"]['+t+"]"}function qh(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Xv(t,n,l,s){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=t.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),be(n,"link",l),ge(n),t.head.appendChild(n))}function _o(t){return'[src="'+We(t)+'"]'}function ml(t){return"script[async]"+t}function Vh(t,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=t.querySelector('style[data-href~="'+We(l.href)+'"]');if(s)return n.instance=s,ge(s),s;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),ge(s),be(s,"style",m),xr(s,l.precedence,t),n.instance=s;case"stylesheet":m=vo(l.href);var y=t.querySelector(pl(m));if(y)return n.state.loading|=4,n.instance=y,ge(y),y;s=qh(l),(m=rn.get(m))&&mu(s,m),y=(t.ownerDocument||t).createElement("link"),ge(y);var E=y;return E._p=new Promise(function(x,O){E.onload=x,E.onerror=O}),be(y,"link",s),n.state.loading|=4,xr(y,l.precedence,t),n.instance=y;case"script":return y=_o(l.src),(m=t.querySelector(ml(y)))?(n.instance=m,ge(m),m):(s=l,(m=rn.get(y))&&(s=_({},l),gu(s,m)),t=t.ownerDocument||t,m=t.createElement("script"),ge(m),be(m,"link",s),t.head.appendChild(m),n.instance=m);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,xr(s,l.precedence,t));return n.instance}function xr(t,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=s.length?s[s.length-1]:null,y=m,E=0;E<s.length;E++){var x=s[E];if(x.dataset.precedence===n)y=x;else if(y!==m)break}y?y.parentNode.insertBefore(t,y.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(t,n.firstChild))}function mu(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gu(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ir=null;function Fh(t,n,l){if(Ir===null){var s=new Map,m=Ir=new Map;m.set(l,s)}else m=Ir,s=m.get(l),s||(s=new Map,m.set(l,s));if(s.has(t))return s;for(s.set(t,null),l=l.getElementsByTagName(t),m=0;m<l.length;m++){var y=l[m];if(!(y[Io]||y[Se]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(n)||"";E=t+E;var x=s.get(E);x?x.push(y):s.set(E,[y])}}return s}function Yh(t,n,l){t=t.ownerDocument||t,t.head.insertBefore(l,n==="title"?t.querySelector("head > title"):null)}function Zv(t,n,l){if(l===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Jh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Qv(t,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=vo(s.href),y=n.querySelector(pl(m));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Dr.bind(t),n.then(t,t)),l.state.loading|=4,l.instance=y,ge(y);return}y=n.ownerDocument||n,s=qh(s),(m=rn.get(m))&&mu(s,m),y=y.createElement("link"),ge(y);var E=y;E._p=new Promise(function(x,O){E.onload=x,E.onerror=O}),be(y,"link",s),l.instance=y}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=Dr.bind(t),n.addEventListener("load",l),n.addEventListener("error",l))}}var yu=0;function Wv(t,n){return t.stylesheets&&t.count===0&&kr(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var s=setTimeout(function(){if(t.stylesheets&&kr(t,t.stylesheets),t.unsuspend){var y=t.unsuspend;t.unsuspend=null,y()}},6e4+n);0<t.imgBytes&&yu===0&&(yu=62500*Iv());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kr(t,t.stylesheets),t.unsuspend)){var y=t.unsuspend;t.unsuspend=null,y()}},(t.imgBytes>yu?50:800)+n);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(m)}}:null}function Dr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ur=null;function kr(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ur=new Map,n.forEach($v,t),Ur=null,Dr.call(t))}function $v(t,n){if(!(n.state.loading&4)){var l=Ur.get(t);if(l)var s=l.get(null);else{l=new Map,Ur.set(t,l);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),s=E)}s&&l.set(null,s)}m=n.instance,E=m.getAttribute("data-precedence"),y=l.get(E)||s,y===s&&l.set(null,m),l.set(E,m),this.count++,s=Dr.bind(this),m.addEventListener("load",s),m.addEventListener("error",s),y?y.parentNode.insertBefore(m,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),n.state.loading|=4}}var gl={$$typeof:D,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function jv(t,n,l,s,m,y,E,x,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=s,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Kh(t,n,l,s,m,y,E,x,O,W,st,dt){return t=new jv(t,n,l,E,O,W,st,dt,x),n=1,y===!0&&(n|=24),y=He(3,null,null,n),t.current=y,y.stateNode=t,n=Qa(),n.refCount++,t.pooledCache=n,n.refCount++,y.memoizedState={element:s,isDehydrated:l,cache:n},ts(y),t}function Xh(t){return t?(t=Zi,t):Zi}function Zh(t,n,l,s,m,y){m=Xh(m),s.context===null?s.context=m:s.pendingContext=m,s=Xn(n),s.payload={element:l},y=y===void 0?null:y,y!==null&&(s.callback=y),l=Zn(t,s,n),l!==null&&(Be(l,t,n),Xo(l,t,n))}function Qh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<n?l:n}}function vu(t,n){Qh(t,n),(t=t.alternate)&&Qh(t,n)}function Wh(t){if(t.tag===13||t.tag===31){var n=_i(t,67108864);n!==null&&Be(n,t,67108864),vu(t,67108864)}}function $h(t){if(t.tag===13||t.tag===31){var n=Ye();n=ha(n);var l=_i(t,n);l!==null&&Be(l,t,n),vu(t,n)}}var Lr=!0;function t0(t,n,l,s){var m=X.T;X.T=null;var y=Y.p;try{Y.p=2,_u(t,n,l,s)}finally{Y.p=y,X.T=m}}function e0(t,n,l,s){var m=X.T;X.T=null;var y=Y.p;try{Y.p=8,_u(t,n,l,s)}finally{Y.p=y,X.T=m}}function _u(t,n,l,s){if(Lr){var m=Tu(s);if(m===null)lu(t,n,s,zr,l),tp(t,s);else if(i0(m,t,n,l,s))s.stopPropagation();else if(tp(t,s),n&4&&-1<n0.indexOf(t)){for(;m!==null;){var y=Bi(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Ze(y.pendingLanes);if(E!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;E;){var O=1<<31-le(E);x.entanglements[1]|=O,E&=~O}vn(y),(Yt&6)===0&&(vr=Tt()+500,cl(0))}}break;case 31:case 13:x=_i(y,2),x!==null&&Be(x,y,2),Tr(),vu(y,2)}if(y=Tu(s),y===null&&lu(t,n,s,zr,l),y===m)break;m=y}m!==null&&s.stopPropagation()}else lu(t,n,s,null,l)}}function Tu(t){return t=Ea(t),Su(t)}var zr=null;function Su(t){if(zr=null,t=Gi(t),t!==null){var n=u(t);if(n===null)t=null;else{var l=n.tag;if(l===13){if(t=f(n),t!==null)return t;t=null}else if(l===31){if(t=h(n),t!==null)return t;t=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return zr=t,null}function jh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yt()){case Rt:return 2;case Xt:return 8;case Lt:case Ie:return 32;case Hn:return 268435456;default:return 32}default:return 32}}var Eu=!1,ri=null,ai=null,si=null,yl=new Map,vl=new Map,ui=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tp(t,n){switch(t){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":si=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function _l(t,n,l,s,m,y){return t===null||t.nativeEvent!==y?(t={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:y,targetContainers:[m]},n!==null&&(n=Bi(n),n!==null&&Wh(n)),t):(t.eventSystemFlags|=s,n=t.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),t)}function i0(t,n,l,s,m){switch(n){case"focusin":return ri=_l(ri,t,n,l,s,m),!0;case"dragenter":return ai=_l(ai,t,n,l,s,m),!0;case"mouseover":return si=_l(si,t,n,l,s,m),!0;case"pointerover":var y=m.pointerId;return yl.set(y,_l(yl.get(y)||null,t,n,l,s,m)),!0;case"gotpointercapture":return y=m.pointerId,vl.set(y,_l(vl.get(y)||null,t,n,l,s,m)),!0}return!1}function ep(t){var n=Gi(t.target);if(n!==null){var l=u(n);if(l!==null){if(n=l.tag,n===13){if(n=f(l),n!==null){t.blockedOn=n,pc(t.priority,function(){$h(l)});return}}else if(n===31){if(n=h(l),n!==null){t.blockedOn=n,pc(t.priority,function(){$h(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gr(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var l=Tu(t.nativeEvent);if(l===null){l=t.nativeEvent;var s=new l.constructor(l.type,l);Sa=s,l.target.dispatchEvent(s),Sa=null}else return n=Bi(l),n!==null&&Wh(n),t.blockedOn=l,!1;n.shift()}return!0}function np(t,n,l){Gr(t)&&l.delete(n)}function o0(){Eu=!1,ri!==null&&Gr(ri)&&(ri=null),ai!==null&&Gr(ai)&&(ai=null),si!==null&&Gr(si)&&(si=null),yl.forEach(np),vl.forEach(np)}function Br(t,n){t.blockedOn===n&&(t.blockedOn=null,Eu||(Eu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,o0)))}var Or=null;function ip(t){Or!==t&&(Or=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Or===t&&(Or=null);for(var n=0;n<t.length;n+=3){var l=t[n],s=t[n+1],m=t[n+2];if(typeof s!="function"){if(Su(s||l)===null)continue;break}var y=Bi(l);y!==null&&(t.splice(n,3),n-=3,Ts(y,{pending:!0,data:m,method:l.method,action:s},s,m))}}))}function To(t){function n(O){return Br(O,t)}ri!==null&&Br(ri,t),ai!==null&&Br(ai,t),si!==null&&Br(si,t),yl.forEach(n),vl.forEach(n);for(var l=0;l<ui.length;l++){var s=ui[l];s.blockedOn===t&&(s.blockedOn=null)}for(;0<ui.length&&(l=ui[0],l.blockedOn===null);)ep(l),l.blockedOn===null&&ui.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var m=l[s],y=l[s+1],E=m[De]||null;if(typeof y=="function")E||ip(l);else if(E){var x=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[De]||null)x=E.formAction;else if(Su(m)!==null)continue}else x=E.action;typeof x=="function"?l[s+1]=x:(l.splice(s,3),s-=3),ip(l)}}}function op(){function t(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function n(){m!==null&&(m(),m=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),m!==null&&(m(),m=null)}}}function Cu(t){this._internalRoot=t}Hr.prototype.render=Cu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var l=n.current,s=Ye();Zh(l,s,t,n,null,null)},Hr.prototype.unmount=Cu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Zh(t.current,2,null,t,null,null),Tr(),n[zi]=null}};function Hr(t){this._internalRoot=t}Hr.prototype.unstable_scheduleHydration=function(t){if(t){var n=hc();t={blockedOn:null,target:t,priority:n};for(var l=0;l<ui.length&&n!==0&&n<ui[l].priority;l++);ui.splice(l,0,t),l===0&&ep(t)}};var lp=e.version;if(lp!=="19.2.4")throw Error(r(527,lp,"19.2.4"));Y.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var l0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pr.isDisabled&&Pr.supportsFiber)try{te=Pr.inject(l0),me=Pr}catch{}}return Sl.createRoot=function(t,n){if(!a(t))throw Error(r(299));var l=!1,s="",m=dd,y=hd,E=pd;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(m=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError)),n=Kh(t,1,!1,null,null,l,s,null,m,y,E,op),t[zi]=n.current,ou(t),new Cu(n)},Sl.hydrateRoot=function(t,n,l){if(!a(t))throw Error(r(299));var s=!1,m="",y=dd,E=hd,x=pd,O=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),n=Kh(t,1,!0,n,l??null,s,m,O,y,E,x,op),n.context=Xh(null),l=n.current,s=Ye(),s=ha(s),m=Xn(s),m.callback=null,Zn(l,m,s),l=s,n.current.lanes=l,xo(n,l),vn(n),t[zi]=n.current,ou(t),new Hr(n)},Sl.version="19.2.4",Sl}var mp;function g0(){if(mp)return Ru.exports;mp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ru.exports=m0(),Ru.exports}var y0=g0();const v0=oa(y0),_0=({items:i,onSelect:e,onUpload:o})=>{const r=Pt.useRef(null),a=u=>{u.target.files&&u.target.files[0]&&o(u.target.files[0])};return Et.jsxs("div",{className:"min-h-screen bg-background-dark text-white font-display",children:[Et.jsx("header",{className:"sticky top-0 z-50 flex items-center justify-between px-6 py-6 bg-background-dark/80 backdrop-blur-md border-b border-white/5",children:Et.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-[#a78bfa] to-[#4b2bee] bg-clip-text text-transparent",children:"Library"})}),Et.jsx("main",{className:"px-4 pb-24 pt-4",children:i.length===0?Et.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center text-white/50",children:[Et.jsx("span",{className:"material-symbols-outlined text-7xl mb-6 text-white/10",children:"library_books"}),Et.jsx("h2",{className:"text-xl font-medium text-white mb-2",children:"Your library is empty"}),Et.jsx("p",{className:"text-sm max-w-md mx-auto mb-8",children:"Upload a local .cbz or .zip file to start reading your manga collection."}),Et.jsx("button",{onClick:()=>{var u;return(u=r.current)==null?void 0:u.click()},className:"px-8 py-3 bg-primary hover:bg-primary/90 text-white rounded-full font-medium transition-all shadow-[0_0_20px_rgba(75,43,238,0.3)] hover:shadow-[0_0_25px_rgba(75,43,238,0.5)] active:scale-95",children:"Upload Manga"})]}):Et.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:i.map(u=>Et.jsx("div",{onClick:()=>e(u.id),className:"group relative aspect-[2/3] overflow-hidden rounded-lg bg-primary/10 transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] cursor-pointer ring-1 ring-white/10 hover:ring-primary/50",children:Et.jsx("div",{className:"h-full w-full bg-cover bg-center transition-transform duration-500 group-hover:scale-110",style:{backgroundImage:`url('${u.coverUrl}')`},children:Et.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4",children:Et.jsx("p",{className:"text-sm font-medium text-white line-clamp-2",children:u.title})})})},u.id))})}),Et.jsx("input",{type:"file",ref:r,onChange:a,accept:".zip,.cbz,.rar",className:"hidden"}),i.length>0&&Et.jsx("button",{onClick:()=>{var u;return(u=r.current)==null?void 0:u.click()},className:"fixed bottom-8 right-8 z-50 flex h-14 w-14 items-center justify-center rounded-full bg-primary text-white shadow-[0_0_15px_rgba(75,43,238,0.4)] transition-transform hover:scale-105 active:scale-95 hover:bg-primary/90","aria-label":"Upload Manga",children:Et.jsx("span",{className:"material-symbols-outlined text-3xl",children:"add"})})]})};var El={exports:{}},xu={},Iu,gp;function T0(){if(gp)return Iu;gp=1;function i(e,o){typeof o=="boolean"&&(o={forever:o}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=o||{},this._maxRetryTime=o&&o.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Iu=i,i.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},i.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},i.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var o=new Date().getTime();if(e&&o-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},r),this._options.unref&&this._timer.unref(),!0},i.prototype.attempt=function(e,o){this._fn=e,o&&(o.timeout&&(this._operationTimeout=o.timeout),o.cb&&(this._operationTimeoutCb=o.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},i.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},i.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},i.prototype.start=i.prototype.try,i.prototype.errors=function(){return this._errors},i.prototype.attempts=function(){return this._attempts},i.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},o=null,r=0,a=0;a<this._errors.length;a++){var u=this._errors[a],f=u.message,h=(e[f]||0)+1;e[f]=h,h>=r&&(o=u,r=h)}return o},Iu}var yp;function S0(){return yp||(yp=1,(function(i){var e=T0();i.operation=function(o){var r=i.timeouts(o);return new e(r,{forever:o&&(o.forever||o.retries===1/0),unref:o&&o.unref,maxRetryTime:o&&o.maxRetryTime})},i.timeouts=function(o){if(o instanceof Array)return[].concat(o);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in o)r[a]=o[a];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var u=[],f=0;f<r.retries;f++)u.push(this.createTimeout(f,r));return o&&o.forever&&!u.length&&u.push(this.createTimeout(f,r)),u.sort(function(h,g){return h-g}),u},i.createTimeout=function(o,r){var a=r.randomize?Math.random()+1:1,u=Math.round(a*Math.max(r.minTimeout,1)*Math.pow(r.factor,o));return u=Math.min(u,r.maxTimeout),u},i.wrap=function(o,r,a){if(r instanceof Array&&(a=r,r=null),!a){a=[];for(var u in o)typeof o[u]=="function"&&a.push(u)}for(var f=0;f<a.length;f++){var h=a[f],g=o[h];o[h]=(function(v){var _=i.operation(r),T=Array.prototype.slice.call(arguments,1),S=T.pop();T.push(function(b){_.retry(b)||(b&&(arguments[0]=_.mainError()),S.apply(this,arguments))}),_.attempt(function(){v.apply(o,T)})}).bind(o,g),o[h].options=r}}})(xu)),xu}var Du,vp;function E0(){return vp||(vp=1,Du=S0()),Du}var _p;function C0(){if(_p)return El.exports;_p=1;const i=E0(),e=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(h){super(),h instanceof Error?(this.originalError=h,{message:h}=h):(this.originalError=new Error(h),this.originalError.stack=this.stack),this.name="AbortError",this.message=h}}const r=(f,h,g)=>{const p=g.retries-(h-1);return f.attemptNumber=h,f.retriesLeft=p,f},a=f=>e.includes(f),u=(f,h)=>new Promise((g,p)=>{h={onFailedAttempt:()=>{},retries:10,...h};const v=i.operation(h);v.attempt(async _=>{try{g(await f(_))}catch(T){if(!(T instanceof Error)){p(new TypeError(`Non-error was thrown: "${T}". You should only throw errors.`));return}if(T instanceof o)v.stop(),p(T.originalError);else if(T instanceof TypeError&&!a(T.message))v.stop(),p(T);else{r(T,_,h);try{await h.onFailedAttempt(T)}catch(S){p(S);return}v.retry(T)||p(v.mainError())}}})});return El.exports=u,El.exports.default=u,El.exports.AbortError=o,El.exports}var jm=C0();const A0=oa(jm);var b0={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let R0,w0;function M0(){return{geminiUrl:R0,vertexUrl:w0}}function N0(i,e,o,r){var a,u;if(!(i!=null&&i.baseUrl)){const f=M0();return e?(a=f.vertexUrl)!==null&&a!==void 0?a:o:(u=f.geminiUrl)!==null&&u!==void 0?u:r}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn{}function St(i,e){const o=/\{([^}]+)\}/g;return i.replace(o,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(i,e,o){for(let u=0;u<e.length-1;u++){const f=e[u];if(f.endsWith("[]")){const h=f.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(i[h])){const g=i[h];if(Array.isArray(o))for(let p=0;p<g.length;p++){const v=g[p];d(v,e.slice(u+1),o[p])}else for(const p of g)d(p,e.slice(u+1),o)}return}else if(f.endsWith("[0]")){const h=f.slice(0,-3);h in i||(i[h]=[{}]);const g=i[h];d(g[0],e.slice(u+1),o);return}(!i[f]||typeof i[f]!="object")&&(i[f]={}),i=i[f]}const r=e[e.length-1],a=i[r];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[r]=o}function c(i,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return i;for(let r=0;r<e.length;r++){if(typeof i!="object"||i===null)return o;const a=e[r];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in i){const f=i[u];return Array.isArray(f)?f.map(h=>c(h,e.slice(r+1),o)):o}else return o}else i=i[a]}return i}catch(r){if(r instanceof TypeError)return o;throw r}}function x0(i,e){for(const[o,r]of Object.entries(e)){const a=o.split("."),u=r.split("."),f=new Set;let h=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){h=g;break}if(h!==-1&&u.length>h)for(let g=h;g<u.length;g++){const p=u[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&f.add(p)}Gu(i,a,u,0,f)}}function Gu(i,e,o,r,a){if(r>=e.length||typeof i!="object"||i===null)return;const u=e[r];if(u.endsWith("[]")){const f=u.slice(0,-2),h=i;if(f in h&&Array.isArray(h[f]))for(const g of h[f])Gu(g,e,o,r+1,a)}else if(u==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const f=i,h=Object.keys(f).filter(p=>!p.startsWith("_")&&!a.has(p)),g={};for(const p of h)g[p]=f[p];for(const[p,v]of Object.entries(g)){const _=[];for(const T of o.slice(r))T==="*"?_.push(p):_.push(T);d(f,_,v)}for(const p of h)delete f[p]}}else{const f=i;u in f&&Gu(f[u],e,o,r+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ju(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I0(i){const e={},o=c(i,["operationName"]);o!=null&&d(e,["operationName"],o);const r=c(i,["resourceName"]);return r!=null&&d(e,["_url","resourceName"],r),e}function D0(i){const e={},o=c(i,["name"]);o!=null&&d(e,["name"],o);const r=c(i,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(i,["done"]);a!=null&&d(e,["done"],a);const u=c(i,["error"]);u!=null&&d(e,["error"],u);const f=c(i,["response","generateVideoResponse"]);return f!=null&&d(e,["response"],k0(f)),e}function U0(i){const e={},o=c(i,["name"]);o!=null&&d(e,["name"],o);const r=c(i,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(i,["done"]);a!=null&&d(e,["done"],a);const u=c(i,["error"]);u!=null&&d(e,["error"],u);const f=c(i,["response"]);return f!=null&&d(e,["response"],L0(f)),e}function k0(i){const e={},o=c(i,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>z0(f))),d(e,["generatedVideos"],u)}const r=c(i,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const a=c(i,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function L0(i){const e={},o=c(i,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>G0(f))),d(e,["generatedVideos"],u)}const r=c(i,["raiMediaFilteredCount"]);r!=null&&d(e,["raiMediaFilteredCount"],r);const a=c(i,["raiMediaFilteredReasons"]);return a!=null&&d(e,["raiMediaFilteredReasons"],a),e}function z0(i){const e={},o=c(i,["video"]);return o!=null&&d(e,["video"],V0(o)),e}function G0(i){const e={},o=c(i,["_self"]);return o!=null&&d(e,["video"],F0(o)),e}function B0(i){const e={},o=c(i,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function O0(i){const e={},o=c(i,["operationName"]);return o!=null&&d(e,["_url","operationName"],o),e}function H0(i){const e={},o=c(i,["name"]);o!=null&&d(e,["name"],o);const r=c(i,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(i,["done"]);a!=null&&d(e,["done"],a);const u=c(i,["error"]);u!=null&&d(e,["error"],u);const f=c(i,["response"]);return f!=null&&d(e,["response"],P0(f)),e}function P0(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["parent"]);r!=null&&d(e,["parent"],r);const a=c(i,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function tg(i){const e={},o=c(i,["name"]);o!=null&&d(e,["name"],o);const r=c(i,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(i,["done"]);a!=null&&d(e,["done"],a);const u=c(i,["error"]);u!=null&&d(e,["error"],u);const f=c(i,["response"]);return f!=null&&d(e,["response"],q0(f)),e}function q0(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["parent"]);r!=null&&d(e,["parent"],r);const a=c(i,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function V0(i){const e={},o=c(i,["uri"]);o!=null&&d(e,["uri"],o);const r=c(i,["encodedVideo"]);r!=null&&d(e,["videoBytes"],ju(r));const a=c(i,["encoding"]);return a!=null&&d(e,["mimeType"],a),e}function F0(i){const e={},o=c(i,["gcsUri"]);o!=null&&d(e,["uri"],o);const r=c(i,["bytesBase64Encoded"]);r!=null&&d(e,["videoBytes"],ju(r));const a=c(i,["mimeType"]);return a!=null&&d(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Tp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Tp||(Tp={}));var Sp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Sp||(Sp={}));var Ep;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Ep||(Ep={}));var fi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(fi||(fi={}));var Cp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cp||(Cp={}));var Ap;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Ap||(Ap={}));var bp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(bp||(bp={}));var Rp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Rp||(Rp={}));var wp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(wp||(wp={}));var Mp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Mp||(Mp={}));var Np;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Np||(Np={}));var xp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(xp||(xp={}));var Ip;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ip||(Ip={}));var Dp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Dp||(Dp={}));var Up;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Up||(Up={}));var kp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(kp||(kp={}));var Lp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Lp||(Lp={}));var zp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zp||(zp={}));var Gp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Gp||(Gp={}));var Bp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Bp||(Bp={}));var Op;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Op||(Op={}));var Wr;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Wr||(Wr={}));var Hp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Hp||(Hp={}));var Pp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Pp||(Pp={}));var qp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qp||(qp={}));var Bu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Bu||(Bu={}));var Vp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Vp||(Vp={}));var Fp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Fp||(Fp={}));var Ou;(function(i){i.COLLECTION="COLLECTION"})(Ou||(Ou={}));var Yp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Yp||(Yp={}));var Jp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Jp||(Jp={}));var $r;(function(i){i.PREDICT="PREDICT",i.EMBED_CONTENT="EMBED_CONTENT"})($r||($r={}));var Kp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Kp||(Kp={}));var Xp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Xp||(Xp={}));var Zp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Zp||(Zp={}));var Qp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Qp||(Qp={}));var Wp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wp||(Wp={}));var $p;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})($p||($p={}));var jp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(jp||(jp={}));var tm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(tm||(tm={}));var em;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(em||(em={}));var nm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(nm||(nm={}));var im;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(im||(im={}));var om;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(om||(om={}));var lm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(lm||(lm={}));var rm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(rm||(rm={}));var am;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(am||(am={}));var sm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sm||(sm={}));var um;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(um||(um={}));var cm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(cm||(cm={}));var fm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(fm||(fm={}));var dm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(dm||(dm={}));var hm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hm||(hm={}));var pm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(pm||(pm={}));var mm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(mm||(mm={}));var gm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(gm||(gm={}));var ym;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(ym||(ym={}));var Eo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Eo||(Eo={}));class Hu{constructor(e){const o={};for(const r of e.headers.entries())o[r[0]]=r[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class Cl{get text(){var e,o,r,a,u,f,h,g;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const _=[];for(const T of(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,b]of Object.entries(T))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(b!==null||b!==void 0)&&_.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,p+=T.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,o,r,a,u,f,h,g;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const _ of(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[T,S]of Object.entries(_))T!=="inlineData"&&(S!==null||S!==void 0)&&v.push(T);_.inlineData&&typeof _.inlineData.data=="string"&&(p+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,o,r,a,u,f,h,g;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,o,r,a,u,f,h,g,p;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,o,r,a,u,f,h,g,p;if(((a=(r=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class vm{}class _m{}class Y0{}class J0{}class K0{}class X0{}class Tm{}class Sm{}class Em{}class Z0{}class jr{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const r=new jr;let a;const u=e;return o?a=U0(u):a=D0(u),Object.assign(r,a),r}}class Cm{}class Am{}class bm{}class Rm{}class Q0{}class W0{}class $0{}class tc{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const r=new tc,u=H0(e);return Object.assign(r,u),r}}class j0{}class t_{}class e_{}class n_{}class wm{}class i_{get text(){var e,o,r;let a="",u=!1;const f=[];for(const h of(r=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[g,p]of Object.entries(h))g!=="text"&&g!=="thought"&&p!==null&&f.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;u=!0,a+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,o,r;let a="";const u=[];for(const f of(r=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[h,g]of Object.entries(f))h!=="inlineData"&&g!==null&&u.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class o_{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ec{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const r=new ec,u=tg(e);return Object.assign(r,u),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ft(i,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function eg(i,e){const o=Ft(i,e);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function ng(i){return Array.isArray(i)?i.map(e=>ta(e)):[ta(i)]}function ta(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function ig(i){const e=ta(i);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function og(i){const e=ta(i);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Mm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function lg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(e=>Mm(e)):[Mm(i)]}function Pu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Nm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function xm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function ve(i){if(i==null)throw new Error("ContentUnion is required");return Pu(i)?i:{role:"user",parts:lg(i)}}function nc(i,e){if(!e)return[];if(i.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const r=ve(o);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(i.isVertexAI()){const o=ve(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>ve(o)):[ve(e)]}function Je(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Nm(i)||xm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ve(i)]}const e=[],o=[],r=Pu(i[0]);for(const a of i){const u=Pu(a);if(u!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(Nm(a)||xm(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return r||e.push({role:"user",parts:lg(o)}),e}function l_(i,e){i.includes("null")&&(e.nullable=!0);const o=i.filter(r=>r!=="null");if(o.length===1)e.type=Object.values(fi).includes(o[0].toUpperCase())?o[0].toUpperCase():fi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of o)e.anyOf.push({type:Object.values(fi).includes(r.toUpperCase())?r.toUpperCase():fi.TYPE_UNSPECIFIED})}}function Ao(i){const e={},o=["items"],r=["anyOf"],a=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=i.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,i=u[1]):u[1].type==="null"&&(e.nullable=!0,i=u[0])),i.type instanceof Array&&l_(i.type,e);for(const[f,h]of Object.entries(i))if(h!=null)if(f=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(fi).includes(h.toUpperCase())?h.toUpperCase():fi.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=Ao(h);else if(r.includes(f)){const g=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}g.push(Ao(p))}e[f]=g}else if(a.includes(f)){const g={};for(const[p,v]of Object.entries(h))g[p]=Ao(v);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=h}return e}function ic(i){return Ao(i)}function oc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function lc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ro(i){if(i.functionDeclarations)for(const e of i.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ao(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ao(e.response));return i}function wo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of i)e.push(o);return e}function r_(i,e,o,r=1){const a=!e.startsWith(`${o}/`)&&e.split("/").length===r;return i.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${i.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${e}`:a?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${e}`:e:a?`${o}/${e}`:e}function On(i,e){if(typeof e!="string")throw new Error("name must be a string");return r_(i,e,"cachedContents")}function rg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function di(i){return ju(i)}function a_(i){return i!=null&&typeof i=="object"&&"name"in i}function s_(i){return i!=null&&typeof i=="object"&&"video"in i}function u_(i){return i!=null&&typeof i=="object"&&"uri"in i}function ag(i){var e;let o;if(a_(i)&&(o=i.name),!(u_(i)&&(o=i.uri,o===void 0))&&!(s_(i)&&(o=(e=i.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function sg(i,e){let o;return i.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function ug(i){for(const e of["models","tunedModels","publisherModels"])if(c_(i,e))return i[e];return[]}function c_(i,e){return i!==null&&typeof i=="object"&&e in i}function f_(i,e={}){const o=i,r={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(r.responseJsonSchema=o.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function d_(i,e={}){const o=[],r=new Set;for(const a of i){const u=a.name;if(r.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);r.add(u);const f=f_(a,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function cg(i,e){let o;if(typeof e=="string")if(i.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const r=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function h_(i){if(typeof i!="string")return i;const e=i;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fg(i){if(typeof i!="object"||i===null)return{};const e=i,o=e.inlinedResponses;if(typeof o!="object"||o===null)return i;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return i;let u=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),i}function Mo(i,e){const o=e;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function dg(i){const e=i;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function p_(i){return i.includes("gemini")&&i!=="gemini-embedding-001"||i.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m_(i){const e={},o=c(i,["responsesFile"]);o!=null&&d(e,["fileName"],o);const r=c(i,["inlinedResponses","inlinedResponses"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Z_(f))),d(e,["inlinedResponses"],u)}const a=c(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["inlinedEmbedContentResponses"],u)}return e}function g_(i){const e={},o=c(i,["predictionsFormat"]);o!=null&&d(e,["format"],o);const r=c(i,["gcsDestination","outputUriPrefix"]);r!=null&&d(e,["gcsUri"],r);const a=c(i,["bigqueryDestination","outputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function y_(i){const e={},o=c(i,["format"]);o!=null&&d(e,["predictionsFormat"],o);const r=c(i,["gcsUri"]);r!=null&&d(e,["gcsDestination","outputUriPrefix"],r);const a=c(i,["bigqueryUri"]);if(a!=null&&d(e,["bigqueryDestination","outputUri"],a),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Zr(i){const e={},o=c(i,["name"]);o!=null&&d(e,["name"],o);const r=c(i,["metadata","displayName"]);r!=null&&d(e,["displayName"],r);const a=c(i,["metadata","state"]);a!=null&&d(e,["state"],dg(a));const u=c(i,["metadata","createTime"]);u!=null&&d(e,["createTime"],u);const f=c(i,["metadata","endTime"]);f!=null&&d(e,["endTime"],f);const h=c(i,["metadata","updateTime"]);h!=null&&d(e,["updateTime"],h);const g=c(i,["metadata","model"]);g!=null&&d(e,["model"],g);const p=c(i,["metadata","output"]);return p!=null&&d(e,["dest"],m_(fg(p))),e}function qu(i){const e={},o=c(i,["name"]);o!=null&&d(e,["name"],o);const r=c(i,["displayName"]);r!=null&&d(e,["displayName"],r);const a=c(i,["state"]);a!=null&&d(e,["state"],dg(a));const u=c(i,["error"]);u!=null&&d(e,["error"],u);const f=c(i,["createTime"]);f!=null&&d(e,["createTime"],f);const h=c(i,["startTime"]);h!=null&&d(e,["startTime"],h);const g=c(i,["endTime"]);g!=null&&d(e,["endTime"],g);const p=c(i,["updateTime"]);p!=null&&d(e,["updateTime"],p);const v=c(i,["model"]);v!=null&&d(e,["model"],v);const _=c(i,["inputConfig"]);_!=null&&d(e,["src"],v_(_));const T=c(i,["outputConfig"]);T!=null&&d(e,["dest"],g_(fg(T)));const S=c(i,["completionStats"]);return S!=null&&d(e,["completionStats"],S),e}function v_(i){const e={},o=c(i,["instancesFormat"]);o!=null&&d(e,["format"],o);const r=c(i,["gcsSource","uris"]);r!=null&&d(e,["gcsUri"],r);const a=c(i,["bigquerySource","inputUri"]);return a!=null&&d(e,["bigqueryUri"],a),e}function __(i,e){const o={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=c(e,["fileName"]);r!=null&&d(o,["fileName"],r);const a=c(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>X_(i,f))),d(o,["requests","requests"],u)}return o}function T_(i){const e={},o=c(i,["format"]);o!=null&&d(e,["instancesFormat"],o);const r=c(i,["gcsUri"]);r!=null&&d(e,["gcsSource","uris"],r);const a=c(i,["bigqueryUri"]);if(a!=null&&d(e,["bigquerySource","inputUri"],a),c(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function S_(i){const e={},o=c(i,["data"]);if(o!=null&&d(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function E_(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],Mo(i,r)),o}function C_(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],Mo(i,r)),o}function A_(i){const e={},o=c(i,["content"]);o!=null&&d(e,["content"],o);const r=c(i,["citationMetadata"]);r!=null&&d(e,["citationMetadata"],b_(r));const a=c(i,["tokenCount"]);a!=null&&d(e,["tokenCount"],a);const u=c(i,["finishReason"]);u!=null&&d(e,["finishReason"],u);const f=c(i,["avgLogprobs"]);f!=null&&d(e,["avgLogprobs"],f);const h=c(i,["groundingMetadata"]);h!=null&&d(e,["groundingMetadata"],h);const g=c(i,["index"]);g!=null&&d(e,["index"],g);const p=c(i,["logprobsResult"]);p!=null&&d(e,["logprobsResult"],p);const v=c(i,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>S)),d(e,["safetyRatings"],T)}const _=c(i,["urlContextMetadata"]);return _!=null&&d(e,["urlContextMetadata"],_),e}function b_(i){const e={},o=c(i,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),d(e,["citations"],r)}return e}function hg(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>nT(u))),d(e,["parts"],a)}const r=c(i,["role"]);return r!=null&&d(e,["role"],r),e}function R_(i,e){const o={},r=c(i,["displayName"]);if(e!==void 0&&r!=null&&d(e,["batch","displayName"],r),c(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function w_(i,e){const o={},r=c(i,["displayName"]);e!==void 0&&r!=null&&d(e,["displayName"],r);const a=c(i,["dest"]);return e!==void 0&&a!=null&&d(e,["outputConfig"],y_(h_(a))),o}function Im(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Ft(i,r));const a=c(e,["src"]);a!=null&&d(o,["batch","inputConfig"],__(i,cg(i,a)));const u=c(e,["config"]);return u!=null&&R_(u,o),o}function M_(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["model"],Ft(i,r));const a=c(e,["src"]);a!=null&&d(o,["inputConfig"],T_(cg(i,a)));const u=c(e,["config"]);return u!=null&&w_(u,o),o}function N_(i,e){const o={},r=c(i,["displayName"]);return e!==void 0&&r!=null&&d(e,["batch","displayName"],r),o}function x_(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["_url","model"],Ft(i,r));const a=c(e,["src"]);a!=null&&d(o,["batch","inputConfig"],G_(i,a));const u=c(e,["config"]);return u!=null&&N_(u,o),o}function I_(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],Mo(i,r)),o}function D_(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],Mo(i,r)),o}function U_(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["done"]);a!=null&&d(e,["done"],a);const u=c(i,["error"]);return u!=null&&d(e,["error"],u),e}function k_(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["done"]);a!=null&&d(e,["done"],a);const u=c(i,["error"]);return u!=null&&d(e,["error"],u),e}function L_(i,e){const o={},r=c(e,["contents"]);if(r!=null){let u=nc(i,r);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["requests[]","request","content"],u)}const a=c(e,["config"]);return a!=null&&(d(o,["_self"],z_(a,o)),x0(o,{"requests[].*":"requests[].request.*"})),o}function z_(i,e){const o={},r=c(i,["taskType"]);e!==void 0&&r!=null&&d(e,["requests[]","taskType"],r);const a=c(i,["title"]);e!==void 0&&a!=null&&d(e,["requests[]","title"],a);const u=c(i,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function G_(i,e){const o={},r=c(e,["fileName"]);r!=null&&d(o,["file_name"],r);const a=c(e,["inlinedRequests"]);return a!=null&&d(o,["requests"],L_(i,a)),o}function B_(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&d(e,["fileUri"],o);const r=c(i,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function O_(i){const e={},o=c(i,["id"]);o!=null&&d(e,["id"],o);const r=c(i,["args"]);r!=null&&d(e,["args"],r);const a=c(i,["name"]);if(a!=null&&d(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function H_(i){const e={},o=c(i,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const r=c(i,["mode"]);if(r!=null&&d(e,["mode"],r),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function P_(i,e,o){const r={},a=c(e,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],hg(ve(a)));const u=c(e,["temperature"]);u!=null&&d(r,["temperature"],u);const f=c(e,["topP"]);f!=null&&d(r,["topP"],f);const h=c(e,["topK"]);h!=null&&d(r,["topK"],h);const g=c(e,["candidateCount"]);g!=null&&d(r,["candidateCount"],g);const p=c(e,["maxOutputTokens"]);p!=null&&d(r,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(r,["stopSequences"],v);const _=c(e,["responseLogprobs"]);_!=null&&d(r,["responseLogprobs"],_);const T=c(e,["logprobs"]);T!=null&&d(r,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&d(r,["presencePenalty"],S);const b=c(e,["frequencyPenalty"]);b!=null&&d(r,["frequencyPenalty"],b);const A=c(e,["seed"]);A!=null&&d(r,["seed"],A);const R=c(e,["responseMimeType"]);R!=null&&d(r,["responseMimeType"],R);const M=c(e,["responseSchema"]);M!=null&&d(r,["responseSchema"],ic(M));const I=c(e,["responseJsonSchema"]);if(I!=null&&d(r,["responseJsonSchema"],I),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=c(e,["safetySettings"]);if(o!==void 0&&D!=null){let nt=D;Array.isArray(nt)&&(nt=nt.map(w=>iT(w))),d(o,["safetySettings"],nt)}const G=c(e,["tools"]);if(o!==void 0&&G!=null){let nt=wo(G);Array.isArray(nt)&&(nt=nt.map(w=>lT(Ro(w)))),d(o,["tools"],nt)}const B=c(e,["toolConfig"]);if(o!==void 0&&B!=null&&d(o,["toolConfig"],oT(B)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const H=c(e,["cachedContent"]);o!==void 0&&H!=null&&d(o,["cachedContent"],On(i,H));const P=c(e,["responseModalities"]);P!=null&&d(r,["responseModalities"],P);const lt=c(e,["mediaResolution"]);lt!=null&&d(r,["mediaResolution"],lt);const V=c(e,["speechConfig"]);if(V!=null&&d(r,["speechConfig"],oc(V)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ut=c(e,["thinkingConfig"]);ut!=null&&d(r,["thinkingConfig"],ut);const vt=c(e,["imageConfig"]);vt!=null&&d(r,["imageConfig"],K_(vt));const z=c(e,["enableEnhancedCivicAnswers"]);if(z!=null&&d(r,["enableEnhancedCivicAnswers"],z),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function q_(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(p=>A_(p))),d(e,["candidates"],g)}const a=c(i,["modelVersion"]);a!=null&&d(e,["modelVersion"],a);const u=c(i,["promptFeedback"]);u!=null&&d(e,["promptFeedback"],u);const f=c(i,["responseId"]);f!=null&&d(e,["responseId"],f);const h=c(i,["usageMetadata"]);return h!=null&&d(e,["usageMetadata"],h),e}function V_(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],Mo(i,r)),o}function F_(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],Mo(i,r)),o}function Y_(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function J_(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function K_(i){const e={},o=c(i,["aspectRatio"]);o!=null&&d(e,["aspectRatio"],o);const r=c(i,["imageSize"]);if(r!=null&&d(e,["imageSize"],r),c(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function X_(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["request","model"],Ft(i,r));const a=c(e,["contents"]);if(a!=null){let h=Je(a);Array.isArray(h)&&(h=h.map(g=>hg(g))),d(o,["request","contents"],h)}const u=c(e,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(e,["config"]);return f!=null&&d(o,["request","generationConfig"],P_(i,f,c(o,["request"],{}))),o}function Z_(i){const e={},o=c(i,["response"]);o!=null&&d(e,["response"],q_(o));const r=c(i,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(i,["error"]);return a!=null&&d(e,["error"],a),e}function Q_(i,e){const o={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(i,["pageToken"]);if(e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),c(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function W_(i,e){const o={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(i,["pageToken"]);e!==void 0&&a!=null&&d(e,["_query","pageToken"],a);const u=c(i,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),o}function $_(i){const e={},o=c(i,["config"]);return o!=null&&Q_(o,e),e}function j_(i){const e={},o=c(i,["config"]);return o!=null&&W_(o,e),e}function tT(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(i,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Zr(f))),d(e,["batchJobs"],u)}return e}function eT(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(i,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>qu(f))),d(e,["batchJobs"],u)}return e}function nT(i){const e={},o=c(i,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const r=c(i,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const a=c(i,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&d(e,["fileData"],B_(u));const f=c(i,["functionCall"]);f!=null&&d(e,["functionCall"],O_(f));const h=c(i,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=c(i,["inlineData"]);g!=null&&d(e,["inlineData"],S_(g));const p=c(i,["text"]);p!=null&&d(e,["text"],p);const v=c(i,["thought"]);v!=null&&d(e,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const T=c(i,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function iT(i){const e={},o=c(i,["category"]);if(o!=null&&d(e,["category"],o),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=c(i,["threshold"]);return r!=null&&d(e,["threshold"],r),e}function oT(i){const e={},o=c(i,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const r=c(i,["functionCallingConfig"]);return r!=null&&d(e,["functionCallingConfig"],H_(r)),e}function lT(i){const e={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&d(e,["computerUse"],o);const r=c(i,["fileSearch"]);r!=null&&d(e,["fileSearch"],r);const a=c(i,["codeExecution"]);if(a!=null&&d(e,["codeExecution"],a),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&d(e,["googleMaps"],Y_(f));const h=c(i,["googleSearch"]);h!=null&&d(e,["googleSearch"],J_(h));const g=c(i,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const p=c(i,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Gn||(Gn={}));class ki{constructor(e,o,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,r,a)}init(e,o,r){var a,u;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!r||Object.keys(r).length===0?f={config:{}}:typeof r=="object"?f=Object.assign({},r):f=r,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rT extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(Gn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Im(this.apiClient,e),r=o._url,a=St("{model}:batchGenerateContent",r),h=o.batch.inputConfig.requests,g=h.requests,p=[];for(const v of g){const _=Object.assign({},v);if(_.systemInstruction){const T=_.systemInstruction;delete _.systemInstruction;const S=_.request;S.systemInstruction=T,_.request=S}p.push(_)}return h.requests=p,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const r=o?Object.assign({},o):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const u=this.getGcsUri(e),f=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?r.dest=`${u.slice(0,-6)}/dest`:r.dest=`${u}_dest_${a}`;else if(f)r.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=M_(this.apiClient,e);return h=St("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>qu(v))}else{const p=Im(this.apiClient,e);return h=St("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Zr(v))}}async createEmbeddingsInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=x_(this.apiClient,e);return u=St("{model}:asyncBatchEmbedContent",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>Zr(g))}}async get(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=F_(this.apiClient,e);return h=St("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>qu(v))}else{const p=V_(this.apiClient,e);return h=St("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Zr(v))}}async cancel(e){var o,r,a,u;let f="",h={};if(this.apiClient.isVertexAI()){const g=C_(this.apiClient,e);f=St("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const g=E_(this.apiClient,e);f=St("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=j_(e);return h=St("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=eT(v),T=new wm;return Object.assign(T,_),T})}else{const p=$_(e);return h=St("batches",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=tT(v),T=new wm;return Object.assign(T,_),T})}}async delete(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=D_(this.apiClient,e);return h=St("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>k_(v))}else{const p=I_(this.apiClient,e);return h=St("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>U_(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aT(i){const e={},o=c(i,["data"]);if(o!=null&&d(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function Dm(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>xT(u))),d(e,["parts"],a)}const r=c(i,["role"]);return r!=null&&d(e,["role"],r),e}function sT(i,e){const o={},r=c(i,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=c(i,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const u=c(i,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(i,["contents"]);if(e!==void 0&&f!=null){let v=Je(f);Array.isArray(v)&&(v=v.map(_=>Dm(_))),d(e,["contents"],v)}const h=c(i,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],Dm(ve(h)));const g=c(i,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(_=>DT(_))),d(e,["tools"],v)}const p=c(i,["toolConfig"]);if(e!==void 0&&p!=null&&d(e,["toolConfig"],IT(p)),c(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function uT(i,e){const o={},r=c(i,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=c(i,["expireTime"]);e!==void 0&&a!=null&&d(e,["expireTime"],a);const u=c(i,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const f=c(i,["contents"]);if(e!==void 0&&f!=null){let _=Je(f);Array.isArray(_)&&(_=_.map(T=>T)),d(e,["contents"],_)}const h=c(i,["systemInstruction"]);e!==void 0&&h!=null&&d(e,["systemInstruction"],ve(h));const g=c(i,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(T=>UT(T))),d(e,["tools"],_)}const p=c(i,["toolConfig"]);e!==void 0&&p!=null&&d(e,["toolConfig"],p);const v=c(i,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),o}function cT(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["model"],eg(i,r));const a=c(e,["config"]);return a!=null&&sT(a,o),o}function fT(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["model"],eg(i,r));const a=c(e,["config"]);return a!=null&&uT(a,o),o}function dT(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],On(i,r)),o}function hT(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],On(i,r)),o}function pT(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function mT(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function gT(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&d(e,["fileUri"],o);const r=c(i,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function yT(i){const e={},o=c(i,["id"]);o!=null&&d(e,["id"],o);const r=c(i,["args"]);r!=null&&d(e,["args"],r);const a=c(i,["name"]);if(a!=null&&d(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vT(i){const e={},o=c(i,["allowedFunctionNames"]);o!=null&&d(e,["allowedFunctionNames"],o);const r=c(i,["mode"]);if(r!=null&&d(e,["mode"],r),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _T(i){const e={},o=c(i,["description"]);o!=null&&d(e,["description"],o);const r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["parameters"]);a!=null&&d(e,["parameters"],a);const u=c(i,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(i,["response"]);f!=null&&d(e,["response"],f);const h=c(i,["responseJsonSchema"]);if(h!=null&&d(e,["responseJsonSchema"],h),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function TT(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],On(i,r)),o}function ST(i,e){const o={},r=c(e,["name"]);return r!=null&&d(o,["_url","name"],On(i,r)),o}function ET(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function CT(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function AT(i,e){const o={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function bT(i,e){const o={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function RT(i){const e={},o=c(i,["config"]);return o!=null&&AT(o,e),e}function wT(i){const e={},o=c(i,["config"]);return o!=null&&bT(o,e),e}function MT(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(i,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function NT(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(i,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["cachedContents"],u)}return e}function xT(i){const e={},o=c(i,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const r=c(i,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const a=c(i,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&d(e,["fileData"],gT(u));const f=c(i,["functionCall"]);f!=null&&d(e,["functionCall"],yT(f));const h=c(i,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=c(i,["inlineData"]);g!=null&&d(e,["inlineData"],aT(g));const p=c(i,["text"]);p!=null&&d(e,["text"],p);const v=c(i,["thought"]);v!=null&&d(e,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const T=c(i,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function IT(i){const e={},o=c(i,["retrievalConfig"]);o!=null&&d(e,["retrievalConfig"],o);const r=c(i,["functionCallingConfig"]);return r!=null&&d(e,["functionCallingConfig"],vT(r)),e}function DT(i){const e={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&d(e,["computerUse"],o);const r=c(i,["fileSearch"]);r!=null&&d(e,["fileSearch"],r);const a=c(i,["codeExecution"]);if(a!=null&&d(e,["codeExecution"],a),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&d(e,["googleMaps"],ET(f));const h=c(i,["googleSearch"]);h!=null&&d(e,["googleSearch"],CT(h));const g=c(i,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const p=c(i,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function UT(i){const e={},o=c(i,["retrieval"]);o!=null&&d(e,["retrieval"],o);const r=c(i,["computerUse"]);if(r!=null&&d(e,["computerUse"],r),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(i,["codeExecution"]);a!=null&&d(e,["codeExecution"],a);const u=c(i,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>_T(T))),d(e,["functionDeclarations"],_)}const h=c(i,["googleMaps"]);h!=null&&d(e,["googleMaps"],h);const g=c(i,["googleSearch"]);g!=null&&d(e,["googleSearch"],g);const p=c(i,["googleSearchRetrieval"]);p!=null&&d(e,["googleSearchRetrieval"],p);const v=c(i,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function kT(i,e){const o={},r=c(i,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=c(i,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),o}function LT(i,e){const o={},r=c(i,["ttl"]);e!==void 0&&r!=null&&d(e,["ttl"],r);const a=c(i,["expireTime"]);return e!==void 0&&a!=null&&d(e,["expireTime"],a),o}function zT(i,e){const o={},r=c(e,["name"]);r!=null&&d(o,["_url","name"],On(i,r));const a=c(e,["config"]);return a!=null&&kT(a,o),o}function GT(i,e){const o={},r=c(e,["name"]);r!=null&&d(o,["_url","name"],On(i,r));const a=c(e,["config"]);return a!=null&&LT(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BT extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(Gn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(o),o)}async create(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=fT(this.apiClient,e);return h=St("cachedContents",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=cT(this.apiClient,e);return h=St("cachedContents",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=ST(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=TT(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=hT(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=mT(v),T=new bm;return Object.assign(T,_),T})}else{const p=dT(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=pT(v),T=new bm;return Object.assign(T,_),T})}}async update(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=GT(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const p=zT(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=wT(e);return h=St("cachedContents",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=NT(v),T=new Rm;return Object.assign(T,_),T})}else{const p=RT(e);return h=St("cachedContents",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=MT(v),T=new Rm;return Object.assign(T,_),T})}}}function ea(i,e){var o={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(o[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(i);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(i,r[a])&&(o[r[a]]=i[r[a]]);return o}function Um(i){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&i[e],r=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function It(i){return this instanceof It?(this.v=i,this):new It(i)}function fn(i,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o.apply(i,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(S){return function(b){return Promise.resolve(b).then(S,_)}}function h(S,b){r[S]&&(a[S]=function(A){return new Promise(function(R,M){u.push([S,A,R,M])>1||g(S,A)})},b&&(a[S]=b(a[S])))}function g(S,b){try{p(r[S](b))}catch(A){T(u[0][3],A)}}function p(S){S.value instanceof It?Promise.resolve(S.value.v).then(v,_):T(u[0][2],S)}function v(S){g("next",S)}function _(S){g("throw",S)}function T(S,b){S(b),u.shift(),u.length&&g(u[0][0],u[0][1])}}function dn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],o;return e?e.call(i):(i=typeof Um=="function"?Um(i):i[Symbol.iterator](),o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o);function r(u){o[u]=i[u]&&function(f){return new Promise(function(h,g){f=i[u](f),a(h,g,f.done,f.value)})}}function a(u,f,h,g){Promise.resolve(g).then(function(p){u({value:p,done:h})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OT(i){var e;if(i.candidates==null||i.candidates.length===0)return!1;const o=(e=i.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:pg(o)}function pg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const e of i.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function HT(i){if(i.length!==0){for(const e of i)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function km(i){if(i===void 0||i.length===0)return[];const e=[],o=i.length;let r=0;for(;r<o;)if(i[r].role==="user")e.push(i[r]),r++;else{const a=[];let u=!0;for(;r<o&&i[r].role==="model";)a.push(i[r]),u&&!pg(i[r])&&(u=!1),r++;u?e.push(...a):e.pop()}return e}class PT{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new qT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qT{constructor(e,o,r,a={},u=[]){this.apiClient=e,this.modelsModule=o,this.model=r,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),HT(u)}async sendMessage(e){var o;await this.sendPromise;const r=ve(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,f,h;const g=await a,p=(f=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let T=[];v!=null&&(T=(h=v.slice(_))!==null&&h!==void 0?h:[]);const S=p?[p]:[];this.recordHistory(r,S,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var o;await this.sendPromise;const r=ve(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,r)}getHistory(e=!1){const o=e?km(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return fn(this,arguments,function*(){var a,u,f,h,g,p;const v=[];try{for(var _=!0,T=dn(e),S;S=yield It(T.next()),a=S.done,!a;_=!0){h=S.value,_=!1;const b=h;if(OT(b)){const A=(p=(g=b.candidates)===null||g===void 0?void 0:g[0])===null||p===void 0?void 0:p.content;A!==void 0&&v.push(A)}yield yield It(b)}}catch(b){u={error:b}}finally{try{!_&&!a&&(f=T.return)&&(yield It(f.call(T)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(e,o,r){let a=[];o.length>0&&o.every(u=>u.role!==void 0)?a=o:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...km(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Rl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(i){const e={},o=c(i,["file"]);return o!=null&&d(e,["file"],o),e}function FT(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function YT(i){const e={},o=c(i,["name"]);return o!=null&&d(e,["_url","file"],ag(o)),e}function JT(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}function KT(i){const e={},o=c(i,["name"]);return o!=null&&d(e,["_url","file"],ag(o)),e}function XT(i){const e={},o=c(i,["uris"]);return o!=null&&d(e,["uris"],o),e}function ZT(i,e){const o={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function QT(i){const e={},o=c(i,["config"]);return o!=null&&ZT(o,e),e}function WT(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(i,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["files"],u)}return e}function $T(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),d(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(Gn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=QT(e);return u=St("files",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=WT(g),v=new j0;return Object.assign(v,p),v})}}async createInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=VT(e);return u=St("upload/v1beta/files",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=FT(g),v=new t_;return Object.assign(v,p),v})}}async get(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=KT(e);return u=St("files/{file}",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=YT(e);return u=St("files/{file}",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=JT(g),v=new e_;return Object.assign(v,p),v})}}async registerFilesInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=XT(e);return u=St("files:register",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=$T(g),v=new n_;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qr(i){const e={},o=c(i,["data"]);if(o!=null&&d(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function tS(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>gS(u))),d(e,["parts"],a)}const r=c(i,["role"]);return r!=null&&d(e,["role"],r),e}function eS(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&d(e,["fileUri"],o);const r=c(i,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function nS(i){const e={},o=c(i,["id"]);o!=null&&d(e,["id"],o);const r=c(i,["args"]);r!=null&&d(e,["args"],r);const a=c(i,["name"]);if(a!=null&&d(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iS(i){const e={},o=c(i,["description"]);o!=null&&d(e,["description"],o);const r=c(i,["name"]);r!=null&&d(e,["name"],r);const a=c(i,["parameters"]);a!=null&&d(e,["parameters"],a);const u=c(i,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const f=c(i,["response"]);f!=null&&d(e,["response"],f);const h=c(i,["responseJsonSchema"]);if(h!=null&&d(e,["responseJsonSchema"],h),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oS(i){const e={},o=c(i,["modelSelectionConfig"]);o!=null&&d(e,["modelConfig"],o);const r=c(i,["responseJsonSchema"]);r!=null&&d(e,["responseJsonSchema"],r);const a=c(i,["audioTimestamp"]);a!=null&&d(e,["audioTimestamp"],a);const u=c(i,["candidateCount"]);u!=null&&d(e,["candidateCount"],u);const f=c(i,["enableAffectiveDialog"]);f!=null&&d(e,["enableAffectiveDialog"],f);const h=c(i,["frequencyPenalty"]);h!=null&&d(e,["frequencyPenalty"],h);const g=c(i,["logprobs"]);g!=null&&d(e,["logprobs"],g);const p=c(i,["maxOutputTokens"]);p!=null&&d(e,["maxOutputTokens"],p);const v=c(i,["mediaResolution"]);v!=null&&d(e,["mediaResolution"],v);const _=c(i,["presencePenalty"]);_!=null&&d(e,["presencePenalty"],_);const T=c(i,["responseLogprobs"]);T!=null&&d(e,["responseLogprobs"],T);const S=c(i,["responseMimeType"]);S!=null&&d(e,["responseMimeType"],S);const b=c(i,["responseModalities"]);b!=null&&d(e,["responseModalities"],b);const A=c(i,["responseSchema"]);A!=null&&d(e,["responseSchema"],A);const R=c(i,["routingConfig"]);R!=null&&d(e,["routingConfig"],R);const M=c(i,["seed"]);M!=null&&d(e,["seed"],M);const I=c(i,["speechConfig"]);I!=null&&d(e,["speechConfig"],I);const D=c(i,["stopSequences"]);D!=null&&d(e,["stopSequences"],D);const G=c(i,["temperature"]);G!=null&&d(e,["temperature"],G);const B=c(i,["thinkingConfig"]);B!=null&&d(e,["thinkingConfig"],B);const H=c(i,["topK"]);H!=null&&d(e,["topK"],H);const P=c(i,["topP"]);if(P!=null&&d(e,["topP"],P),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lS(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function rS(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function aS(i,e){const o={},r=c(i,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const a=c(i,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const h=c(i,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=c(i,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=c(i,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(i,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],lc(_));const T=c(i,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const S=c(i,["enableAffectiveDialog"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],S);const b=c(i,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],tS(ve(b)));const A=c(i,["tools"]);if(e!==void 0&&A!=null){let H=wo(A);Array.isArray(H)&&(H=H.map(P=>vS(Ro(P)))),d(e,["setup","tools"],H)}const R=c(i,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],yS(R));const M=c(i,["inputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","inputAudioTranscription"],M);const I=c(i,["outputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","outputAudioTranscription"],I);const D=c(i,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const G=c(i,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const B=c(i,["proactivity"]);if(e!==void 0&&B!=null&&d(e,["setup","proactivity"],B),c(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function sS(i,e){const o={},r=c(i,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],oS(r));const a=c(i,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const h=c(i,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=c(i,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=c(i,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(i,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],lc(_));const T=c(i,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const S=c(i,["enableAffectiveDialog"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],S);const b=c(i,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],ve(b));const A=c(i,["tools"]);if(e!==void 0&&A!=null){let P=wo(A);Array.isArray(P)&&(P=P.map(lt=>_S(Ro(lt)))),d(e,["setup","tools"],P)}const R=c(i,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],R);const M=c(i,["inputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","inputAudioTranscription"],M);const I=c(i,["outputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","outputAudioTranscription"],I);const D=c(i,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const G=c(i,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const B=c(i,["proactivity"]);e!==void 0&&B!=null&&d(e,["setup","proactivity"],B);const H=c(i,["explicitVadSignal"]);return e!==void 0&&H!=null&&d(e,["setup","explicitVadSignal"],H),o}function uS(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["setup","model"],Ft(i,r));const a=c(e,["config"]);return a!=null&&d(o,["config"],aS(a,o)),o}function cS(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["setup","model"],Ft(i,r));const a=c(e,["config"]);return a!=null&&d(o,["config"],sS(a,o)),o}function fS(i){const e={},o=c(i,["musicGenerationConfig"]);return o!=null&&d(e,["musicGenerationConfig"],o),e}function dS(i){const e={},o=c(i,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(a=>a)),d(e,["weightedPrompts"],r)}return e}function hS(i){const e={},o=c(i,["media"]);if(o!=null){let p=ng(o);Array.isArray(p)&&(p=p.map(v=>Qr(v))),d(e,["mediaChunks"],p)}const r=c(i,["audio"]);r!=null&&d(e,["audio"],Qr(og(r)));const a=c(i,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const u=c(i,["video"]);u!=null&&d(e,["video"],Qr(ig(u)));const f=c(i,["text"]);f!=null&&d(e,["text"],f);const h=c(i,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=c(i,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function pS(i){const e={},o=c(i,["media"]);if(o!=null){let p=ng(o);Array.isArray(p)&&(p=p.map(v=>v)),d(e,["mediaChunks"],p)}const r=c(i,["audio"]);r!=null&&d(e,["audio"],og(r));const a=c(i,["audioStreamEnd"]);a!=null&&d(e,["audioStreamEnd"],a);const u=c(i,["video"]);u!=null&&d(e,["video"],ig(u));const f=c(i,["text"]);f!=null&&d(e,["text"],f);const h=c(i,["activityStart"]);h!=null&&d(e,["activityStart"],h);const g=c(i,["activityEnd"]);return g!=null&&d(e,["activityEnd"],g),e}function mS(i){const e={},o=c(i,["setupComplete"]);o!=null&&d(e,["setupComplete"],o);const r=c(i,["serverContent"]);r!=null&&d(e,["serverContent"],r);const a=c(i,["toolCall"]);a!=null&&d(e,["toolCall"],a);const u=c(i,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],u);const f=c(i,["usageMetadata"]);f!=null&&d(e,["usageMetadata"],TS(f));const h=c(i,["goAway"]);h!=null&&d(e,["goAway"],h);const g=c(i,["sessionResumptionUpdate"]);g!=null&&d(e,["sessionResumptionUpdate"],g);const p=c(i,["voiceActivityDetectionSignal"]);p!=null&&d(e,["voiceActivityDetectionSignal"],p);const v=c(i,["voiceActivity"]);return v!=null&&d(e,["voiceActivity"],SS(v)),e}function gS(i){const e={},o=c(i,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const r=c(i,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const a=c(i,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&d(e,["fileData"],eS(u));const f=c(i,["functionCall"]);f!=null&&d(e,["functionCall"],nS(f));const h=c(i,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=c(i,["inlineData"]);g!=null&&d(e,["inlineData"],Qr(g));const p=c(i,["text"]);p!=null&&d(e,["text"],p);const v=c(i,["thought"]);v!=null&&d(e,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const T=c(i,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function yS(i){const e={},o=c(i,["handle"]);if(o!=null&&d(e,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vS(i){const e={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&d(e,["computerUse"],o);const r=c(i,["fileSearch"]);r!=null&&d(e,["fileSearch"],r);const a=c(i,["codeExecution"]);if(a!=null&&d(e,["codeExecution"],a),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&d(e,["googleMaps"],lS(f));const h=c(i,["googleSearch"]);h!=null&&d(e,["googleSearch"],rS(h));const g=c(i,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const p=c(i,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}function _S(i){const e={},o=c(i,["retrieval"]);o!=null&&d(e,["retrieval"],o);const r=c(i,["computerUse"]);if(r!=null&&d(e,["computerUse"],r),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(i,["codeExecution"]);a!=null&&d(e,["codeExecution"],a);const u=c(i,["enterpriseWebSearch"]);u!=null&&d(e,["enterpriseWebSearch"],u);const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>iS(T))),d(e,["functionDeclarations"],_)}const h=c(i,["googleMaps"]);h!=null&&d(e,["googleMaps"],h);const g=c(i,["googleSearch"]);g!=null&&d(e,["googleSearch"],g);const p=c(i,["googleSearchRetrieval"]);p!=null&&d(e,["googleSearchRetrieval"],p);const v=c(i,["urlContext"]);return v!=null&&d(e,["urlContext"],v),e}function TS(i){const e={},o=c(i,["promptTokenCount"]);o!=null&&d(e,["promptTokenCount"],o);const r=c(i,["cachedContentTokenCount"]);r!=null&&d(e,["cachedContentTokenCount"],r);const a=c(i,["candidatesTokenCount"]);a!=null&&d(e,["responseTokenCount"],a);const u=c(i,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const f=c(i,["thoughtsTokenCount"]);f!=null&&d(e,["thoughtsTokenCount"],f);const h=c(i,["totalTokenCount"]);h!=null&&d(e,["totalTokenCount"],h);const g=c(i,["promptTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(b=>b)),d(e,["promptTokensDetails"],S)}const p=c(i,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(b=>b)),d(e,["cacheTokensDetails"],S)}const v=c(i,["candidatesTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(b=>b)),d(e,["responseTokensDetails"],S)}const _=c(i,["toolUsePromptTokensDetails"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(b=>b)),d(e,["toolUsePromptTokensDetails"],S)}const T=c(i,["trafficType"]);return T!=null&&d(e,["trafficType"],T),e}function SS(i){const e={},o=c(i,["type"]);return o!=null&&d(e,["voiceActivityType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ES(i,e){const o={},r=c(i,["data"]);if(r!=null&&d(o,["data"],r),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(i,["mimeType"]);return a!=null&&d(o,["mimeType"],a),o}function CS(i,e){const o={},r=c(i,["content"]);r!=null&&d(o,["content"],r);const a=c(i,["citationMetadata"]);a!=null&&d(o,["citationMetadata"],AS(a));const u=c(i,["tokenCount"]);u!=null&&d(o,["tokenCount"],u);const f=c(i,["finishReason"]);f!=null&&d(o,["finishReason"],f);const h=c(i,["avgLogprobs"]);h!=null&&d(o,["avgLogprobs"],h);const g=c(i,["groundingMetadata"]);g!=null&&d(o,["groundingMetadata"],g);const p=c(i,["index"]);p!=null&&d(o,["index"],p);const v=c(i,["logprobsResult"]);v!=null&&d(o,["logprobsResult"],v);const _=c(i,["safetyRatings"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(b=>b)),d(o,["safetyRatings"],S)}const T=c(i,["urlContextMetadata"]);return T!=null&&d(o,["urlContextMetadata"],T),o}function AS(i,e){const o={},r=c(i,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),d(o,["citations"],a)}return o}function bS(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["contents"]);if(u!=null){let f=Je(u);Array.isArray(f)&&(f=f.map(h=>h)),d(r,["contents"],f)}return r}function RS(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(o,["tokensInfo"],u)}return o}function wS(i,e){const o={},r=c(i,["values"]);r!=null&&d(o,["values"],r);const a=c(i,["statistics"]);return a!=null&&d(o,["statistics"],MS(a)),o}function MS(i,e){const o={},r=c(i,["truncated"]);r!=null&&d(o,["truncated"],r);const a=c(i,["token_count"]);return a!=null&&d(o,["tokenCount"],a),o}function wl(i,e){const o={},r=c(i,["parts"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>GE(f))),d(o,["parts"],u)}const a=c(i,["role"]);return a!=null&&d(o,["role"],a),o}function NS(i,e){const o={},r=c(i,["controlType"]);r!=null&&d(o,["controlType"],r);const a=c(i,["enableControlImageComputation"]);return a!=null&&d(o,["computeControl"],a),o}function xS(i,e){const o={};if(c(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function IS(i,e,o){const r={},a=c(i,["systemInstruction"]);e!==void 0&&a!=null&&d(e,["systemInstruction"],ve(a));const u=c(i,["tools"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>vg(g))),d(e,["tools"],h)}const f=c(i,["generationConfig"]);return e!==void 0&&f!=null&&d(e,["generationConfig"],EE(f)),r}function DS(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["contents"]);if(u!=null){let h=Je(u);Array.isArray(h)&&(h=h.map(g=>wl(g))),d(r,["contents"],h)}const f=c(e,["config"]);return f!=null&&xS(f),r}function US(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["contents"]);if(u!=null){let h=Je(u);Array.isArray(h)&&(h=h.map(g=>g)),d(r,["contents"],h)}const f=c(e,["config"]);return f!=null&&IS(f,r),r}function kS(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["totalTokens"]);a!=null&&d(o,["totalTokens"],a);const u=c(i,["cachedContentTokenCount"]);return u!=null&&d(o,["cachedContentTokenCount"],u),o}function LS(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["totalTokens"]);return a!=null&&d(o,["totalTokens"],a),o}function zS(i,e,o){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],Ft(i,a)),r}function GS(i,e,o){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],Ft(i,a)),r}function BS(i,e){const o={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(o,["sdkHttpResponse"],r),o}function OS(i,e){const o={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(o,["sdkHttpResponse"],r),o}function HS(i,e,o){const r={},a=c(i,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=c(i,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const f=c(i,["numberOfImages"]);e!==void 0&&f!=null&&d(e,["parameters","sampleCount"],f);const h=c(i,["aspectRatio"]);e!==void 0&&h!=null&&d(e,["parameters","aspectRatio"],h);const g=c(i,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const p=c(i,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const v=c(i,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const _=c(i,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const T=c(i,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=c(i,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const b=c(i,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const A=c(i,["outputMimeType"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","mimeType"],A);const R=c(i,["outputCompressionQuality"]);e!==void 0&&R!=null&&d(e,["parameters","outputOptions","compressionQuality"],R);const M=c(i,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const I=c(i,["labels"]);e!==void 0&&I!=null&&d(e,["labels"],I);const D=c(i,["editMode"]);e!==void 0&&D!=null&&d(e,["parameters","editMode"],D);const G=c(i,["baseSteps"]);return e!==void 0&&G!=null&&d(e,["parameters","editConfig","baseSteps"],G),r}function PS(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const f=c(e,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(p=>VE(p))),d(r,["instances[0]","referenceImages"],g)}const h=c(e,["config"]);return h!=null&&HS(h,r),r}function qS(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>la(f))),d(o,["generatedImages"],u)}return o}function VS(i,e,o){const r={},a=c(i,["taskType"]);e!==void 0&&a!=null&&d(e,["requests[]","taskType"],a);const u=c(i,["title"]);e!==void 0&&u!=null&&d(e,["requests[]","title"],u);const f=c(i,["outputDimensionality"]);if(e!==void 0&&f!=null&&d(e,["requests[]","outputDimensionality"],f),c(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function FS(i,e,o){const r={};let a=c(o,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="PREDICT"){const p=c(i,["taskType"]);e!==void 0&&p!=null&&d(e,["instances[]","task_type"],p)}else if(a==="EMBED_CONTENT"){const p=c(i,["taskType"]);e!==void 0&&p!=null&&d(e,["taskType"],p)}let u=c(o,["embeddingApiType"]);if(u===void 0&&(u="PREDICT"),u==="PREDICT"){const p=c(i,["title"]);e!==void 0&&p!=null&&d(e,["instances[]","title"],p)}else if(u==="EMBED_CONTENT"){const p=c(i,["title"]);e!==void 0&&p!=null&&d(e,["title"],p)}let f=c(o,["embeddingApiType"]);if(f===void 0&&(f="PREDICT"),f==="PREDICT"){const p=c(i,["outputDimensionality"]);e!==void 0&&p!=null&&d(e,["parameters","outputDimensionality"],p)}else if(f==="EMBED_CONTENT"){const p=c(i,["outputDimensionality"]);e!==void 0&&p!=null&&d(e,["outputDimensionality"],p)}let h=c(o,["embeddingApiType"]);if(h===void 0&&(h="PREDICT"),h==="PREDICT"){const p=c(i,["mimeType"]);e!==void 0&&p!=null&&d(e,["instances[]","mimeType"],p)}let g=c(o,["embeddingApiType"]);if(g===void 0&&(g="PREDICT"),g==="PREDICT"){const p=c(i,["autoTruncate"]);e!==void 0&&p!=null&&d(e,["parameters","autoTruncate"],p)}else if(g==="EMBED_CONTENT"){const p=c(i,["autoTruncate"]);e!==void 0&&p!=null&&d(e,["autoTruncate"],p)}return r}function YS(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["contents"]);if(u!=null){let p=nc(i,u);Array.isArray(p)&&(p=p.map(v=>v)),d(r,["requests[]","content"],p)}const f=c(e,["content"]);f!=null&&wl(ve(f));const h=c(e,["config"]);h!=null&&VS(h,r);const g=c(e,["model"]);return g!==void 0&&d(r,["requests[]","model"],Ft(i,g)),r}function JS(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));let u=c(o,["embeddingApiType"]);if(u===void 0&&(u="PREDICT"),u==="PREDICT"){const g=c(e,["contents"]);if(g!=null){let p=nc(i,g);Array.isArray(p)&&(p=p.map(v=>v)),d(r,["instances[]","content"],p)}}let f=c(o,["embeddingApiType"]);if(f===void 0&&(f="PREDICT"),f==="EMBED_CONTENT"){const g=c(e,["content"]);g!=null&&d(r,["content"],ve(g))}const h=c(e,["config"]);return h!=null&&FS(h,r,o),r}function KS(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>h)),d(o,["embeddings"],f)}const u=c(i,["metadata"]);return u!=null&&d(o,["metadata"],u),o}function XS(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>wS(h))),d(o,["embeddings"],f)}const u=c(i,["metadata"]);if(u!=null&&d(o,["metadata"],u),e&&c(e,["embeddingApiType"])==="EMBED_CONTENT"){const f=c(i,["embedding"]),h=c(i,["usageMetadata"]),g=c(i,["truncated"]);if(f){const p={};h&&h.promptTokenCount&&(p.tokenCount=h.promptTokenCount),g&&(p.truncated=g),f.statistics=p,d(o,["embeddings"],[f])}}return o}function ZS(i,e){const o={},r=c(i,["endpoint"]);r!=null&&d(o,["name"],r);const a=c(i,["deployedModelId"]);return a!=null&&d(o,["deployedModelId"],a),o}function QS(i,e){const o={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["fileUri"]);r!=null&&d(o,["fileUri"],r);const a=c(i,["mimeType"]);return a!=null&&d(o,["mimeType"],a),o}function WS(i,e){const o={},r=c(i,["id"]);r!=null&&d(o,["id"],r);const a=c(i,["args"]);a!=null&&d(o,["args"],a);const u=c(i,["name"]);if(u!=null&&d(o,["name"],u),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function $S(i,e){const o={},r=c(i,["allowedFunctionNames"]);r!=null&&d(o,["allowedFunctionNames"],r);const a=c(i,["mode"]);if(a!=null&&d(o,["mode"],a),c(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function jS(i,e){const o={},r=c(i,["description"]);r!=null&&d(o,["description"],r);const a=c(i,["name"]);a!=null&&d(o,["name"],a);const u=c(i,["parameters"]);u!=null&&d(o,["parameters"],u);const f=c(i,["parametersJsonSchema"]);f!=null&&d(o,["parametersJsonSchema"],f);const h=c(i,["response"]);h!=null&&d(o,["response"],h);const g=c(i,["responseJsonSchema"]);if(g!=null&&d(o,["responseJsonSchema"],g),c(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function tE(i,e,o,r){const a={},u=c(e,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],wl(ve(u)));const f=c(e,["temperature"]);f!=null&&d(a,["temperature"],f);const h=c(e,["topP"]);h!=null&&d(a,["topP"],h);const g=c(e,["topK"]);g!=null&&d(a,["topK"],g);const p=c(e,["candidateCount"]);p!=null&&d(a,["candidateCount"],p);const v=c(e,["maxOutputTokens"]);v!=null&&d(a,["maxOutputTokens"],v);const _=c(e,["stopSequences"]);_!=null&&d(a,["stopSequences"],_);const T=c(e,["responseLogprobs"]);T!=null&&d(a,["responseLogprobs"],T);const S=c(e,["logprobs"]);S!=null&&d(a,["logprobs"],S);const b=c(e,["presencePenalty"]);b!=null&&d(a,["presencePenalty"],b);const A=c(e,["frequencyPenalty"]);A!=null&&d(a,["frequencyPenalty"],A);const R=c(e,["seed"]);R!=null&&d(a,["seed"],R);const M=c(e,["responseMimeType"]);M!=null&&d(a,["responseMimeType"],M);const I=c(e,["responseSchema"]);I!=null&&d(a,["responseSchema"],ic(I));const D=c(e,["responseJsonSchema"]);if(D!=null&&d(a,["responseJsonSchema"],D),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=c(e,["safetySettings"]);if(o!==void 0&&G!=null){let w=G;Array.isArray(w)&&(w=w.map(at=>FE(at))),d(o,["safetySettings"],w)}const B=c(e,["tools"]);if(o!==void 0&&B!=null){let w=wo(B);Array.isArray(w)&&(w=w.map(at=>WE(Ro(at)))),d(o,["tools"],w)}const H=c(e,["toolConfig"]);if(o!==void 0&&H!=null&&d(o,["toolConfig"],QE(H)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=c(e,["cachedContent"]);o!==void 0&&P!=null&&d(o,["cachedContent"],On(i,P));const lt=c(e,["responseModalities"]);lt!=null&&d(a,["responseModalities"],lt);const V=c(e,["mediaResolution"]);V!=null&&d(a,["mediaResolution"],V);const ut=c(e,["speechConfig"]);if(ut!=null&&d(a,["speechConfig"],oc(ut)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const vt=c(e,["thinkingConfig"]);vt!=null&&d(a,["thinkingConfig"],vt);const z=c(e,["imageConfig"]);z!=null&&d(a,["imageConfig"],wE(z));const nt=c(e,["enableEnhancedCivicAnswers"]);if(nt!=null&&d(a,["enableEnhancedCivicAnswers"],nt),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function eE(i,e,o,r){const a={},u=c(e,["systemInstruction"]);o!==void 0&&u!=null&&d(o,["systemInstruction"],ve(u));const f=c(e,["temperature"]);f!=null&&d(a,["temperature"],f);const h=c(e,["topP"]);h!=null&&d(a,["topP"],h);const g=c(e,["topK"]);g!=null&&d(a,["topK"],g);const p=c(e,["candidateCount"]);p!=null&&d(a,["candidateCount"],p);const v=c(e,["maxOutputTokens"]);v!=null&&d(a,["maxOutputTokens"],v);const _=c(e,["stopSequences"]);_!=null&&d(a,["stopSequences"],_);const T=c(e,["responseLogprobs"]);T!=null&&d(a,["responseLogprobs"],T);const S=c(e,["logprobs"]);S!=null&&d(a,["logprobs"],S);const b=c(e,["presencePenalty"]);b!=null&&d(a,["presencePenalty"],b);const A=c(e,["frequencyPenalty"]);A!=null&&d(a,["frequencyPenalty"],A);const R=c(e,["seed"]);R!=null&&d(a,["seed"],R);const M=c(e,["responseMimeType"]);M!=null&&d(a,["responseMimeType"],M);const I=c(e,["responseSchema"]);I!=null&&d(a,["responseSchema"],ic(I));const D=c(e,["responseJsonSchema"]);D!=null&&d(a,["responseJsonSchema"],D);const G=c(e,["routingConfig"]);G!=null&&d(a,["routingConfig"],G);const B=c(e,["modelSelectionConfig"]);B!=null&&d(a,["modelConfig"],B);const H=c(e,["safetySettings"]);if(o!==void 0&&H!=null){let mt=H;Array.isArray(mt)&&(mt=mt.map(Z=>Z)),d(o,["safetySettings"],mt)}const P=c(e,["tools"]);if(o!==void 0&&P!=null){let mt=wo(P);Array.isArray(mt)&&(mt=mt.map(Z=>vg(Ro(Z)))),d(o,["tools"],mt)}const lt=c(e,["toolConfig"]);o!==void 0&&lt!=null&&d(o,["toolConfig"],lt);const V=c(e,["labels"]);o!==void 0&&V!=null&&d(o,["labels"],V);const ut=c(e,["cachedContent"]);o!==void 0&&ut!=null&&d(o,["cachedContent"],On(i,ut));const vt=c(e,["responseModalities"]);vt!=null&&d(a,["responseModalities"],vt);const z=c(e,["mediaResolution"]);z!=null&&d(a,["mediaResolution"],z);const nt=c(e,["speechConfig"]);nt!=null&&d(a,["speechConfig"],oc(nt));const w=c(e,["audioTimestamp"]);w!=null&&d(a,["audioTimestamp"],w);const at=c(e,["thinkingConfig"]);at!=null&&d(a,["thinkingConfig"],at);const X=c(e,["imageConfig"]);if(X!=null&&d(a,["imageConfig"],ME(X)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Y=c(e,["modelArmorConfig"]);return o!==void 0&&Y!=null&&d(o,["modelArmorConfig"],Y),a}function Lm(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["contents"]);if(u!=null){let h=Je(u);Array.isArray(h)&&(h=h.map(g=>wl(g))),d(r,["contents"],h)}const f=c(e,["config"]);return f!=null&&d(r,["generationConfig"],tE(i,f,r)),r}function zm(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["contents"]);if(u!=null){let h=Je(u);Array.isArray(h)&&(h=h.map(g=>g)),d(r,["contents"],h)}const f=c(e,["config"]);return f!=null&&d(r,["generationConfig"],eE(i,f,r)),r}function Gm(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(v=>CS(v))),d(o,["candidates"],p)}const u=c(i,["modelVersion"]);u!=null&&d(o,["modelVersion"],u);const f=c(i,["promptFeedback"]);f!=null&&d(o,["promptFeedback"],f);const h=c(i,["responseId"]);h!=null&&d(o,["responseId"],h);const g=c(i,["usageMetadata"]);return g!=null&&d(o,["usageMetadata"],g),o}function Bm(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(_=>_)),d(o,["candidates"],v)}const u=c(i,["createTime"]);u!=null&&d(o,["createTime"],u);const f=c(i,["modelVersion"]);f!=null&&d(o,["modelVersion"],f);const h=c(i,["promptFeedback"]);h!=null&&d(o,["promptFeedback"],h);const g=c(i,["responseId"]);g!=null&&d(o,["responseId"],g);const p=c(i,["usageMetadata"]);return p!=null&&d(o,["usageMetadata"],p),o}function nE(i,e,o){const r={};if(c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=c(i,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const u=c(i,["aspectRatio"]);e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u);const f=c(i,["guidanceScale"]);if(e!==void 0&&f!=null&&d(e,["parameters","guidanceScale"],f),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(i,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const g=c(i,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const p=c(i,["includeSafetyAttributes"]);e!==void 0&&p!=null&&d(e,["parameters","includeSafetyAttributes"],p);const v=c(i,["includeRaiReason"]);e!==void 0&&v!=null&&d(e,["parameters","includeRaiReason"],v);const _=c(i,["language"]);e!==void 0&&_!=null&&d(e,["parameters","language"],_);const T=c(i,["outputMimeType"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","mimeType"],T);const S=c(i,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&d(e,["parameters","outputOptions","compressionQuality"],S),c(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(i,["imageSize"]);if(e!==void 0&&b!=null&&d(e,["parameters","sampleImageSize"],b),c(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function iE(i,e,o){const r={},a=c(i,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=c(i,["negativePrompt"]);e!==void 0&&u!=null&&d(e,["parameters","negativePrompt"],u);const f=c(i,["numberOfImages"]);e!==void 0&&f!=null&&d(e,["parameters","sampleCount"],f);const h=c(i,["aspectRatio"]);e!==void 0&&h!=null&&d(e,["parameters","aspectRatio"],h);const g=c(i,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const p=c(i,["seed"]);e!==void 0&&p!=null&&d(e,["parameters","seed"],p);const v=c(i,["safetyFilterLevel"]);e!==void 0&&v!=null&&d(e,["parameters","safetySetting"],v);const _=c(i,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const T=c(i,["includeSafetyAttributes"]);e!==void 0&&T!=null&&d(e,["parameters","includeSafetyAttributes"],T);const S=c(i,["includeRaiReason"]);e!==void 0&&S!=null&&d(e,["parameters","includeRaiReason"],S);const b=c(i,["language"]);e!==void 0&&b!=null&&d(e,["parameters","language"],b);const A=c(i,["outputMimeType"]);e!==void 0&&A!=null&&d(e,["parameters","outputOptions","mimeType"],A);const R=c(i,["outputCompressionQuality"]);e!==void 0&&R!=null&&d(e,["parameters","outputOptions","compressionQuality"],R);const M=c(i,["addWatermark"]);e!==void 0&&M!=null&&d(e,["parameters","addWatermark"],M);const I=c(i,["labels"]);e!==void 0&&I!=null&&d(e,["labels"],I);const D=c(i,["imageSize"]);e!==void 0&&D!=null&&d(e,["parameters","sampleImageSize"],D);const G=c(i,["enhancePrompt"]);return e!==void 0&&G!=null&&d(e,["parameters","enhancePrompt"],G),r}function oE(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const f=c(e,["config"]);return f!=null&&nE(f,r),r}function lE(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const f=c(e,["config"]);return f!=null&&iE(f,r),r}function rE(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>vE(h))),d(o,["generatedImages"],f)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&d(o,["positivePromptSafetyAttributes"],gg(u)),o}function aE(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>la(h))),d(o,["generatedImages"],f)}const u=c(i,["positivePromptSafetyAttributes"]);return u!=null&&d(o,["positivePromptSafetyAttributes"],yg(u)),o}function sE(i,e,o){const r={},a=c(i,["numberOfVideos"]);if(e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a),c(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(i,["durationSeconds"]);if(e!==void 0&&u!=null&&d(e,["parameters","durationSeconds"],u),c(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(i,["aspectRatio"]);e!==void 0&&f!=null&&d(e,["parameters","aspectRatio"],f);const h=c(i,["resolution"]);e!==void 0&&h!=null&&d(e,["parameters","resolution"],h);const g=c(i,["personGeneration"]);if(e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g),c(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=c(i,["negativePrompt"]);e!==void 0&&p!=null&&d(e,["parameters","negativePrompt"],p);const v=c(i,["enhancePrompt"]);if(e!==void 0&&v!=null&&d(e,["parameters","enhancePrompt"],v),c(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=c(i,["lastFrame"]);e!==void 0&&_!=null&&d(e,["instances[0]","lastFrame"],ra(_));const T=c(i,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(b=>cC(b))),d(e,["instances[0]","referenceImages"],S)}if(c(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function uE(i,e,o){const r={},a=c(i,["numberOfVideos"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const u=c(i,["outputGcsUri"]);e!==void 0&&u!=null&&d(e,["parameters","storageUri"],u);const f=c(i,["fps"]);e!==void 0&&f!=null&&d(e,["parameters","fps"],f);const h=c(i,["durationSeconds"]);e!==void 0&&h!=null&&d(e,["parameters","durationSeconds"],h);const g=c(i,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const p=c(i,["aspectRatio"]);e!==void 0&&p!=null&&d(e,["parameters","aspectRatio"],p);const v=c(i,["resolution"]);e!==void 0&&v!=null&&d(e,["parameters","resolution"],v);const _=c(i,["personGeneration"]);e!==void 0&&_!=null&&d(e,["parameters","personGeneration"],_);const T=c(i,["pubsubTopic"]);e!==void 0&&T!=null&&d(e,["parameters","pubsubTopic"],T);const S=c(i,["negativePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","negativePrompt"],S);const b=c(i,["enhancePrompt"]);e!==void 0&&b!=null&&d(e,["parameters","enhancePrompt"],b);const A=c(i,["generateAudio"]);e!==void 0&&A!=null&&d(e,["parameters","generateAudio"],A);const R=c(i,["lastFrame"]);e!==void 0&&R!=null&&d(e,["instances[0]","lastFrame"],hn(R));const M=c(i,["referenceImages"]);if(e!==void 0&&M!=null){let G=M;Array.isArray(G)&&(G=G.map(B=>fC(B))),d(e,["instances[0]","referenceImages"],G)}const I=c(i,["mask"]);e!==void 0&&I!=null&&d(e,["instances[0]","mask"],uC(I));const D=c(i,["compressionQuality"]);return e!==void 0&&D!=null&&d(e,["parameters","compressionQuality"],D),r}function cE(i,e){const o={},r=c(i,["name"]);r!=null&&d(o,["name"],r);const a=c(i,["metadata"]);a!=null&&d(o,["metadata"],a);const u=c(i,["done"]);u!=null&&d(o,["done"],u);const f=c(i,["error"]);f!=null&&d(o,["error"],f);const h=c(i,["response","generateVideoResponse"]);return h!=null&&d(o,["response"],pE(h)),o}function fE(i,e){const o={},r=c(i,["name"]);r!=null&&d(o,["name"],r);const a=c(i,["metadata"]);a!=null&&d(o,["metadata"],a);const u=c(i,["done"]);u!=null&&d(o,["done"],u);const f=c(i,["error"]);f!=null&&d(o,["error"],f);const h=c(i,["response"]);return h!=null&&d(o,["response"],mE(h)),o}function dE(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const f=c(e,["image"]);f!=null&&d(r,["instances[0]","image"],ra(f));const h=c(e,["video"]);h!=null&&d(r,["instances[0]","video"],_g(h));const g=c(e,["source"]);g!=null&&gE(g,r);const p=c(e,["config"]);return p!=null&&sE(p,r),r}function hE(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["prompt"]);u!=null&&d(r,["instances[0]","prompt"],u);const f=c(e,["image"]);f!=null&&d(r,["instances[0]","image"],hn(f));const h=c(e,["video"]);h!=null&&d(r,["instances[0]","video"],Tg(h));const g=c(e,["source"]);g!=null&&yE(g,r);const p=c(e,["config"]);return p!=null&&uE(p,r),r}function pE(i,e){const o={},r=c(i,["generatedSamples"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>TE(h))),d(o,["generatedVideos"],f)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&d(o,["raiMediaFilteredCount"],a);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&d(o,["raiMediaFilteredReasons"],u),o}function mE(i,e){const o={},r=c(i,["videos"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>SE(h))),d(o,["generatedVideos"],f)}const a=c(i,["raiMediaFilteredCount"]);a!=null&&d(o,["raiMediaFilteredCount"],a);const u=c(i,["raiMediaFilteredReasons"]);return u!=null&&d(o,["raiMediaFilteredReasons"],u),o}function gE(i,e,o){const r={},a=c(i,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const u=c(i,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],ra(u));const f=c(i,["video"]);return e!==void 0&&f!=null&&d(e,["instances[0]","video"],_g(f)),r}function yE(i,e,o){const r={},a=c(i,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const u=c(i,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],hn(u));const f=c(i,["video"]);return e!==void 0&&f!=null&&d(e,["instances[0]","video"],Tg(f)),r}function vE(i,e){const o={},r=c(i,["_self"]);r!=null&&d(o,["image"],NE(r));const a=c(i,["raiFilteredReason"]);a!=null&&d(o,["raiFilteredReason"],a);const u=c(i,["_self"]);return u!=null&&d(o,["safetyAttributes"],gg(u)),o}function la(i,e){const o={},r=c(i,["_self"]);r!=null&&d(o,["image"],mg(r));const a=c(i,["raiFilteredReason"]);a!=null&&d(o,["raiFilteredReason"],a);const u=c(i,["_self"]);u!=null&&d(o,["safetyAttributes"],yg(u));const f=c(i,["prompt"]);return f!=null&&d(o,["enhancedPrompt"],f),o}function _E(i,e){const o={},r=c(i,["_self"]);r!=null&&d(o,["mask"],mg(r));const a=c(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(o,["labels"],u)}return o}function TE(i,e){const o={},r=c(i,["video"]);return r!=null&&d(o,["video"],aC(r)),o}function SE(i,e){const o={},r=c(i,["_self"]);return r!=null&&d(o,["video"],sC(r)),o}function EE(i,e){const o={},r=c(i,["modelSelectionConfig"]);r!=null&&d(o,["modelConfig"],r);const a=c(i,["responseJsonSchema"]);a!=null&&d(o,["responseJsonSchema"],a);const u=c(i,["audioTimestamp"]);u!=null&&d(o,["audioTimestamp"],u);const f=c(i,["candidateCount"]);f!=null&&d(o,["candidateCount"],f);const h=c(i,["enableAffectiveDialog"]);h!=null&&d(o,["enableAffectiveDialog"],h);const g=c(i,["frequencyPenalty"]);g!=null&&d(o,["frequencyPenalty"],g);const p=c(i,["logprobs"]);p!=null&&d(o,["logprobs"],p);const v=c(i,["maxOutputTokens"]);v!=null&&d(o,["maxOutputTokens"],v);const _=c(i,["mediaResolution"]);_!=null&&d(o,["mediaResolution"],_);const T=c(i,["presencePenalty"]);T!=null&&d(o,["presencePenalty"],T);const S=c(i,["responseLogprobs"]);S!=null&&d(o,["responseLogprobs"],S);const b=c(i,["responseMimeType"]);b!=null&&d(o,["responseMimeType"],b);const A=c(i,["responseModalities"]);A!=null&&d(o,["responseModalities"],A);const R=c(i,["responseSchema"]);R!=null&&d(o,["responseSchema"],R);const M=c(i,["routingConfig"]);M!=null&&d(o,["routingConfig"],M);const I=c(i,["seed"]);I!=null&&d(o,["seed"],I);const D=c(i,["speechConfig"]);D!=null&&d(o,["speechConfig"],D);const G=c(i,["stopSequences"]);G!=null&&d(o,["stopSequences"],G);const B=c(i,["temperature"]);B!=null&&d(o,["temperature"],B);const H=c(i,["thinkingConfig"]);H!=null&&d(o,["thinkingConfig"],H);const P=c(i,["topK"]);P!=null&&d(o,["topK"],P);const lt=c(i,["topP"]);if(lt!=null&&d(o,["topP"],lt),c(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function CE(i,e,o){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],Ft(i,a)),r}function AE(i,e,o){const r={},a=c(e,["model"]);return a!=null&&d(r,["_url","name"],Ft(i,a)),r}function bE(i,e){const o={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=c(i,["enableWidget"]);return r!=null&&d(o,["enableWidget"],r),o}function RE(i,e){const o={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=c(i,["timeRangeFilter"]);return r!=null&&d(o,["timeRangeFilter"],r),o}function wE(i,e){const o={},r=c(i,["aspectRatio"]);r!=null&&d(o,["aspectRatio"],r);const a=c(i,["imageSize"]);if(a!=null&&d(o,["imageSize"],a),c(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function ME(i,e){const o={},r=c(i,["aspectRatio"]);r!=null&&d(o,["aspectRatio"],r);const a=c(i,["imageSize"]);a!=null&&d(o,["imageSize"],a);const u=c(i,["personGeneration"]);u!=null&&d(o,["personGeneration"],u);const f=c(i,["outputMimeType"]);f!=null&&d(o,["imageOutputOptions","mimeType"],f);const h=c(i,["outputCompressionQuality"]);return h!=null&&d(o,["imageOutputOptions","compressionQuality"],h),o}function NE(i,e){const o={},r=c(i,["bytesBase64Encoded"]);r!=null&&d(o,["imageBytes"],di(r));const a=c(i,["mimeType"]);return a!=null&&d(o,["mimeType"],a),o}function mg(i,e){const o={},r=c(i,["gcsUri"]);r!=null&&d(o,["gcsUri"],r);const a=c(i,["bytesBase64Encoded"]);a!=null&&d(o,["imageBytes"],di(a));const u=c(i,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function ra(i,e){const o={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=c(i,["imageBytes"]);r!=null&&d(o,["bytesBase64Encoded"],di(r));const a=c(i,["mimeType"]);return a!=null&&d(o,["mimeType"],a),o}function hn(i,e){const o={},r=c(i,["gcsUri"]);r!=null&&d(o,["gcsUri"],r);const a=c(i,["imageBytes"]);a!=null&&d(o,["bytesBase64Encoded"],di(a));const u=c(i,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function xE(i,e,o,r){const a={},u=c(e,["pageSize"]);o!==void 0&&u!=null&&d(o,["_query","pageSize"],u);const f=c(e,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const h=c(e,["filter"]);o!==void 0&&h!=null&&d(o,["_query","filter"],h);const g=c(e,["queryBase"]);return o!==void 0&&g!=null&&d(o,["_url","models_url"],sg(i,g)),a}function IE(i,e,o,r){const a={},u=c(e,["pageSize"]);o!==void 0&&u!=null&&d(o,["_query","pageSize"],u);const f=c(e,["pageToken"]);o!==void 0&&f!=null&&d(o,["_query","pageToken"],f);const h=c(e,["filter"]);o!==void 0&&h!=null&&d(o,["_query","filter"],h);const g=c(e,["queryBase"]);return o!==void 0&&g!=null&&d(o,["_url","models_url"],sg(i,g)),a}function DE(i,e,o){const r={},a=c(e,["config"]);return a!=null&&xE(i,a,r),r}function UE(i,e,o){const r={},a=c(e,["config"]);return a!=null&&IE(i,a,r),r}function kE(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=c(i,["_self"]);if(u!=null){let f=ug(u);Array.isArray(f)&&(f=f.map(h=>Vu(h))),d(o,["models"],f)}return o}function LE(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=c(i,["_self"]);if(u!=null){let f=ug(u);Array.isArray(f)&&(f=f.map(h=>Fu(h))),d(o,["models"],f)}return o}function zE(i,e){const o={},r=c(i,["maskMode"]);r!=null&&d(o,["maskMode"],r);const a=c(i,["segmentationClasses"]);a!=null&&d(o,["maskClasses"],a);const u=c(i,["maskDilation"]);return u!=null&&d(o,["dilation"],u),o}function Vu(i,e){const o={},r=c(i,["name"]);r!=null&&d(o,["name"],r);const a=c(i,["displayName"]);a!=null&&d(o,["displayName"],a);const u=c(i,["description"]);u!=null&&d(o,["description"],u);const f=c(i,["version"]);f!=null&&d(o,["version"],f);const h=c(i,["_self"]);h!=null&&d(o,["tunedModelInfo"],$E(h));const g=c(i,["inputTokenLimit"]);g!=null&&d(o,["inputTokenLimit"],g);const p=c(i,["outputTokenLimit"]);p!=null&&d(o,["outputTokenLimit"],p);const v=c(i,["supportedGenerationMethods"]);v!=null&&d(o,["supportedActions"],v);const _=c(i,["temperature"]);_!=null&&d(o,["temperature"],_);const T=c(i,["maxTemperature"]);T!=null&&d(o,["maxTemperature"],T);const S=c(i,["topP"]);S!=null&&d(o,["topP"],S);const b=c(i,["topK"]);b!=null&&d(o,["topK"],b);const A=c(i,["thinking"]);return A!=null&&d(o,["thinking"],A),o}function Fu(i,e){const o={},r=c(i,["name"]);r!=null&&d(o,["name"],r);const a=c(i,["displayName"]);a!=null&&d(o,["displayName"],a);const u=c(i,["description"]);u!=null&&d(o,["description"],u);const f=c(i,["versionId"]);f!=null&&d(o,["version"],f);const h=c(i,["deployedModels"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(S=>ZS(S))),d(o,["endpoints"],T)}const g=c(i,["labels"]);g!=null&&d(o,["labels"],g);const p=c(i,["_self"]);p!=null&&d(o,["tunedModelInfo"],jE(p));const v=c(i,["defaultCheckpointId"]);v!=null&&d(o,["defaultCheckpointId"],v);const _=c(i,["checkpoints"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(S=>S)),d(o,["checkpoints"],T)}return o}function GE(i,e){const o={},r=c(i,["mediaResolution"]);r!=null&&d(o,["mediaResolution"],r);const a=c(i,["codeExecutionResult"]);a!=null&&d(o,["codeExecutionResult"],a);const u=c(i,["executableCode"]);u!=null&&d(o,["executableCode"],u);const f=c(i,["fileData"]);f!=null&&d(o,["fileData"],QS(f));const h=c(i,["functionCall"]);h!=null&&d(o,["functionCall"],WS(h));const g=c(i,["functionResponse"]);g!=null&&d(o,["functionResponse"],g);const p=c(i,["inlineData"]);p!=null&&d(o,["inlineData"],ES(p));const v=c(i,["text"]);v!=null&&d(o,["text"],v);const _=c(i,["thought"]);_!=null&&d(o,["thought"],_);const T=c(i,["thoughtSignature"]);T!=null&&d(o,["thoughtSignature"],T);const S=c(i,["videoMetadata"]);return S!=null&&d(o,["videoMetadata"],S),o}function BE(i,e){const o={},r=c(i,["productImage"]);return r!=null&&d(o,["image"],hn(r)),o}function OE(i,e,o){const r={},a=c(i,["numberOfImages"]);e!==void 0&&a!=null&&d(e,["parameters","sampleCount"],a);const u=c(i,["baseSteps"]);e!==void 0&&u!=null&&d(e,["parameters","baseSteps"],u);const f=c(i,["outputGcsUri"]);e!==void 0&&f!=null&&d(e,["parameters","storageUri"],f);const h=c(i,["seed"]);e!==void 0&&h!=null&&d(e,["parameters","seed"],h);const g=c(i,["safetyFilterLevel"]);e!==void 0&&g!=null&&d(e,["parameters","safetySetting"],g);const p=c(i,["personGeneration"]);e!==void 0&&p!=null&&d(e,["parameters","personGeneration"],p);const v=c(i,["addWatermark"]);e!==void 0&&v!=null&&d(e,["parameters","addWatermark"],v);const _=c(i,["outputMimeType"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","mimeType"],_);const T=c(i,["outputCompressionQuality"]);e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T);const S=c(i,["enhancePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","enhancePrompt"],S);const b=c(i,["labels"]);return e!==void 0&&b!=null&&d(e,["labels"],b),r}function HE(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["source"]);u!=null&&qE(u,r);const f=c(e,["config"]);return f!=null&&OE(f,r),r}function PE(i,e){const o={},r=c(i,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>la(u))),d(o,["generatedImages"],a)}return o}function qE(i,e,o){const r={},a=c(i,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const u=c(i,["personImage"]);e!==void 0&&u!=null&&d(e,["instances[0]","personImage","image"],hn(u));const f=c(i,["productImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>BE(g))),d(e,["instances[0]","productImages"],h)}return r}function VE(i,e){const o={},r=c(i,["referenceImage"]);r!=null&&d(o,["referenceImage"],hn(r));const a=c(i,["referenceId"]);a!=null&&d(o,["referenceId"],a);const u=c(i,["referenceType"]);u!=null&&d(o,["referenceType"],u);const f=c(i,["maskImageConfig"]);f!=null&&d(o,["maskImageConfig"],zE(f));const h=c(i,["controlImageConfig"]);h!=null&&d(o,["controlImageConfig"],NS(h));const g=c(i,["styleImageConfig"]);g!=null&&d(o,["styleImageConfig"],g);const p=c(i,["subjectImageConfig"]);return p!=null&&d(o,["subjectImageConfig"],p),o}function gg(i,e){const o={},r=c(i,["safetyAttributes","categories"]);r!=null&&d(o,["categories"],r);const a=c(i,["safetyAttributes","scores"]);a!=null&&d(o,["scores"],a);const u=c(i,["contentType"]);return u!=null&&d(o,["contentType"],u),o}function yg(i,e){const o={},r=c(i,["safetyAttributes","categories"]);r!=null&&d(o,["categories"],r);const a=c(i,["safetyAttributes","scores"]);a!=null&&d(o,["scores"],a);const u=c(i,["contentType"]);return u!=null&&d(o,["contentType"],u),o}function FE(i,e){const o={},r=c(i,["category"]);if(r!=null&&d(o,["category"],r),c(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(i,["threshold"]);return a!=null&&d(o,["threshold"],a),o}function YE(i,e){const o={},r=c(i,["image"]);return r!=null&&d(o,["image"],hn(r)),o}function JE(i,e,o){const r={},a=c(i,["mode"]);e!==void 0&&a!=null&&d(e,["parameters","mode"],a);const u=c(i,["maxPredictions"]);e!==void 0&&u!=null&&d(e,["parameters","maxPredictions"],u);const f=c(i,["confidenceThreshold"]);e!==void 0&&f!=null&&d(e,["parameters","confidenceThreshold"],f);const h=c(i,["maskDilation"]);e!==void 0&&h!=null&&d(e,["parameters","maskDilation"],h);const g=c(i,["binaryColorThreshold"]);e!==void 0&&g!=null&&d(e,["parameters","binaryColorThreshold"],g);const p=c(i,["labels"]);return e!==void 0&&p!=null&&d(e,["labels"],p),r}function KE(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["source"]);u!=null&&ZE(u,r);const f=c(e,["config"]);return f!=null&&JE(f,r),r}function XE(i,e){const o={},r=c(i,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>_E(u))),d(o,["generatedMasks"],a)}return o}function ZE(i,e,o){const r={},a=c(i,["prompt"]);e!==void 0&&a!=null&&d(e,["instances[0]","prompt"],a);const u=c(i,["image"]);e!==void 0&&u!=null&&d(e,["instances[0]","image"],hn(u));const f=c(i,["scribbleImage"]);return e!==void 0&&f!=null&&d(e,["instances[0]","scribble"],YE(f)),r}function QE(i,e){const o={},r=c(i,["retrievalConfig"]);r!=null&&d(o,["retrievalConfig"],r);const a=c(i,["functionCallingConfig"]);return a!=null&&d(o,["functionCallingConfig"],$S(a)),o}function WE(i,e){const o={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=c(i,["computerUse"]);r!=null&&d(o,["computerUse"],r);const a=c(i,["fileSearch"]);a!=null&&d(o,["fileSearch"],a);const u=c(i,["codeExecution"]);if(u!=null&&d(o,["codeExecution"],u),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=c(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>T)),d(o,["functionDeclarations"],_)}const h=c(i,["googleMaps"]);h!=null&&d(o,["googleMaps"],bE(h));const g=c(i,["googleSearch"]);g!=null&&d(o,["googleSearch"],RE(g));const p=c(i,["googleSearchRetrieval"]);p!=null&&d(o,["googleSearchRetrieval"],p);const v=c(i,["urlContext"]);return v!=null&&d(o,["urlContext"],v),o}function vg(i,e){const o={},r=c(i,["retrieval"]);r!=null&&d(o,["retrieval"],r);const a=c(i,["computerUse"]);if(a!=null&&d(o,["computerUse"],a),c(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=c(i,["codeExecution"]);u!=null&&d(o,["codeExecution"],u);const f=c(i,["enterpriseWebSearch"]);f!=null&&d(o,["enterpriseWebSearch"],f);const h=c(i,["functionDeclarations"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(S=>jS(S))),d(o,["functionDeclarations"],T)}const g=c(i,["googleMaps"]);g!=null&&d(o,["googleMaps"],g);const p=c(i,["googleSearch"]);p!=null&&d(o,["googleSearch"],p);const v=c(i,["googleSearchRetrieval"]);v!=null&&d(o,["googleSearchRetrieval"],v);const _=c(i,["urlContext"]);return _!=null&&d(o,["urlContext"],_),o}function $E(i,e){const o={},r=c(i,["baseModel"]);r!=null&&d(o,["baseModel"],r);const a=c(i,["createTime"]);a!=null&&d(o,["createTime"],a);const u=c(i,["updateTime"]);return u!=null&&d(o,["updateTime"],u),o}function jE(i,e){const o={},r=c(i,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&d(o,["baseModel"],r);const a=c(i,["createTime"]);a!=null&&d(o,["createTime"],a);const u=c(i,["updateTime"]);return u!=null&&d(o,["updateTime"],u),o}function tC(i,e,o){const r={},a=c(i,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=c(i,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const f=c(i,["defaultCheckpointId"]);return e!==void 0&&f!=null&&d(e,["defaultCheckpointId"],f),r}function eC(i,e,o){const r={},a=c(i,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=c(i,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const f=c(i,["defaultCheckpointId"]);return e!==void 0&&f!=null&&d(e,["defaultCheckpointId"],f),r}function nC(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","name"],Ft(i,a));const u=c(e,["config"]);return u!=null&&tC(u,r),r}function iC(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["config"]);return u!=null&&eC(u,r),r}function oC(i,e,o){const r={},a=c(i,["outputGcsUri"]);e!==void 0&&a!=null&&d(e,["parameters","storageUri"],a);const u=c(i,["safetyFilterLevel"]);e!==void 0&&u!=null&&d(e,["parameters","safetySetting"],u);const f=c(i,["personGeneration"]);e!==void 0&&f!=null&&d(e,["parameters","personGeneration"],f);const h=c(i,["includeRaiReason"]);e!==void 0&&h!=null&&d(e,["parameters","includeRaiReason"],h);const g=c(i,["outputMimeType"]);e!==void 0&&g!=null&&d(e,["parameters","outputOptions","mimeType"],g);const p=c(i,["outputCompressionQuality"]);e!==void 0&&p!=null&&d(e,["parameters","outputOptions","compressionQuality"],p);const v=c(i,["enhanceInputImage"]);e!==void 0&&v!=null&&d(e,["parameters","upscaleConfig","enhanceInputImage"],v);const _=c(i,["imagePreservationFactor"]);e!==void 0&&_!=null&&d(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const T=c(i,["labels"]);e!==void 0&&T!=null&&d(e,["labels"],T);const S=c(i,["numberOfImages"]);e!==void 0&&S!=null&&d(e,["parameters","sampleCount"],S);const b=c(i,["mode"]);return e!==void 0&&b!=null&&d(e,["parameters","mode"],b),r}function lC(i,e,o){const r={},a=c(e,["model"]);a!=null&&d(r,["_url","model"],Ft(i,a));const u=c(e,["image"]);u!=null&&d(r,["instances[0]","image"],hn(u));const f=c(e,["upscaleFactor"]);f!=null&&d(r,["parameters","upscaleConfig","upscaleFactor"],f);const h=c(e,["config"]);return h!=null&&oC(h,r),r}function rC(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>la(f))),d(o,["generatedImages"],u)}return o}function aC(i,e){const o={},r=c(i,["uri"]);r!=null&&d(o,["uri"],r);const a=c(i,["encodedVideo"]);a!=null&&d(o,["videoBytes"],di(a));const u=c(i,["encoding"]);return u!=null&&d(o,["mimeType"],u),o}function sC(i,e){const o={},r=c(i,["gcsUri"]);r!=null&&d(o,["uri"],r);const a=c(i,["bytesBase64Encoded"]);a!=null&&d(o,["videoBytes"],di(a));const u=c(i,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}function uC(i,e){const o={},r=c(i,["image"]);r!=null&&d(o,["_self"],hn(r));const a=c(i,["maskMode"]);return a!=null&&d(o,["maskMode"],a),o}function cC(i,e){const o={},r=c(i,["image"]);r!=null&&d(o,["image"],ra(r));const a=c(i,["referenceType"]);return a!=null&&d(o,["referenceType"],a),o}function fC(i,e){const o={},r=c(i,["image"]);r!=null&&d(o,["image"],hn(r));const a=c(i,["referenceType"]);return a!=null&&d(o,["referenceType"],a),o}function _g(i,e){const o={},r=c(i,["uri"]);r!=null&&d(o,["uri"],r);const a=c(i,["videoBytes"]);a!=null&&d(o,["encodedVideo"],di(a));const u=c(i,["mimeType"]);return u!=null&&d(o,["encoding"],u),o}function Tg(i,e){const o={},r=c(i,["uri"]);r!=null&&d(o,["gcsUri"],r);const a=c(i,["videoBytes"]);a!=null&&d(o,["bytesBase64Encoded"],di(a));const u=c(i,["mimeType"]);return u!=null&&d(o,["mimeType"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dC(i,e){const o={},r=c(i,["displayName"]);return e!==void 0&&r!=null&&d(e,["displayName"],r),o}function hC(i){const e={},o=c(i,["config"]);return o!=null&&dC(o,e),e}function pC(i,e){const o={},r=c(i,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),o}function mC(i){const e={},o=c(i,["name"]);o!=null&&d(e,["_url","name"],o);const r=c(i,["config"]);return r!=null&&pC(r,e),e}function gC(i){const e={},o=c(i,["name"]);return o!=null&&d(e,["_url","name"],o),e}function yC(i,e){const o={},r=c(i,["customMetadata"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["customMetadata"],u)}const a=c(i,["chunkingConfig"]);return e!==void 0&&a!=null&&d(e,["chunkingConfig"],a),o}function vC(i){const e={},o=c(i,["name"]);o!=null&&d(e,["name"],o);const r=c(i,["metadata"]);r!=null&&d(e,["metadata"],r);const a=c(i,["done"]);a!=null&&d(e,["done"],a);const u=c(i,["error"]);u!=null&&d(e,["error"],u);const f=c(i,["response"]);return f!=null&&d(e,["response"],TC(f)),e}function _C(i){const e={},o=c(i,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const r=c(i,["fileName"]);r!=null&&d(e,["fileName"],r);const a=c(i,["config"]);return a!=null&&yC(a,e),e}function TC(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["parent"]);r!=null&&d(e,["parent"],r);const a=c(i,["documentName"]);return a!=null&&d(e,["documentName"],a),e}function SC(i,e){const o={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function EC(i){const e={},o=c(i,["config"]);return o!=null&&SC(o,e),e}function CC(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(i,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["fileSearchStores"],u)}return e}function Sg(i,e){const o={},r=c(i,["mimeType"]);e!==void 0&&r!=null&&d(e,["mimeType"],r);const a=c(i,["displayName"]);e!==void 0&&a!=null&&d(e,["displayName"],a);const u=c(i,["customMetadata"]);if(e!==void 0&&u!=null){let h=u;Array.isArray(h)&&(h=h.map(g=>g)),d(e,["customMetadata"],h)}const f=c(i,["chunkingConfig"]);return e!==void 0&&f!=null&&d(e,["chunkingConfig"],f),o}function AC(i){const e={},o=c(i,["fileSearchStoreName"]);o!=null&&d(e,["_url","file_search_store_name"],o);const r=c(i,["config"]);return r!=null&&Sg(r,e),e}function bC(i){const e={},o=c(i,["sdkHttpResponse"]);return o!=null&&d(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RC="Content-Type",wC="X-Server-Timeout",MC="User-Agent",Yu="x-goog-api-client",NC="1.42.0",xC=`google-genai-sdk/${NC}`,IC="v1beta1",DC="v1beta",UC=5,kC=[408,429,500,502,503,504];class LC{constructor(e){var o,r,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(o=e.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!h?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:IC}else{if(!this.clientOptions.apiKey)throw new Rl({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:DC,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,r){const a=[this.getRequestUrlInternal(o)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,o){return!(o.baseUrl&&o.baseUrlResourceScope===Ou.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,o),a=this.constructUrl(e.path,o,r);if(e.queryParams)for(const[f,h]of Object.entries(e.queryParams))a.searchParams.append(f,String(h));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,o){const r=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(o))typeof u=="object"?r[a]=Object.assign(Object.assign({},r[a]),u):u!==void 0&&(r[a]=u);return r}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,o),a=this.constructUrl(e.path,o,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,r,a){if(o&&o.timeout||a){const u=new AbortController,f=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>u.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=f}return o&&o.extraBody!==null&&zC(e,o.extraBody),e.headers=await this.getHeadersInternal(o,r),e}async unaryApiCall(e,o,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:r})).then(async a=>(await Om(a),new Hu(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,o,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:r})).then(async a=>(await Om(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return fn(this,arguments,function*(){var r;const a=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:v}=yield It(a.read());if(p){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(v,{stream:!0});try{const b=JSON.parse(_);if("error"in b){const A=JSON.parse(JSON.stringify(b.error)),R=A.status,M=A.code,I=`got status: ${R}. ${JSON.stringify(b)}`;if(M>=400&&M<600)throw new Rl({message:I,status:M})}}catch(b){if(b.name==="ApiError")throw b}f+=_;let T=-1,S=0;for(;;){T=-1,S=0;for(const R of g){const M=f.indexOf(R);M!==-1&&(T===-1||M<T)&&(T=M,S=R.length)}if(T===-1)break;const b=f.substring(0,T);f=f.substring(T+S);const A=b.trim();if(A.startsWith(h)){const R=A.substring(h.length).trim();try{const M=new Response(R,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield It(new Hu(M))}catch(M){throw new Error(`exception parsing stream chunk ${R}. ${M}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,o){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,o);const a=this.clientOptions.httpOptions.retryOptions;return A0(async()=>{const f=await fetch(e,o);if(f.ok)return f;throw kC.includes(f.status)?new Error(`Retryable HTTP Error: ${f.statusText}`):new jm.AbortError(`Non-retryable exception ${f.statusText} sending request`)},{retries:((r=a.attempts)!==null&&r!==void 0?r:UC)-1})}getDefaultHeaders(){const e={},o=xC+" "+this.clientOptions.userAgentExtra;return e[MC]=o,e[Yu]=o,e[RC]="application/json",e}async getHeadersInternal(e,o){const r=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))r.append(a,u);e.timeout&&e.timeout>0&&r.append(wC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,o),r}getFileName(e){var o;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(o=r.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),r}async uploadFile(e,o){var r;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,f=await u.stat(e);a.sizeBytes=String(f.size);const h=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:f.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=h;const g={file:a},p=this.getFileName(e),v=St("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,p,g,o==null?void 0:o.httpOptions);return u.upload(e,_,this)}async uploadFileToFileSearchStore(e,o,r){var a;const u=this.clientOptions.uploader,f=await u.stat(o),h=String(f.size),g=(a=r==null?void 0:r.mimeType)!==null&&a!==void 0?a:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(o),_={};r!=null&&Sg(r,_);const T=await this.fetchUploadUrl(p,h,g,v,_,r==null?void 0:r.httpOptions);return u.uploadToFileSearchStore(o,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,r,a,u,f){var h;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=p==null?void 0:p.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function Om(i){var e;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let r;!((e=i.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await i.json():r={error:{message:await i.text(),code:i.status,status:i.statusText}};const a=JSON.stringify(r);throw o>=400&&o<600?new Rl({message:a,status:o}):new Error(a)}}function zC(i,e){if(!e||Object.keys(e).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const u=JSON.parse(i.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(u,f){const h=Object.assign({},u);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const p=f[g],v=h[g];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=r(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[g]=p)}return h}const a=r(o,e);i.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GC="mcp_used/unknown";let BC=!1;function Eg(i){for(const e of i)if(OC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return BC}function Cg(i){var e;const o=(e=i[Yu])!==null&&e!==void 0?e:"";i[Yu]=(o+` ${GC}`).trimStart()}function OC(i){return i!==null&&typeof i=="object"&&i instanceof rc}function HC(i){return fn(this,arguments,function*(o,r=100){let a,u=0;for(;u<r;){const f=yield It(o.listTools({cursor:a}));for(const h of f.tools)yield yield It(h),u++;if(!f.nextCursor)break;a=f.nextCursor}})}class rc{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new rc(e,o)}async initialize(){var e,o,r,a;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var h=!0,g=(o=void 0,dn(HC(v))),p;p=await g.next(),e=p.done,!e;h=!0){a=p.value,h=!1;const _=a;f.push(_);const T=_.name;if(u[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);u[T]=v}}catch(_){o={error:_}}finally{try{!h&&!e&&(r=g.return)&&await r.call(g)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),d_(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await a.callTool({name:r.name,arguments:r.args},void 0,u);o.push({functionResponse:{name:r.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PC(i,e,o){const r=new o_;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(r,a),e(r)}class qC{constructor(e,o,r){this.apiClient=e,this.auth=o,this.webSocketFactory=r}async connect(e){var o,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=YC(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(D=>{p=D}),_=e.callbacks,T=function(){p({})},S=this.apiClient,b={onopen:T,onmessage:D=>{PC(S,_.onmessage,D)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(D){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(D){}},A=this.webSocketFactory.create(g,FC(f),b);A.connect(),await v;const I={setup:{model:Ft(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new VC(A,this.apiClient)}}class VC{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=dS(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=fS(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Eo.PLAY)}pause(){this.sendPlaybackControl(Eo.PAUSE)}stop(){this.sendPlaybackControl(Eo.STOP)}resetContext(){this.sendPlaybackControl(Eo.RESET_CONTEXT)}close(){this.conn.close()}}function FC(i){const e={};return i.forEach((o,r)=>{e[r]=o}),e}function YC(i){const e=new Headers;for(const[o,r]of Object.entries(i))e.append(o,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KC(i,e,o){const r=new i_;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const u=JSON.parse(a);if(i.isVertexAI()){const f=mS(u);Object.assign(r,f)}else Object.assign(r,u);e(r)}class XC{constructor(e,o,r){this.apiClient=e,this.auth=o,this.webSocketFactory=r,this.music=new qC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,r,a,u,f,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&Eg(e.config.tools)&&Cg(_);const T=$C(_);if(this.apiClient.isVertexAI()){const V=this.apiClient.getProject(),ut=this.apiClient.getLocation(),vt=this.apiClient.getApiKey(),z=!!V&&!!ut||!!vt;this.apiClient.getCustomBaseUrl()&&!z?v=g:(v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v))}else{const V=this.apiClient.getApiKey();let ut="BidiGenerateContent",vt="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ut="BidiGenerateContentConstrained",vt="access_token"),v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ut}?${vt}=${V}`}let S=()=>{};const b=new Promise(V=>{S=V}),A=e.callbacks,R=function(){var V;(V=A==null?void 0:A.onopen)===null||V===void 0||V.call(A),S({})},M=this.apiClient,I={onopen:R,onmessage:V=>{KC(M,A.onmessage,V)},onerror:(o=A==null?void 0:A.onerror)!==null&&o!==void 0?o:function(V){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(V){}},D=this.webSocketFactory.create(v,WC(T),I);D.connect(),await b;let G=Ft(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&G.startsWith("publishers/")){const V=this.apiClient.getProject(),ut=this.apiClient.getLocation();V&&ut&&(G=`projects/${V}/locations/${ut}/`+G)}let B={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wr.AUDIO]}:e.config.responseModalities=[Wr.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const H=(h=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&h!==void 0?h:[],P=[];for(const V of H)if(this.isCallableTool(V)){const ut=V;P.push(await ut.tool())}else P.push(V);P.length>0&&(e.config.tools=P);const lt={model:G,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=cS(this.apiClient,lt):B=uS(this.apiClient,lt),delete B.config,D.send(JSON.stringify(B)),new QC(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ZC={turnComplete:!0};class QC{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let r=[];try{r=Je(o.turns),e.isVertexAI()||(r=r.map(a=>wl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:r,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let r=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?r=o.functionResponses:r=[o.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const u of r){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(JC)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},ZC),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:pS(e)}:o={realtimeInput:hS(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function WC(i){const e={};return i.forEach((o,r)=>{e[r]=o}),e}function $C(i){const e=new Headers;for(const[o,r]of Object.entries(i))e.append(o,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hm=10;function Pm(i){var e,o,r;if(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const f of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(bo(f)){a=!0;break}if(!a)return!0;const u=(r=i==null?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function bo(i){return"callTool"in i&&typeof i.callTool=="function"}function jC(i){var e,o,r;return(r=(o=(e=i.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>bo(a)))!==null&&r!==void 0?r:!1}function qm(i){var e;const o=[];return!((e=i==null?void 0:i.config)===null||e===void 0)&&e.tools&&i.config.tools.forEach((r,a)=>{if(bo(r))return;const u=r;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(a)}),o}function Vm(i){var e;return!(!((e=i==null?void 0:i.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tA extends Bn{constructor(e){super(),this.apiClient=e,this.embedContent=async o=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(o);if(o.model.includes("gemini")&&o.model!=="gemini-embedding-001"||o.model.includes("maas")){const a=Je(o.contents);if(a.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const u=Object.assign(Object.assign({},o),{content:a[0],embeddingApiType:$r.EMBED_CONTENT});return await this.embedContentInternal(u)}else{const a=Object.assign(Object.assign({},o),{embeddingApiType:$r.PREDICT});return await this.embedContentInternal(a)}},this.generateContent=async o=>{var r,a,u,f,h;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!jC(o)||Pm(o.config))return await this.generateContentInternal(g);const p=qm(o);if(p.length>0){const A=p.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let v,_;const T=Je(g.contents),S=(u=(a=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Hm;let b=0;for(;b<S&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const A=v.candidates[0].content,R=[];for(const M of(h=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&h!==void 0?h:[])if(bo(M)){const D=await M.callTool(v.functionCalls);R.push(...D)}b++,_={role:"user",parts:R},g.contents=Je(g.contents),g.contents.push(A),g.contents.push(_),Vm(g.config)&&(T.push(A),T.push(_))}return Vm(g.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async o=>{var r,a,u,f,h;if(this.maybeMoveToResponseJsonSchem(o),Pm(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const g=qm(o);if(g.length>0){const _=g.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(u=(a=(r=o==null?void 0:o.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(h=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(p&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(r=>{var a;let u;const f=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:f.push(g);let h;return u?h={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:r.sdkHttpResponse}:h={generatedImages:f,sdkHttpResponse:r.sdkHttpResponse},h}),this.list=async o=>{var r;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((r=f.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new ki(Gn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(f),f)},this.editImage=async o=>{const r={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(r.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async o=>{let r={numberOfImages:1,mode:"upscale"};o.config&&(r=Object.assign(Object.assign({},r),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var r,a,u,f,h,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=o.video)===null||r===void 0)&&r.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(u=o.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((g=(h=o.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,r,a;const u=(o=e.config)===null||o===void 0?void 0:o.tools;if(!u)return e;const f=await Promise.all(u.map(async g=>bo(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(h.config.tools=f,e.config&&e.config.tools&&Eg(e.config.tools)){const g=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Cg(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var o,r,a;const u=new Map;for(const f of(r=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&r!==void 0?r:[])if(bo(f)){const h=f,g=await h.tool();for(const p of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,h)}}return u}async processAfcStream(e){var o,r,a;const u=(a=(r=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Hm;let f=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(p,v,_){return fn(this,arguments,function*(){for(var T,S,b,A,R,M;h<u;){f&&(h++,f=!1);const B=yield It(p.processParamsMaybeAddMcpUsage(_)),H=yield It(p.generateContentStreamInternal(B)),P=[],lt=[];try{for(var I=!0,D=(S=void 0,dn(H)),G;G=yield It(D.next()),T=G.done,!T;I=!0){A=G.value,I=!1;const V=A;if(yield yield It(V),V.candidates&&(!((R=V.candidates[0])===null||R===void 0)&&R.content)){lt.push(V.candidates[0].content);for(const ut of(M=V.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(h<u&&ut.functionCall){if(!ut.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ut.functionCall.name)){const vt=yield It(v.get(ut.functionCall.name).callTool([ut.functionCall]));P.push(...vt)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ut.functionCall.name}`)}}}}catch(V){S={error:V}}finally{try{!I&&!T&&(b=D.return)&&(yield It(b.call(D)))}finally{if(S)throw S.error}}if(P.length>0){f=!0;const V=new Cl;V.candidates=[{content:{role:"user",parts:P}}],yield yield It(V);const ut=[];ut.push(...lt),ut.push({role:"user",parts:P});const vt=Je(_.contents).concat(ut);_.contents=vt}else break}})})(this,g,e)}async generateContentInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=zm(this.apiClient,e);return h=St("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=Bm(v),T=new Cl;return Object.assign(T,_),T})}else{const p=Lm(this.apiClient,e);return h=St("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=Gm(v),T=new Cl;return Object.assign(T,_),T})}}async generateContentStreamInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=zm(this.apiClient,e);return h=St("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),f.then(function(_){return fn(this,arguments,function*(){var T,S,b,A;try{for(var R=!0,M=dn(_),I;I=yield It(M.next()),T=I.done,!T;R=!0){A=I.value,R=!1;const D=A,G=Bm(yield It(D.json()),e);G.sdkHttpResponse={headers:D.headers};const B=new Cl;Object.assign(B,G),yield yield It(B)}}catch(D){S={error:D}}finally{try{!R&&!T&&(b=M.return)&&(yield It(b.call(M)))}finally{if(S)throw S.error}}})})}else{const p=Lm(this.apiClient,e);return h=St("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(_){return fn(this,arguments,function*(){var T,S,b,A;try{for(var R=!0,M=dn(_),I;I=yield It(M.next()),T=I.done,!T;R=!0){A=I.value,R=!1;const D=A,G=Gm(yield It(D.json()),e);G.sdkHttpResponse={headers:D.headers};const B=new Cl;Object.assign(B,G),yield yield It(B)}}catch(D){S={error:D}}finally{try{!R&&!T&&(b=M.return)&&(yield It(b.call(M)))}finally{if(S)throw S.error}}})})}}async embedContentInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=JS(this.apiClient,e,e),v=p_(e.model)?"{model}:embedContent":"{model}:predict";return h=St(v,p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),f.then(_=>{const T=XS(_,e),S=new vm;return Object.assign(S,T),S})}else{const p=YS(this.apiClient,e);return h=St("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=KS(v),T=new vm;return Object.assign(T,_),T})}}async generateImagesInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=lE(this.apiClient,e);return h=St("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=aE(v),T=new _m;return Object.assign(T,_),T})}else{const p=oE(this.apiClient,e);return h=St("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=rE(v),T=new _m;return Object.assign(T,_),T})}}async editImageInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=PS(this.apiClient,e);return u=St("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=qS(g),v=new Y0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=lC(this.apiClient,e);return u=St("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=rC(g),v=new J0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=HE(this.apiClient,e);return u=St("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=PE(g),v=new K0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=KE(this.apiClient,e);return u=St("{model}:predict",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=XE(g),v=new X0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=AE(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Fu(v))}else{const p=CE(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Vu(v))}}async listInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=UE(this.apiClient,e);return h=St("{models_url}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=LE(v),T=new Tm;return Object.assign(T,_),T})}else{const p=DE(this.apiClient,e);return h=St("{models_url}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=kE(v),T=new Tm;return Object.assign(T,_),T})}}async update(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=iC(this.apiClient,e);return h=St("{model}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>Fu(v))}else{const p=nC(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Vu(v))}}async delete(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=GS(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=OS(v),T=new Sm;return Object.assign(T,_),T})}else{const p=zS(this.apiClient,e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=BS(v),T=new Sm;return Object.assign(T,_),T})}}async countTokens(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=US(this.apiClient,e);return h=St("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=LS(v),T=new Em;return Object.assign(T,_),T})}else{const p=DS(this.apiClient,e);return h=St("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=kS(v),T=new Em;return Object.assign(T,_),T})}}async computeTokens(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=bS(this.apiClient,e);return u=St("{model}:computeTokens",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>{const p=RS(g),v=new Z0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=hE(this.apiClient,e);return h=St("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f.then(v=>{const _=fE(v),T=new jr;return Object.assign(T,_),T})}else{const p=dE(this.apiClient,e);return h=St("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const _=cE(v),T=new jr;return Object.assign(T,_),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eA extends Bn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,r=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const o=e.operation,r=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;r&&"httpOptions"in r&&(u=r.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=O0(e);return h=St("{operationName}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json()),f}else{const p=B0(e);return h=St("{operationName}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=I0(e);return u=St("{resourceName}:fetchPredictOperation",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nA(i){const e={},o=c(i,["data"]);if(o!=null&&d(e,["data"],o),c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=c(i,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function iA(i){const e={},o=c(i,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>dA(u))),d(e,["parts"],a)}const r=c(i,["role"]);return r!=null&&d(e,["role"],r),e}function oA(i,e,o){const r={},a=c(e,["expireTime"]);o!==void 0&&a!=null&&d(o,["expireTime"],a);const u=c(e,["newSessionExpireTime"]);o!==void 0&&u!=null&&d(o,["newSessionExpireTime"],u);const f=c(e,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const h=c(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&d(o,["bidiGenerateContentSetup"],fA(i,h));const g=c(e,["lockAdditionalFields"]);return o!==void 0&&g!=null&&d(o,["fieldMask"],g),r}function lA(i,e){const o={},r=c(e,["config"]);return r!=null&&d(o,["config"],oA(i,r,o)),o}function rA(i){const e={};if(c(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(i,["fileUri"]);o!=null&&d(e,["fileUri"],o);const r=c(i,["mimeType"]);return r!=null&&d(e,["mimeType"],r),e}function aA(i){const e={},o=c(i,["id"]);o!=null&&d(e,["id"],o);const r=c(i,["args"]);r!=null&&d(e,["args"],r);const a=c(i,["name"]);if(a!=null&&d(e,["name"],a),c(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sA(i){const e={};if(c(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(i,["enableWidget"]);return o!=null&&d(e,["enableWidget"],o),e}function uA(i){const e={};if(c(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(i,["timeRangeFilter"]);return o!=null&&d(e,["timeRangeFilter"],o),e}function cA(i,e){const o={},r=c(i,["generationConfig"]);e!==void 0&&r!=null&&d(e,["setup","generationConfig"],r);const a=c(i,["responseModalities"]);e!==void 0&&a!=null&&d(e,["setup","generationConfig","responseModalities"],a);const u=c(i,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const f=c(i,["topP"]);e!==void 0&&f!=null&&d(e,["setup","generationConfig","topP"],f);const h=c(i,["topK"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topK"],h);const g=c(i,["maxOutputTokens"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","maxOutputTokens"],g);const p=c(i,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(i,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const _=c(i,["speechConfig"]);e!==void 0&&_!=null&&d(e,["setup","generationConfig","speechConfig"],lc(_));const T=c(i,["thinkingConfig"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","thinkingConfig"],T);const S=c(i,["enableAffectiveDialog"]);e!==void 0&&S!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],S);const b=c(i,["systemInstruction"]);e!==void 0&&b!=null&&d(e,["setup","systemInstruction"],iA(ve(b)));const A=c(i,["tools"]);if(e!==void 0&&A!=null){let H=wo(A);Array.isArray(H)&&(H=H.map(P=>pA(Ro(P)))),d(e,["setup","tools"],H)}const R=c(i,["sessionResumption"]);e!==void 0&&R!=null&&d(e,["setup","sessionResumption"],hA(R));const M=c(i,["inputAudioTranscription"]);e!==void 0&&M!=null&&d(e,["setup","inputAudioTranscription"],M);const I=c(i,["outputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","outputAudioTranscription"],I);const D=c(i,["realtimeInputConfig"]);e!==void 0&&D!=null&&d(e,["setup","realtimeInputConfig"],D);const G=c(i,["contextWindowCompression"]);e!==void 0&&G!=null&&d(e,["setup","contextWindowCompression"],G);const B=c(i,["proactivity"]);if(e!==void 0&&B!=null&&d(e,["setup","proactivity"],B),c(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function fA(i,e){const o={},r=c(e,["model"]);r!=null&&d(o,["setup","model"],Ft(i,r));const a=c(e,["config"]);return a!=null&&d(o,["config"],cA(a,o)),o}function dA(i){const e={},o=c(i,["mediaResolution"]);o!=null&&d(e,["mediaResolution"],o);const r=c(i,["codeExecutionResult"]);r!=null&&d(e,["codeExecutionResult"],r);const a=c(i,["executableCode"]);a!=null&&d(e,["executableCode"],a);const u=c(i,["fileData"]);u!=null&&d(e,["fileData"],rA(u));const f=c(i,["functionCall"]);f!=null&&d(e,["functionCall"],aA(f));const h=c(i,["functionResponse"]);h!=null&&d(e,["functionResponse"],h);const g=c(i,["inlineData"]);g!=null&&d(e,["inlineData"],nA(g));const p=c(i,["text"]);p!=null&&d(e,["text"],p);const v=c(i,["thought"]);v!=null&&d(e,["thought"],v);const _=c(i,["thoughtSignature"]);_!=null&&d(e,["thoughtSignature"],_);const T=c(i,["videoMetadata"]);return T!=null&&d(e,["videoMetadata"],T),e}function hA(i){const e={},o=c(i,["handle"]);if(o!=null&&d(e,["handle"],o),c(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function pA(i){const e={};if(c(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(i,["computerUse"]);o!=null&&d(e,["computerUse"],o);const r=c(i,["fileSearch"]);r!=null&&d(e,["fileSearch"],r);const a=c(i,["codeExecution"]);if(a!=null&&d(e,["codeExecution"],a),c(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(i,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>_)),d(e,["functionDeclarations"],v)}const f=c(i,["googleMaps"]);f!=null&&d(e,["googleMaps"],sA(f));const h=c(i,["googleSearch"]);h!=null&&d(e,["googleSearch"],uA(h));const g=c(i,["googleSearchRetrieval"]);g!=null&&d(e,["googleSearchRetrieval"],g);const p=c(i,["urlContext"]);return p!=null&&d(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mA(i){const e=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const r=i[o];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(u=>`${o}.${u}`);e.push(...a)}else e.push(o)}return e.join(",")}function gA(i,e){let o=null;const r=i.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const u=r.setup;typeof u=="object"&&u!==null?(i.bidiGenerateContentSetup=u,o=u):delete i.bidiGenerateContentSetup}else r!==void 0&&delete i.bidiGenerateContentSetup;const a=i.fieldMask;if(o){const u=mA(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?i.fieldMask=u:delete i.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];a.length>0&&(h=a.map(p=>f.includes(p)?`generationConfig.${p}`:p));const g=[];u&&g.push(u),h.length>0&&g.push(...h),g.length>0?i.fieldMask=g.join(","):delete i.fieldMask}else delete i.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?i.fieldMask=a.join(","):delete i.fieldMask;return i}class yA extends Bn{constructor(e){super(),this.apiClient=e}async create(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=lA(this.apiClient,e);u=St("auth_tokens",h._url),f=h._query,delete h.config,delete h._url,delete h._query;const g=gA(h,e.config);return a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vA(i,e){const o={},r=c(i,["force"]);return e!==void 0&&r!=null&&d(e,["_query","force"],r),o}function _A(i){const e={},o=c(i,["name"]);o!=null&&d(e,["_url","name"],o);const r=c(i,["config"]);return r!=null&&vA(r,e),e}function TA(i){const e={},o=c(i,["name"]);return o!=null&&d(e,["_url","name"],o),e}function SA(i,e){const o={},r=c(i,["pageSize"]);e!==void 0&&r!=null&&d(e,["_query","pageSize"],r);const a=c(i,["pageToken"]);return e!==void 0&&a!=null&&d(e,["_query","pageToken"],a),o}function EA(i){const e={},o=c(i,["parent"]);o!=null&&d(e,["_url","parent"],o);const r=c(i,["config"]);return r!=null&&SA(r,e),e}function CA(i){const e={},o=c(i,["sdkHttpResponse"]);o!=null&&d(e,["sdkHttpResponse"],o);const r=c(i,["nextPageToken"]);r!=null&&d(e,["nextPageToken"],r);const a=c(i,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AA extends Bn{constructor(e){super(),this.apiClient=e,this.list=async o=>new ki(Gn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:o.parent,config:r.config}),await this.listInternal(o),o)}async get(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=TA(e);return u=St("{name}",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var o,r;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_A(e);a=St("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=EA(e);return u=St("{parent}/documents",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=CA(g),v=new Q0;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bA extends Bn{constructor(e,o=new AA(e)){super(),this.apiClient=e,this.documents=o,this.list=async(r={})=>new ki(Gn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hC(e);return u=St("fileSearchStores",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gC(e);return u=St("{name}",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var o,r;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=mC(e);a=St("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=EC(e);return u=St("fileSearchStores",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=CC(g),v=new W0;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AC(e);return u=St("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=bC(g),v=new $0;return Object.assign(v,p),v})}}async importFile(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_C(e);return u=St("{file_search_store_name}:importFile",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),a.then(g=>{const p=vC(g),v=new tc;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ag=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Ag=i.randomUUID.bind(i),i.randomUUID();const e=new Uint8Array(1),o=i?()=>i.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^o()&15>>+r/4).toString(16))};const RA=()=>Ag();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ju(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Ku=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const e=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(e.stack=i.stack),i.cause&&!e.cause&&(e.cause=i.cause),i.name&&(e.name=i.name),e}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class an extends Error{}class Ne extends an{constructor(e,o,r,a){super(`${Ne.makeMessage(e,o,r)}`),this.status=e,this.headers=a,this.error=o}static makeMessage(e,o,r){const a=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):r;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,o,r,a){if(!e||!a)return new aa({message:r,cause:Ku(o)});const u=o;return e===400?new Rg(e,u,r,a):e===401?new wg(e,u,r,a):e===403?new Mg(e,u,r,a):e===404?new Ng(e,u,r,a):e===409?new xg(e,u,r,a):e===422?new Ig(e,u,r,a):e===429?new Dg(e,u,r,a):e>=500?new Ug(e,u,r,a):new Ne(e,u,r,a)}}class Xu extends Ne{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class aa extends Ne{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class bg extends aa{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Rg extends Ne{}class wg extends Ne{}class Mg extends Ne{}class Ng extends Ne{}class xg extends Ne{}class Ig extends Ne{}class Dg extends Ne{}class Ug extends Ne{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wA=/^[a-z][a-z0-9+.-]*:/i,MA=i=>wA.test(i);let Zu=i=>(Zu=Array.isArray,Zu(i));const NA=Zu;let xA=NA;const Fm=xA;function IA(i){if(!i)return!0;for(const e in i)return!1;return!0}function DA(i,e){return Object.prototype.hasOwnProperty.call(i,e)}const UA=(i,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new an(`${i} must be an integer`);if(e<0)throw new an(`${i} must be a positive integer`);return e},kA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LA=i=>new Promise(e=>setTimeout(e,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const So="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const GA=()=>{var i,e,o,r,a;const u=zA();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":Jm(Deno.build.os),"X-Stainless-Arch":Ym(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":Jm((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Ym((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=BA();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":So,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function BA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of i){const r=o.exec(navigator.userAgent);if(r){const a=r[1]||0,u=r[2]||0,f=r[3]||0;return{browser:e,version:`${a}.${u}.${f}`}}}return null}const Ym=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Jm=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Vr;const OA=()=>Vr??(Vr=GA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function kg(...i){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...i)}function PA(i){let e=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return kg({start(){},async pull(o){const{done:r,value:a}=await e.next();r?o.close():o.enqueue(a)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function Lg(i){if(i[Symbol.asyncIterator])return i;const e=i.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function qA(i){var e,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(e=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const r=i.getReader(),a=r.cancel();r.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VA=({headers:i,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zg=()=>{var i;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((i=e==null?void 0:e.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Uu(i,e,o){return zg(),new File(i,e??"unknown_file",o)}function FA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const YA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",JA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Gg(i),KA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function XA(i,e,o){if(zg(),i=await i,JA(i))return i instanceof File?i:Uu([await i.arrayBuffer()],i.name);if(KA(i)){const a=await i.blob();return e||(e=new URL(i.url).pathname.split(/[\\/]/).pop()),Uu(await Qu(a),e,o)}const r=await Qu(i);if(e||(e=FA(i)),!(o!=null&&o.type)){const a=r.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(o=Object.assign(Object.assign({},o),{type:a}))}return Uu(r,e,o)}async function Qu(i){var e,o,r,a,u;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(Gg(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(YA(i))try{for(var h=!0,g=dn(i),p;p=await g.next(),e=p.done,!e;h=!0){a=p.value,h=!1;const v=a;f.push(...await Qu(v))}}catch(v){o={error:v}}finally{try{!h&&!e&&(r=g.return)&&await r.call(g)}finally{if(o)throw o.error}}else{const v=(u=i==null?void 0:i.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${ZA(i)}`)}return f}function ZA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bg{constructor(e){this._client=e}}Bg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Og(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Km=Object.freeze(Object.create(null)),QA=(i=Og)=>(function(o,...r){if(o.length===1)return o[0];let a=!1;const u=[],f=o.reduce((v,_,T)=>{var S,b,A;/[?#]/.test(_)&&(a=!0);const R=r[T];let M=(a?encodeURIComponent:i)(""+R);return T!==r.length&&(R==null||typeof R=="object"&&R.toString===((A=Object.getPrototypeOf((b=Object.getPrototypeOf((S=R.hasOwnProperty)!==null&&S!==void 0?S:Km))!==null&&b!==void 0?b:Km))===null||A===void 0?void 0:A.toString))&&(M=R+"",u.push({start:v.length+_.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+_+(T===r.length?"":M)},""),h=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=g.exec(h))!==null;)u.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((T,S)=>{const b=" ".repeat(S.start-v),A="^".repeat(S.length);return v=S.start+S.length,T+b+A},"");throw new an(`Path parameters result in path with invalid segments:
${u.map(T=>T.error).join(`
`)}
${f}
${_}`)}return f}),Fr=QA(Og);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hg extends Bg{create(e,o){var r;const{api_version:a=this._client.apiVersion}=e,u=ea(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new an("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new an("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Fr`/${a}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,o={},r){const{api_version:a=this._client.apiVersion}=o??{};return this._client.delete(Fr`/${a}/interactions/${e}`,r)}cancel(e,o={},r){const{api_version:a=this._client.apiVersion}=o??{};return this._client.post(Fr`/${a}/interactions/${e}/cancel`,r)}get(e,o={},r){var a;const u=o??{},{api_version:f=this._client.apiVersion}=u,h=ea(u,["api_version"]);return this._client.get(Fr`/${f}/interactions/${e}`,Object.assign(Object.assign({query:h},r),{stream:(a=o==null?void 0:o.stream)!==null&&a!==void 0?a:!1}))}}Hg._key=Object.freeze(["interactions"]);class Pg extends Hg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WA(i){let e=0;for(const a of i)e+=a.length;const o=new Uint8Array(e);let r=0;for(const a of i)o.set(a,r),r+=a.length;return o}let Yr;function ac(i){let e;return(Yr??(e=new globalThis.TextEncoder,Yr=e.encode.bind(e)))(i)}let Jr;function Xm(i){let e;return(Jr??(e=new globalThis.TextDecoder,Jr=e.decode.bind(e)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ac(e):e;this.buffer=WA([this.buffer,o]);const r=[];let a;for(;(a=$A(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){r.push(Xm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=Xm(this.buffer.subarray(0,u));r.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}sa.NEWLINE_CHARS=new Set([`
`,"\r"]);sa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $A(i,e){for(let a=e??0;a<i.length;a++){if(i[a]===10)return{preceding:a,index:a+1,carriage:!1};if(i[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function jA(i){for(let r=0;r<i.length-1;r++){if(i[r]===10&&i[r+1]===10||i[r]===13&&i[r+1]===13)return r+2;if(i[r]===13&&i[r+1]===10&&r+3<i.length&&i[r+2]===13&&i[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const na={off:0,error:200,warn:300,info:400,debug:500},Zm=(i,e,o)=>{if(i){if(DA(na,i))return i;Me(o).warn(`${e} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(na))}`)}};function bl(){}function Kr(i,e,o){return!e||na[i]>na[o]?bl:e[i].bind(e)}const t1={error:bl,warn:bl,info:bl,debug:bl};let Qm=new WeakMap;function Me(i){var e;const o=i.logger,r=(e=i.logLevel)!==null&&e!==void 0?e:"off";if(!o)return t1;const a=Qm.get(o);if(a&&a[0]===r)return a[1];const u={error:Kr("error",o,r),warn:Kr("warn",o,r),info:Kr("info",o,r),debug:Kr("debug",o,r)};return Qm.set(o,[r,u]),u}const Ui=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Co{constructor(e,o,r){this.iterator=e,this.controller=o,this.client=r}static fromSSEResponse(e,o,r){let a=!1;const u=r?Me(r):console;function f(){return fn(this,arguments,function*(){var g,p,v,_;if(a)throw new an("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var S=!0,b=dn(e1(e,o)),A;A=yield It(b.next()),g=A.done,!g;S=!0){_=A.value,S=!1;const R=_;if(!T)if(R.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield It(JSON.parse(R.data))}catch(M){throw u.error("Could not parse message into JSON:",R.data),u.error("From chunk:",R.raw),M}}}catch(R){p={error:R}}finally{try{!S&&!g&&(v=b.return)&&(yield It(v.call(b)))}finally{if(p)throw p.error}}T=!0}catch(R){if(Ju(R))return yield It(void 0);throw R}finally{T||o.abort()}})}return new Co(f,o,r)}static fromReadableStream(e,o,r){let a=!1;function u(){return fn(this,arguments,function*(){var g,p,v,_;const T=new sa,S=Lg(e);try{for(var b=!0,A=dn(S),R;R=yield It(A.next()),g=R.done,!g;b=!0){_=R.value,b=!1;const M=_;for(const I of T.decode(M))yield yield It(I)}}catch(M){p={error:M}}finally{try{!b&&!g&&(v=A.return)&&(yield It(v.call(A)))}finally{if(p)throw p.error}}for(const M of T.flush())yield yield It(M)})}function f(){return fn(this,arguments,function*(){var g,p,v,_;if(a)throw new an("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var S=!0,b=dn(u()),A;A=yield It(b.next()),g=A.done,!g;S=!0){_=A.value,S=!1;const R=_;T||R&&(yield yield It(JSON.parse(R)))}}catch(R){p={error:R}}finally{try{!S&&!g&&(v=b.return)&&(yield It(v.call(b)))}finally{if(p)throw p.error}}T=!0}catch(R){if(Ju(R))return yield It(void 0);throw R}finally{T||o.abort()}})}return new Co(f,o,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],r=this.iterator(),a=u=>({next:()=>{if(u.length===0){const f=r.next();e.push(f),o.push(f)}return u.shift()}});return[new Co(()=>a(e),this.controller,this.client),new Co(()=>a(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return kg({async start(){o=e[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:u}=await o.next();if(u)return r.close();const f=ac(JSON.stringify(a)+`
`);r.enqueue(f)}catch(a){r.error(a)}},async cancel(){var r;await((r=o.return)===null||r===void 0?void 0:r.call(o))}})}}function e1(i,e){return fn(this,arguments,function*(){var r,a,u,f;if(!i.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new an("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new an("Attempted to iterate over a response with no body");const h=new i1,g=new sa,p=Lg(i.body);try{for(var v=!0,_=dn(n1(p)),T;T=yield It(_.next()),r=T.done,!r;v=!0){f=T.value,v=!1;const S=f;for(const b of g.decode(S)){const A=h.decode(b);A&&(yield yield It(A))}}}catch(S){a={error:S}}finally{try{!v&&!r&&(u=_.return)&&(yield It(u.call(_)))}finally{if(a)throw a.error}}for(const S of g.flush()){const b=h.decode(S);b&&(yield yield It(b))}})}function n1(i){return fn(this,arguments,function*(){var o,r,a,u;let f=new Uint8Array;try{for(var h=!0,g=dn(i),p;p=yield It(g.next()),o=p.done,!o;h=!0){u=p.value,h=!1;const v=u;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ac(v):v;let T=new Uint8Array(f.length+_.length);T.set(f),T.set(_,f.length),f=T;let S;for(;(S=jA(f))!==-1;)yield yield It(f.slice(0,S)),f=f.slice(S)}}catch(v){r={error:v}}finally{try{!h&&!o&&(a=g.return)&&(yield It(a.call(g)))}finally{if(r)throw r.error}}f.length>0&&(yield yield It(f))})}class i1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,r,a]=o1(e,":");return a.startsWith(" ")&&(a=a.substring(1)),o==="event"?this.event=a:o==="data"&&this.data.push(a),null}}function o1(i,e){const o=i.indexOf(e);return o!==-1?[i.substring(0,o),e,i.substring(o+e.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function l1(i,e){const{response:o,requestLogID:r,retryOfRequestLogID:a,startTime:u}=e,f=await(async()=>{var h;if(e.options.stream)return Me(i).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,i):Co.fromSSEResponse(o,e.controller,i);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const g=o.headers.get("content-type"),p=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return Me(i).debug(`[${r}] response parsed`,Ui({retryOfRequestLogID:a,url:o.url,status:o.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sc extends Promise{constructor(e,o,r=l1){super(a=>{a(null)}),this.responsePromise=o,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new sc(this.client,this.responsePromise,async(o,r)=>e(await this.parseResponse(o,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qg=Symbol("brand.privateNullableHeaders");function*r1(i){if(!i)return;if(qg in i){const{values:r,nulls:a}=i;yield*r.entries();for(const u of a)yield[u,null];return}let e=!1,o;i instanceof Headers?o=i.entries():Fm(i)?o=i:(e=!0,o=Object.entries(i??{}));for(let r of o){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=Fm(r[1])?r[1]:[r[1]];let f=!1;for(const h of u)h!==void 0&&(e&&!f&&(f=!0,yield[a,null]),yield[a,h])}}const Al=i=>{const e=new Headers,o=new Set;for(const r of i){const a=new Set;for(const[u,f]of r1(r)){const h=u.toLowerCase();a.has(h)||(e.delete(u),a.add(h)),f===null?(e.delete(u),o.add(h)):(e.append(u,f),o.delete(h))}}return{[qg]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ku=i=>{var e,o,r,a,u,f;if(typeof globalThis.process<"u")return(r=(o=(e=b0)===null||e===void 0?void 0:e[i])===null||o===void 0?void 0:o.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,i))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Vg;class ua{constructor(e){var o,r,a,u,f,h,g,{baseURL:p=ku("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=ku("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=e,T=ea(e,["baseURL","apiKey","apiVersion"]);const S=Object.assign(Object.assign({apiKey:v,apiVersion:_},T),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=S.baseURL,this.timeout=(r=S.timeout)!==null&&r!==void 0?r:ua.DEFAULT_TIMEOUT,this.logger=(a=S.logger)!==null&&a!==void 0?a:console;const b="warn";this.logLevel=b,this.logLevel=(f=(u=Zm(S.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Zm(ku("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:b,this.fetchOptions=S.fetchOptions,this.maxRetries=(h=S.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=S.fetch)!==null&&g!==void 0?g:HA(),this.encoder=VA,this._options=S,this.apiKey=v,this.apiVersion=_,this.clientAdapter=S.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=Al([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Al([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Al([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new an(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${So}`}defaultIdempotencyKey(){return`stainless-node-retry-${RA()}`}makeStatusError(e,o,r,a){return Ne.generate(e,o,r,a)}buildURL(e,o,r){const a=!this.baseURLOverridden()&&r||this.baseURL,u=MA(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return IA(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:r}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,r){return this.request(Promise.resolve(r).then(a=>Object.assign({method:e,path:o},a)))}request(e,o=null){return new sc(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,r){var a,u,f;const h=await e,g=(a=h.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o==null&&(o=g),await this.prepareOptions(h);const{req:p,url:v,timeout:_}=await this.buildRequest(h,{retryCount:g-o});await this.prepareRequest(p,{url:v,options:h});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),S=r===void 0?"":`, retryOf: ${r}`,b=Date.now();if(Me(this).debug(`[${T}] sending request`,Ui({retryOfRequestLogID:r,method:h.method,url:v,options:h,headers:p.headers})),!((u=h.signal)===null||u===void 0)&&u.aborted)throw new Xu;const A=new AbortController,R=await this.fetchWithTimeout(v,p,_,A).catch(Ku),M=Date.now();if(R instanceof globalThis.Error){const D=`retrying, ${o} attempts remaining`;if(!((f=h.signal)===null||f===void 0)&&f.aborted)throw new Xu;const G=Ju(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return Me(this).info(`[${T}] connection ${G?"timed out":"failed"} - ${D}`),Me(this).debug(`[${T}] connection ${G?"timed out":"failed"} (${D})`,Ui({retryOfRequestLogID:r,url:v,durationMs:M-b,message:R.message})),this.retryRequest(h,o,r??T);throw Me(this).info(`[${T}] connection ${G?"timed out":"failed"} - error; no more retries left`),Me(this).debug(`[${T}] connection ${G?"timed out":"failed"} (error; no more retries left)`,Ui({retryOfRequestLogID:r,url:v,durationMs:M-b,message:R.message})),G?new bg:new aa({cause:R})}const I=`[${T}${S}] ${p.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${M-b}ms`;if(!R.ok){const D=await this.shouldRetry(R);if(o&&D){const V=`retrying, ${o} attempts remaining`;return await qA(R.body),Me(this).info(`${I} - ${V}`),Me(this).debug(`[${T}] response error (${V})`,Ui({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:M-b})),this.retryRequest(h,o,r??T,R.headers)}const G=D?"error; no more retries left":"error; not retryable";Me(this).info(`${I} - ${G}`);const B=await R.text().catch(V=>Ku(V).message),H=kA(B),P=H?void 0:B;throw Me(this).debug(`[${T}] response error (${G})`,Ui({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,message:P,durationMs:Date.now()-b})),this.makeStatusError(R.status,H,P,R.headers)}return Me(this).info(I),Me(this).debug(`[${T}] response start`,Ui({retryOfRequestLogID:r,url:R.url,status:R.status,headers:R.headers,durationMs:M-b})),{response:R,options:h,controller:A,requestLogID:T,retryOfRequestLogID:r,startTime:b}}async fetchWithTimeout(e,o,r,a){const u=o||{},{signal:f,method:h}=u,g=ea(u,["signal","method"]),p=this._makeAbort(a);f&&f.addEventListener("abort",p,{once:!0});const v=setTimeout(p,r),_=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,T=Object.assign(Object.assign(Object.assign({signal:a.signal},_?{duplex:"half"}:{}),{method:"GET"}),g);h&&(T.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(v)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,r,a){var u;let f;const h=a==null?void 0:a.get("retry-after-ms");if(h){const p=parseFloat(h);Number.isNaN(p)||(f=p)}const g=a==null?void 0:a.get("retry-after");if(g&&!f){const p=parseFloat(g);Number.isNaN(p)?f=Date.parse(g)-Date.now():f=p*1e3}if(!(f&&0<=f&&f<60*1e3)){const p=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,p)}return await LA(f),this.makeRequest(e,o-1,r)}calculateDefaultRetryTimeoutMillis(e,o){const u=o-e,f=Math.min(.5*Math.pow(2,u),8),h=1-Math.random()*.25;return f*h*1e3}async buildRequest(e,{retryCount:o=0}={}){var r,a,u;const f=Object.assign({},e),{method:h,path:g,query:p,defaultBaseURL:v}=f,_=this.buildURL(g,p,v);"timeout"in f&&UA("timeout",f.timeout),f.timeout=(r=f.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:T,body:S}=this.buildBody({options:f}),b=await this.buildHeaders({options:e,method:h,bodyHeaders:T,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:b},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&S instanceof globalThis.ReadableStream&&{duplex:"half"}),S&&{body:S}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:r,retryCount:a}){let u={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let h=Al([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),OA()),this._options.defaultHeaders,r,e.headers,f]);return this.validateHeaders(h),h.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Al([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:PA(e)}:typeof e=="object"&&r.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(e)}:this.encoder({body:e,headers:r})}}ua.DEFAULT_TIMEOUT=6e4;class _e extends ua{constructor(){super(...arguments),this.interactions=new Pg(this)}}Vg=_e;_e.GeminiNextGenAPIClient=Vg;_e.GeminiNextGenAPIClientError=an;_e.APIError=Ne;_e.APIConnectionError=aa;_e.APIConnectionTimeoutError=bg;_e.APIUserAbortError=Xu;_e.NotFoundError=Ng;_e.ConflictError=xg;_e.RateLimitError=Dg;_e.BadRequestError=Rg;_e.AuthenticationError=wg;_e.InternalServerError=Ug;_e.PermissionDeniedError=Mg;_e.UnprocessableEntityError=Ig;_e.toFile=XA;_e.Interactions=Pg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a1(i,e){const o={},r=c(i,["name"]);return r!=null&&d(o,["_url","name"],r),o}function s1(i,e){const o={},r=c(i,["name"]);return r!=null&&d(o,["_url","name"],r),o}function u1(i,e){const o={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(o,["sdkHttpResponse"],r),o}function c1(i,e){const o={},r=c(i,["sdkHttpResponse"]);return r!=null&&d(o,["sdkHttpResponse"],r),o}function f1(i,e,o){const r={};if(c(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(i,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&d(e,["displayName"],a),c(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(i,["epochCount"]);e!==void 0&&u!=null&&d(e,["tuningTask","hyperparameters","epochCount"],u);const f=c(i,["learningRateMultiplier"]);if(f!=null&&d(r,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=c(i,["batchSize"]);e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","batchSize"],h);const g=c(i,["learningRate"]);if(e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),c(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(c(i,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function d1(i,e,o){const r={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const H=c(i,["validationDataset"]);e!==void 0&&H!=null&&d(e,["supervisedTuningSpec"],Lu(H))}else if(a==="PREFERENCE_TUNING"){const H=c(i,["validationDataset"]);e!==void 0&&H!=null&&d(e,["preferenceOptimizationSpec"],Lu(H))}else if(a==="DISTILLATION"){const H=c(i,["validationDataset"]);e!==void 0&&H!=null&&d(e,["distillationSpec"],Lu(H))}const u=c(i,["tunedModelDisplayName"]);e!==void 0&&u!=null&&d(e,["tunedModelDisplayName"],u);const f=c(i,["description"]);e!==void 0&&f!=null&&d(e,["description"],f);let h=c(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const H=c(i,["epochCount"]);e!==void 0&&H!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],H)}else if(h==="PREFERENCE_TUNING"){const H=c(i,["epochCount"]);e!==void 0&&H!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],H)}else if(h==="DISTILLATION"){const H=c(i,["epochCount"]);e!==void 0&&H!=null&&d(e,["distillationSpec","hyperParameters","epochCount"],H)}let g=c(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const H=c(i,["learningRateMultiplier"]);e!==void 0&&H!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],H)}else if(g==="PREFERENCE_TUNING"){const H=c(i,["learningRateMultiplier"]);e!==void 0&&H!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],H)}else if(g==="DISTILLATION"){const H=c(i,["learningRateMultiplier"]);e!==void 0&&H!=null&&d(e,["distillationSpec","hyperParameters","learningRateMultiplier"],H)}let p=c(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const H=c(i,["exportLastCheckpointOnly"]);e!==void 0&&H!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],H)}else if(p==="PREFERENCE_TUNING"){const H=c(i,["exportLastCheckpointOnly"]);e!==void 0&&H!=null&&d(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],H)}else if(p==="DISTILLATION"){const H=c(i,["exportLastCheckpointOnly"]);e!==void 0&&H!=null&&d(e,["distillationSpec","exportLastCheckpointOnly"],H)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const H=c(i,["adapterSize"]);e!==void 0&&H!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],H)}else if(v==="PREFERENCE_TUNING"){const H=c(i,["adapterSize"]);e!==void 0&&H!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],H)}else if(v==="DISTILLATION"){const H=c(i,["adapterSize"]);e!==void 0&&H!=null&&d(e,["distillationSpec","hyperParameters","adapterSize"],H)}let _=c(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const H=c(i,["tuningMode"]);e!==void 0&&H!=null&&d(e,["supervisedTuningSpec","tuningMode"],H)}const T=c(i,["customBaseModel"]);e!==void 0&&T!=null&&d(e,["customBaseModel"],T);let S=c(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const H=c(i,["batchSize"]);e!==void 0&&H!=null&&d(e,["supervisedTuningSpec","hyperParameters","batchSize"],H)}let b=c(o,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const H=c(i,["learningRate"]);e!==void 0&&H!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRate"],H)}const A=c(i,["labels"]);e!==void 0&&A!=null&&d(e,["labels"],A);const R=c(i,["beta"]);e!==void 0&&R!=null&&d(e,["preferenceOptimizationSpec","hyperParameters","beta"],R);const M=c(i,["baseTeacherModel"]);e!==void 0&&M!=null&&d(e,["distillationSpec","baseTeacherModel"],M);const I=c(i,["tunedTeacherModelSource"]);e!==void 0&&I!=null&&d(e,["distillationSpec","tunedTeacherModelSource"],I);const D=c(i,["sftLossWeightMultiplier"]);e!==void 0&&D!=null&&d(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const G=c(i,["outputUri"]);e!==void 0&&G!=null&&d(e,["outputUri"],G);const B=c(i,["encryptionSpec"]);return e!==void 0&&B!=null&&d(e,["encryptionSpec"],B),r}function h1(i,e){const o={},r=c(i,["baseModel"]);r!=null&&d(o,["baseModel"],r);const a=c(i,["preTunedModel"]);a!=null&&d(o,["preTunedModel"],a);const u=c(i,["trainingDataset"]);u!=null&&A1(u);const f=c(i,["config"]);return f!=null&&f1(f,o),o}function p1(i,e){const o={},r=c(i,["baseModel"]);r!=null&&d(o,["baseModel"],r);const a=c(i,["preTunedModel"]);a!=null&&d(o,["preTunedModel"],a);const u=c(i,["trainingDataset"]);u!=null&&b1(u,o,e);const f=c(i,["config"]);return f!=null&&d1(f,o,e),o}function m1(i,e){const o={},r=c(i,["name"]);return r!=null&&d(o,["_url","name"],r),o}function g1(i,e){const o={},r=c(i,["name"]);return r!=null&&d(o,["_url","name"],r),o}function y1(i,e,o){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(i,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),r}function v1(i,e,o){const r={},a=c(i,["pageSize"]);e!==void 0&&a!=null&&d(e,["_query","pageSize"],a);const u=c(i,["pageToken"]);e!==void 0&&u!=null&&d(e,["_query","pageToken"],u);const f=c(i,["filter"]);return e!==void 0&&f!=null&&d(e,["_query","filter"],f),r}function _1(i,e){const o={},r=c(i,["config"]);return r!=null&&y1(r,o),o}function T1(i,e){const o={},r=c(i,["config"]);return r!=null&&v1(r,o),o}function S1(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=c(i,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Fg(h))),d(o,["tuningJobs"],f)}return o}function E1(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=c(i,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(h=>Wu(h))),d(o,["tuningJobs"],f)}return o}function C1(i,e){const o={},r=c(i,["name"]);r!=null&&d(o,["model"],r);const a=c(i,["name"]);return a!=null&&d(o,["endpoint"],a),o}function A1(i,e){const o={};if(c(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=c(i,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(u=>u)),d(o,["examples","examples"],a)}return o}function b1(i,e,o){const r={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=c(i,["gcsUri"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=c(i,["gcsUri"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(a==="DISTILLATION"){const f=c(i,["gcsUri"]);e!==void 0&&f!=null&&d(e,["distillationSpec","promptDatasetUri"],f)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(i,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(i,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(u==="DISTILLATION"){const f=c(i,["vertexDatasetResource"]);e!==void 0&&f!=null&&d(e,["distillationSpec","promptDatasetUri"],f)}if(c(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Fg(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["name"]);a!=null&&d(o,["name"],a);const u=c(i,["state"]);u!=null&&d(o,["state"],rg(u));const f=c(i,["createTime"]);f!=null&&d(o,["createTime"],f);const h=c(i,["tuningTask","startTime"]);h!=null&&d(o,["startTime"],h);const g=c(i,["tuningTask","completeTime"]);g!=null&&d(o,["endTime"],g);const p=c(i,["updateTime"]);p!=null&&d(o,["updateTime"],p);const v=c(i,["description"]);v!=null&&d(o,["description"],v);const _=c(i,["baseModel"]);_!=null&&d(o,["baseModel"],_);const T=c(i,["_self"]);return T!=null&&d(o,["tunedModel"],C1(T)),o}function Wu(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["name"]);a!=null&&d(o,["name"],a);const u=c(i,["state"]);u!=null&&d(o,["state"],rg(u));const f=c(i,["createTime"]);f!=null&&d(o,["createTime"],f);const h=c(i,["startTime"]);h!=null&&d(o,["startTime"],h);const g=c(i,["endTime"]);g!=null&&d(o,["endTime"],g);const p=c(i,["updateTime"]);p!=null&&d(o,["updateTime"],p);const v=c(i,["error"]);v!=null&&d(o,["error"],v);const _=c(i,["description"]);_!=null&&d(o,["description"],_);const T=c(i,["baseModel"]);T!=null&&d(o,["baseModel"],T);const S=c(i,["tunedModel"]);S!=null&&d(o,["tunedModel"],S);const b=c(i,["preTunedModel"]);b!=null&&d(o,["preTunedModel"],b);const A=c(i,["supervisedTuningSpec"]);A!=null&&d(o,["supervisedTuningSpec"],A);const R=c(i,["preferenceOptimizationSpec"]);R!=null&&d(o,["preferenceOptimizationSpec"],R);const M=c(i,["distillationSpec"]);M!=null&&d(o,["distillationSpec"],M);const I=c(i,["tuningDataStats"]);I!=null&&d(o,["tuningDataStats"],I);const D=c(i,["encryptionSpec"]);D!=null&&d(o,["encryptionSpec"],D);const G=c(i,["partnerModelTuningSpec"]);G!=null&&d(o,["partnerModelTuningSpec"],G);const B=c(i,["customBaseModel"]);B!=null&&d(o,["customBaseModel"],B);const H=c(i,["experiment"]);H!=null&&d(o,["experiment"],H);const P=c(i,["labels"]);P!=null&&d(o,["labels"],P);const lt=c(i,["outputUri"]);lt!=null&&d(o,["outputUri"],lt);const V=c(i,["pipelineJob"]);V!=null&&d(o,["pipelineJob"],V);const ut=c(i,["serviceAccount"]);ut!=null&&d(o,["serviceAccount"],ut);const vt=c(i,["tunedModelDisplayName"]);vt!=null&&d(o,["tunedModelDisplayName"],vt);const z=c(i,["veoTuningSpec"]);return z!=null&&d(o,["veoTuningSpec"],z),o}function R1(i,e){const o={},r=c(i,["sdkHttpResponse"]);r!=null&&d(o,["sdkHttpResponse"],r);const a=c(i,["name"]);a!=null&&d(o,["name"],a);const u=c(i,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(i,["done"]);f!=null&&d(o,["done"],f);const h=c(i,["error"]);return h!=null&&d(o,["error"],h),o}function Lu(i,e){const o={},r=c(i,["gcsUri"]);r!=null&&d(o,["validationDatasetUri"],r);const a=c(i,["vertexDatasetResource"]);return a!=null&&d(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w1 extends Bn{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new ki(Gn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var r;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((r=o.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),u=await this.tuneMldevInternal(a);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Bu.JOB_STATE_QUEUED}}}}async getInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=g1(e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>Wu(v))}else{const p=m1(e);return h=St("{name}",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>Fg(v))}}async listInternal(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=T1(e);return h=St("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=E1(v),T=new Cm;return Object.assign(T,_),T})}else{const p=_1(e);return h=St("tunedModels",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=S1(v),T=new Cm;return Object.assign(T,_),T})}}async cancel(e){var o,r,a,u;let f,h="",g={};if(this.apiClient.isVertexAI()){const p=s1(e);return h=St("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=c1(v),T=new Am;return Object.assign(T,_),T})}else{const p=a1(e);return h=St("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,f=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const T=_;return T.sdkHttpResponse={headers:v.headers},T})),f.then(v=>{const _=u1(v),T=new Am;return Object.assign(T,_),T})}}async tuneInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI()){const h=p1(e,e);return u=St("tuningJobs",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>Wu(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,r;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=h1(e);return u=St("tunedModels",h._url),f=h._query,delete h._url,delete h._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),a.then(g=>R1(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M1{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const N1=1024*1024*8,x1=3,I1=1e3,D1=2,ia="x-goog-upload-status";async function U1(i,e,o){var r;const a=await Yg(i,e,o),u=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[ia])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function k1(i,e,o){var r;const a=await Yg(i,e,o),u=await(a==null?void 0:a.json());if(((r=a==null?void 0:a.headers)===null||r===void 0?void 0:r[ia])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=tg(u),h=new ec;return Object.assign(h,f),h}async function Yg(i,e,o){var r,a;let u=0,f=0,h=new Hu(new Response),g="upload";for(u=i.size;f<u;){const p=Math.min(N1,u-f),v=i.slice(f,f+p);f+p>=u&&(g+=", finalize");let _=0,T=I1;for(;_<x1&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(p)}}}),!(!((r=h==null?void 0:h.headers)===null||r===void 0)&&r[ia]));)_++,await z1(T),T=T*D1;if(f+=p,((a=h==null?void 0:h.headers)===null||a===void 0?void 0:a[ia])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function L1(i){return{size:i.size,type:i.type}}function z1(i){return new Promise(e=>setTimeout(e,i))}class G1{async upload(e,o,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await U1(e,o,r)}async uploadToFileSearchStore(e,o,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await k1(e,o,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await L1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B1{create(e,o,r){return new O1(e,o,r)}}class O1{constructor(e,o,r){this.url=e,this.headers=o,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wm="x-goog-api-key";class H1{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(Wm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Wm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P1="gl-node/";class q1{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const o=this.httpOptions;o!=null&&o.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new _e({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:o==null?void 0:o.timeout,maxRetries:(e=o==null?void 0:o.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const r=N0(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new H1(this.apiKey);this.apiClient=new LC({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:P1+"web",uploader:new G1,downloader:new M1}),this.models=new tA(this.apiClient),this.live=new XC(this.apiClient,a,new B1),this.batches=new rT(this.apiClient),this.chats=new PT(this.models,this.apiClient),this.caches=new BT(this.apiClient),this.files=new jT(this.apiClient),this.operations=new eA(this.apiClient),this.authTokens=new yA(this.apiClient),this.tunings=new w1(this.apiClient),this.fileSearchStores=new bA(this.apiClient)}}const Jg=new q1({apiKey:"AIzaSyB-G2aZIA-IWTv4m0H-jCwAxpZJ3Pn5xfg"}),V1=`Analyze the provided manga pages in the exact order they are given.
For each page, detect all speech bubbles.
Return an array of results, where the first item corresponds to the first image, the second item to the second image, and so on.
For each bubble, extract the English text and the bounding box (ymin, xmin, ymax, xmax) on a 0-1000 scale relative to the image dimensions.
Ignore sound effects and narration boxes if they don't contain dialogue.`,F1="This image contains 3 manga pages stacked vertically. Read the text and return it formatted strictly as a JSON array of 3 strings, where each string is the text for one page.",Y1=async i=>{try{const e=[];i.forEach(a=>{e.push({inlineData:{mimeType:"image/png",data:a}})}),e.push({text:V1});const r=(await Jg.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:e}})).text;if(!r)return i.map(()=>[]);try{const a=JSON.parse(r);return Array.isArray(a)?a.map(u=>u.bubbles||[]):i.map(()=>[])}catch(a){return console.error("Failed to parse JSON response",a),i.map(()=>[])}}catch(e){return console.error("OCR Batch Error:",e),i.map(()=>[])}},J1=async i=>{const o=await(await fetch(i)).blob();return new Promise((r,a)=>{const u=new FileReader;u.onloadend=()=>{var h;const f=(h=u.result)==null?void 0:h.toString();f?r(f.split(",")[1]):a(new Error("Failed to convert blob to base64"))},u.onerror=a,u.readAsDataURL(o)})},K1=async i=>{const e=await Promise.all(i.map(b=>new Promise((A,R)=>{const M=new Image;M.crossOrigin="anonymous",M.onload=()=>A(M),M.onerror=I=>R(new Error("Failed to load image "+b)),M.src=b}))),o=800,r=e.reduce((b,A)=>Math.max(b,A.naturalWidth||A.width),0),a=Math.min(1,o/r),u=Math.round(r*a),f=e.map(b=>Math.round((b.naturalHeight||b.height)*a)),h=f.reduce((b,A)=>b+A,0),g=document.createElement("canvas");g.width=u,g.height=h;const p=g.getContext("2d");if(!p)throw new Error("Failed to get canvas context");console.log(`[OCR] Merging ${e.length} images: ${u}x${h}px (scale: ${a.toFixed(2)})`);let v=0;for(let b=0;b<e.length;b++){const A=e[b],R=f[b];p.drawImage(A,0,v,g.width,R),v+=R}const T=g.toDataURL("image/jpeg",.4).split(",")[1],S=Math.round(T.length*.75/1024);return console.log(`[OCR] Compressed to ${S}KB`),T},X1=async i=>{try{const e=await K1(i),o=[];o.push({inlineData:{mimeType:"image/jpeg",data:e}}),o.push({text:F1});const a=(await Jg.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:o}})).text;if(!a)return i.map(()=>"");try{const u=a.replace(/```json/gi,"").replace(/```/g,"").trim(),f=JSON.parse(u);return Array.isArray(f)?i.map((g,p)=>f[p]||""):i.map(()=>"")}catch(u){throw console.error("Failed to parse OCR JSON response",u,"Raw response:",a),new Error(`JSON parse failed: ${u instanceof Error?u.message:"unknown error"}. Raw: ${a.substring(0,100)}`)}}catch(e){throw console.error("performBatchedOCR error",e),e}},Di=4,Z1=({manga:i,onClose:e})=>{const[o,r]=Pt.useState(0),[a,u]=Pt.useState(!0),[f,h]=Pt.useState(!1),[g,p]=Pt.useState({}),[v,_]=Pt.useState({}),[T,S]=Pt.useState(null),[b,A]=Pt.useState(!1),R=Pt.useRef(new Set),M=Pt.useRef(new Set),I=Pt.useRef({}),[D,G]=Pt.useState(!1),B=Pt.useRef(window.speechSynthesis),[H,P]=Pt.useState(null),lt=Pt.useRef(null),V=Pt.useCallback(async Z=>{if(R.current.has(Z))return;const ot=Z*Di,N=Math.min(ot+Di,i.pages.length);let U=!0;for(let $=ot;$<N;$++)if(!I.current[$]){U=!1;break}if(!U){R.current.add(Z),p($=>{var et;const K={...$};for(let _t=ot;_t<N;_t++)((et=K[_t])==null?void 0:et.status)!=="complete"&&(K[_t]={bubbles:[],status:"preloaded"});return K});try{const $=[];for(let K=ot;K<N;K++)i.pages[K]&&(I.current[K]||$.push(new Promise(et=>{const _t=new Image;_t.crossOrigin="anonymous",_t.onload=()=>{I.current[K]=_t,et()},_t.onerror=()=>{et()},_t.src=i.pages[K]})));await Promise.all($)}catch($){console.warn("Preload batch failed",$)}finally{R.current.delete(Z)}}},[i.pages]),ut=Pt.useCallback(async Z=>{if(R.current.has(Z))return;const ot=Z*Di,N=Math.min(ot+Di,i.pages.length);R.current.add(Z),p(U=>{var K;const $={...U};for(let et=ot;et<N;et++)((K=$[et])==null?void 0:K.status)!=="complete"&&($[et]={bubbles:[],status:"loading"});return $});try{const U=[];for(let et=ot;et<N;et++)U.push(J1(i.pages[et]));const $=await Promise.all(U),K=await Y1($);p(et=>{const _t={...et};return K.forEach((Nt,Mt)=>{const bt=ot+Mt;Nt.sort((Jt,Kt)=>{const Te=Jt.box_2d[0]-Kt.box_2d[0];return Math.abs(Te)>50?Te:Kt.box_2d[1]-Jt.box_2d[1]}),_t[bt]={bubbles:Nt,status:"complete"}}),_t})}catch(U){console.error("Batch analysis failed",U),p($=>{const K={...$};for(let et=ot;et<N;et++)K[et]={bubbles:[],status:"error"};return K})}finally{R.current.delete(Z)}},[i.pages]);Pt.useEffect(()=>{const Z=Math.floor(o/Di);V(Z);const ot=Z+1;if(ot*Di<i.pages.length){const N=setTimeout(()=>{V(ot)},500);return()=>clearTimeout(N)}},[o,V,i.pages.length]),Pt.useEffect(()=>{const Z=ot=>{if(!i.pages[ot]||I.current[ot])return;const N=new Image;N.crossOrigin="anonymous",N.src=i.pages[ot],N.onload=()=>{I.current[ot]=N},N.onerror=()=>{}};for(let ot=1;ot<=3;ot++)Z(o+ot)},[o,i.pages]);const vt=Pt.useCallback(async Z=>{try{S(null);const ot=Z,N=Math.min(ot+3,i.pages.length);let U=!0;for(let _t=ot;_t<N;_t++)if(!v[_t]){U=!1;break}if(U){console.log(`[OCR] Pages ${ot}-${N-1} already cached`);return}const $=new SpeechSynthesisUtterance("");if($.volume=0,window.speechSynthesis.speak($),M.current.has(ot)){console.log(`[OCR] Batch starting at page ${ot} already pending`);return}M.current.add(ot),console.log(`[OCR] Starting batch from page ${ot}`);const K=i.pages.slice(ot,ot+3);if(K.length===0){console.log("[OCR] No pages to process");return}console.log(`[OCR] Requesting ${K.length} pages (indices ${ot}-${ot+K.length-1})`);const et=await X1(K);_(_t=>{const Nt={..._t};return et.forEach((Mt,bt)=>{const Jt=ot+bt;Nt[Jt]=Mt||"",console.log(`[OCR] Cached page ${Jt}`)}),Nt})}catch(ot){const N=ot instanceof Error?ot.message:String(ot);console.error("OCR request failed",ot),S(N)}finally{M.current.delete(Z)}},[i.pages]);Pt.useEffect(()=>{if(!D)return;const Z=new SpeechSynthesisUtterance("");Z.volume=0,window.speechSynthesis.speak(Z),console.log("[TTS] Audio unlocked on enable")},[D]),Pt.useEffect(()=>{(!D||!b)&&(B.current.cancel(),P(null),lt.current=null)},[D,b]);const z=Pt.useCallback(async()=>{if(!D||!b)return;const Z=o;try{const ot=v[Z];if(ot&&ot.trim().length>0){if(lt.current===Z&&B.current.speaking)return;lt.current!==Z&&(B.current.cancel(),P(null)),lt.current=Z,window.speechSynthesis.cancel();const N=new SpeechSynthesisUtterance(ot);let U=window.speechSynthesis.getVoices();U.length===0&&await new Promise(K=>{const et=()=>{U=window.speechSynthesis.getVoices(),window.speechSynthesis.removeEventListener("voiceschanged",et),K(null)};window.speechSynthesis.addEventListener("voiceschanged",et),setTimeout(K,1e3)});const $=U.find(K=>K.name.includes("Google US English"))||U.find(K=>K.lang.startsWith("en"));$&&(N.voice=$),N.rate=1,N.pitch=1,N.volume=1,N.onstart=()=>P(null),N.onend=()=>P(null),N.onerror=K=>S(`TTS Error: ${K instanceof Error?K.message:String(K)}`),B.current.speak(N);return}}catch(ot){const N=ot instanceof Error?ot.message:String(ot);console.error("[TTS] OCR text error:",N),S(`TTS OCR text error: ${N}`);return}try{const ot=g[Z];if(!ot||ot.status!=="complete"||ot.bubbles.length===0||lt.current===Z&&B.current.speaking)return;lt.current!==Z&&(B.current.cancel(),P(null)),lt.current=Z,window.speechSynthesis.cancel();let N=window.speechSynthesis.getVoices();N.length===0&&await new Promise(U=>{const $=()=>{N=window.speechSynthesis.getVoices(),window.speechSynthesis.removeEventListener("voiceschanged",$),U(null)};window.speechSynthesis.addEventListener("voiceschanged",$),setTimeout(U,1e3)}),ot.bubbles.forEach((U,$)=>{const K=new SpeechSynthesisUtterance(U.text),et=N.find(_t=>_t.name.includes("Google US English"))||N.find(_t=>_t.lang.startsWith("en"));et&&(K.voice=et),K.rate=1,K.pitch=1,K.volume=1,K.onstart=()=>P($),K.onend=()=>{$===ot.bubbles.length-1&&P(null)},K.onerror=()=>{$===ot.bubbles.length-1&&P(null)},B.current.speak(K)})}catch(ot){const N=ot instanceof Error?ot.message:String(ot);console.error("[TTS] Bubbles error:",N),S(`TTS Bubbles error: ${N}`)}},[o,D,b,g,v]);Pt.useEffect(()=>{z()},[z]),Pt.useEffect(()=>()=>{B.current.cancel()},[]),Pt.useEffect(()=>{const Z=ot=>{ot.key==="ArrowRight"||ot.key===" "?r(N=>Math.min(N+1,i.pages.length-1)):ot.key==="ArrowLeft"?r(N=>Math.max(N-1,0)):ot.key==="Escape"&&(document.fullscreenElement?document.exitFullscreen():e())};return window.addEventListener("keydown",Z),()=>window.removeEventListener("keydown",Z)},[i.pages.length,e]);const nt=()=>{document.fullscreenElement?(document.exitFullscreen(),h(!1)):(document.documentElement.requestFullscreen(),h(!0))},w=()=>r(Z=>Math.min(Z+1,i.pages.length-1)),at=()=>r(Z=>Math.max(Z-1,0)),X=()=>u(!a),Y=g[o],mt=(Y==null?void 0:Y.status)==="loading";return Et.jsxs("div",{className:"relative h-screen w-full flex items-center justify-center bg-black overflow-hidden select-none font-sans",children:[T&&Et.jsx("div",{className:"absolute top-0 left-0 right-0 z-[999] bg-red-600 text-white p-4 text-sm font-bold border-b-2 border-red-800 max-h-32 overflow-auto break-words",children:Et.jsxs("div",{className:"flex justify-between items-start",children:[Et.jsxs("span",{children:["ERROR: ",T]}),Et.jsx("button",{onClick:()=>S(null),className:"ml-4 font-bold text-lg",children:""})]})}),Et.jsxs("div",{className:"relative h-full w-full max-w-5xl flex items-center justify-center",onClick:X,children:[Et.jsx("img",{src:i.pages[o],className:"max-h-full max-w-full object-contain shadow-2xl",alt:`Page ${o+1}`}),b&&(Y==null?void 0:Y.status)==="complete"&&Et.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:Et.jsx(Q1,{bubbles:Y.bubbles,activeBubbleIndex:H})})]}),b&&mt&&Et.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20 flex flex-col items-center gap-2",children:[Et.jsx("div",{className:"size-12 rounded-full border-4 border-primary border-t-transparent animate-spin drop-shadow-lg"}),Et.jsx("div",{className:"bg-black/60 backdrop-blur-md px-4 py-1 rounded-full text-white text-xs font-bold uppercase tracking-wider",children:"Analyzing Batch..."})]}),Et.jsxs("div",{className:`absolute top-0 left-0 right-0 p-6 flex justify-between items-start transition-opacity duration-300 z-30 ${a?"opacity-100":"opacity-0 pointer-events-none"}`,children:[Et.jsx("button",{onClick:e,className:"size-12 flex items-center justify-center rounded-lg bg-reader-dark/40 backdrop-blur-md border border-white/10 hover:bg-reader-dark/60 transition-colors text-white",children:Et.jsx("span",{className:"material-symbols-outlined text-2xl",children:"home"})}),b&&Et.jsxs("button",{onClick:Z=>{Z.stopPropagation(),G(!D)},className:`flex items-center gap-2 px-4 h-12 rounded-full backdrop-blur-md border transition-all ${D?"bg-primary text-white border-primary/50":"bg-reader-dark/40 text-white/70 border-white/10 hover:bg-reader-dark/60"}`,children:[Et.jsx("span",{className:"material-symbols-outlined text-xl",children:D?"volume_up":"volume_off"}),Et.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:D?"Audio On":"Audio Off"})]}),Et.jsx("button",{onClick:nt,className:"size-12 flex items-center justify-center rounded-lg bg-reader-dark/40 backdrop-blur-md border border-white/10 hover:bg-reader-dark/60 transition-colors text-white",children:Et.jsx("span",{className:"material-symbols-outlined text-2xl",children:f?"close_fullscreen":"fullscreen"})})]}),Et.jsxs("div",{className:`fixed bottom-10 left-0 right-0 px-6 flex flex-col items-center gap-6 transition-all duration-300 z-30 ${a?"translate-y-0 opacity-100":"translate-y-20 opacity-0 pointer-events-none"}`,children:[Et.jsxs("div",{className:"w-full max-w-xl flex items-center gap-4",children:[Et.jsx("span",{className:"text-xs text-white/50 w-8 text-right",children:o+1}),Et.jsx("input",{type:"range",min:"0",max:i.pages.length-1,value:o,onChange:Z=>r(Number(Z.target.value)),className:"flex-1 h-1 bg-white/10 rounded-full appearance-none cursor-pointer accent-white transition-all hover:bg-white/20 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"}),Et.jsx("span",{className:"text-xs text-white/50 w-8",children:i.pages.length})]}),Et.jsxs("div",{className:"flex items-center gap-4 p-2 rounded-xl bg-reader-dark/60 backdrop-blur-xl border border-white/10 shadow-2xl",children:[Et.jsx("button",{onClick:at,disabled:o===0,className:"size-14 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors disabled:opacity-30 disabled:hover:bg-transparent",children:Et.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"chevron_left"})}),Et.jsx("div",{className:"relative group",children:Et.jsx("button",{onClick:()=>{const Z=Math.floor(o/Di);A(!0),ut(Z)},className:`size-16 flex items-center justify-center rounded-lg transition-all border ${b?"bg-primary text-white border-primary shadow-[0_0_20px_rgba(75,43,238,0.5)]":"bg-white/5 text-white/80 border-white/5 hover:bg-white/10"}`,title:"Analyze/Scan current batch",children:Et.jsx("span",{className:"material-symbols-outlined text-3xl",children:"psychology"})})}),!v[o]&&Et.jsx("button",{onClick:()=>vt(o),className:"size-14 flex items-center justify-center rounded-lg bg-blue-600/30 hover:bg-blue-600/50 border border-blue-500 transition-colors shadow-lg",title:"Extract text from current page and next 2 pages",children:Et.jsx("span",{className:"material-symbols-outlined text-blue-300 text-2xl",children:"text_snippet"})}),v[o]&&Et.jsx("button",{onClick:()=>vt(o),className:"size-14 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors opacity-50",title:"Extract text (current page already cached)",disabled:!0,children:Et.jsx("span",{className:"material-symbols-outlined text-white text-2xl",children:"check_circle"})}),Et.jsx("button",{onClick:w,disabled:o===i.pages.length-1,className:"size-14 flex items-center justify-center rounded-lg hover:bg-white/10 transition-colors disabled:opacity-30 disabled:hover:bg-transparent",children:Et.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"chevron_right"})})]})]})]})},Q1=({bubbles:i,activeBubbleIndex:e})=>{const[o,r]=Pt.useState(null),a=Pt.useRef(null);return Pt.useEffect(()=>{const u=()=>{var h;if(a.current){const g=(h=a.current.parentElement)==null?void 0:h.querySelector("img");g&&r({width:g.offsetWidth,height:g.offsetHeight})}};u(),window.addEventListener("resize",u);const f=setInterval(u,500);return()=>{window.removeEventListener("resize",u),clearInterval(f)}},[]),o?Et.jsx("div",{ref:a,style:{width:o.width,height:o.height,position:"absolute"},children:i.map((u,f)=>{const[h,g,p,v]=u.box_2d,_=h/1e3*100,T=g/1e3*100,S=(p-h)/1e3*100,b=(v-g)/1e3*100,A=f===e;return Et.jsxs("div",{className:`absolute transition-all duration-300 group ${A?"border-4 border-green-400 bg-green-400/20 z-50 shadow-[0_0_15px_rgba(74,222,128,0.5)]":"border-2 border-red-500 bg-red-500/10 hover:bg-red-500/20"}`,style:{top:`${_}%`,left:`${T}%`,width:`${b}%`,height:`${S}%`},title:u.text,children:[Et.jsx("div",{className:`absolute -top-3 -left-3 size-6 rounded-full text-white text-xs font-bold flex items-center justify-center shadow-md z-10 ${A?"bg-green-600 scale-110":"bg-red-600"}`,children:f+1}),Et.jsx("div",{className:`opacity-0 group-hover:opacity-100 absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-black/90 text-white text-xs p-2 rounded w-48 pointer-events-none transition-opacity z-20 ${A?"hidden":""}`,children:u.text})]},f)})}):Et.jsx("div",{ref:a})};function Xr(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var zu={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var $m;function W1(){return $m||($m=1,(function(i,e){(function(o){i.exports=o()})(function(){return(function o(r,a,u){function f(p,v){if(!a[p]){if(!r[p]){var _=typeof Xr=="function"&&Xr;if(!v&&_)return _(p,!0);if(h)return h(p,!0);var T=new Error("Cannot find module '"+p+"'");throw T.code="MODULE_NOT_FOUND",T}var S=a[p]={exports:{}};r[p][0].call(S.exports,function(b){var A=r[p][1][b];return f(A||b)},S,S.exports,o,r,a,u)}return a[p].exports}for(var h=typeof Xr=="function"&&Xr,g=0;g<u.length;g++)f(u[g]);return f})({1:[function(o,r,a){var u=o("./utils"),f=o("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(g){for(var p,v,_,T,S,b,A,R=[],M=0,I=g.length,D=I,G=u.getTypeOf(g)!=="string";M<g.length;)D=I-M,_=G?(p=g[M++],v=M<I?g[M++]:0,M<I?g[M++]:0):(p=g.charCodeAt(M++),v=M<I?g.charCodeAt(M++):0,M<I?g.charCodeAt(M++):0),T=p>>2,S=(3&p)<<4|v>>4,b=1<D?(15&v)<<2|_>>6:64,A=2<D?63&_:64,R.push(h.charAt(T)+h.charAt(S)+h.charAt(b)+h.charAt(A));return R.join("")},a.decode=function(g){var p,v,_,T,S,b,A=0,R=0,M="data:";if(g.substr(0,M.length)===M)throw new Error("Invalid base64 input, it looks like a data url.");var I,D=3*(g=g.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(g.charAt(g.length-1)===h.charAt(64)&&D--,g.charAt(g.length-2)===h.charAt(64)&&D--,D%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=f.uint8array?new Uint8Array(0|D):new Array(0|D);A<g.length;)p=h.indexOf(g.charAt(A++))<<2|(T=h.indexOf(g.charAt(A++)))>>4,v=(15&T)<<4|(S=h.indexOf(g.charAt(A++)))>>2,_=(3&S)<<6|(b=h.indexOf(g.charAt(A++))),I[R++]=p,S!==64&&(I[R++]=v),b!==64&&(I[R++]=_);return I}},{"./support":30,"./utils":32}],2:[function(o,r,a){var u=o("./external"),f=o("./stream/DataWorker"),h=o("./stream/Crc32Probe"),g=o("./stream/DataLengthProbe");function p(v,_,T,S,b){this.compressedSize=v,this.uncompressedSize=_,this.crc32=T,this.compression=S,this.compressedContent=b}p.prototype={getContentWorker:function(){var v=new f(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new g("data_length")),_=this;return v.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new f(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(v,_,T){return v.pipe(new h).pipe(new g("uncompressedSize")).pipe(_.compressWorker(T)).pipe(new g("compressedSize")).withStreamInfo("compression",_)},r.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,r,a){var u=o("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},a.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,r,a){var u=o("./utils"),f=(function(){for(var h,g=[],p=0;p<256;p++){h=p;for(var v=0;v<8;v++)h=1&h?3988292384^h>>>1:h>>>1;g[p]=h}return g})();r.exports=function(h,g){return h!==void 0&&h.length?u.getTypeOf(h)!=="string"?(function(p,v,_,T){var S=f,b=T+_;p^=-1;for(var A=T;A<b;A++)p=p>>>8^S[255&(p^v[A])];return-1^p})(0|g,h,h.length,0):(function(p,v,_,T){var S=f,b=T+_;p^=-1;for(var A=T;A<b;A++)p=p>>>8^S[255&(p^v.charCodeAt(A))];return-1^p})(0|g,h,h.length,0):0}},{"./utils":32}],5:[function(o,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(o,r,a){var u=null;u=typeof Promise<"u"?Promise:o("lie"),r.exports={Promise:u}},{lie:37}],7:[function(o,r,a){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",f=o("pako"),h=o("./utils"),g=o("./stream/GenericWorker"),p=u?"uint8array":"array";function v(_,T){g.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=T,this.meta={}}a.magic="\b\0",h.inherits(v,g),v.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(p,_.data),!1)},v.prototype.flush=function(){g.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(T){_.push({data:T,meta:_.meta})}},a.compressWorker=function(_){return new v("Deflate",_)},a.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,r,a){function u(S,b){var A,R="";for(A=0;A<b;A++)R+=String.fromCharCode(255&S),S>>>=8;return R}function f(S,b,A,R,M,I){var D,G,B=S.file,H=S.compression,P=I!==p.utf8encode,lt=h.transformTo("string",I(B.name)),V=h.transformTo("string",p.utf8encode(B.name)),ut=B.comment,vt=h.transformTo("string",I(ut)),z=h.transformTo("string",p.utf8encode(ut)),nt=V.length!==B.name.length,w=z.length!==ut.length,at="",X="",Y="",mt=B.dir,Z=B.date,ot={crc32:0,compressedSize:0,uncompressedSize:0};b&&!A||(ot.crc32=S.crc32,ot.compressedSize=S.compressedSize,ot.uncompressedSize=S.uncompressedSize);var N=0;b&&(N|=8),P||!nt&&!w||(N|=2048);var U=0,$=0;mt&&(U|=16),M==="UNIX"?($=798,U|=(function(et,_t){var Nt=et;return et||(Nt=_t?16893:33204),(65535&Nt)<<16})(B.unixPermissions,mt)):($=20,U|=(function(et){return 63&(et||0)})(B.dosPermissions)),D=Z.getUTCHours(),D<<=6,D|=Z.getUTCMinutes(),D<<=5,D|=Z.getUTCSeconds()/2,G=Z.getUTCFullYear()-1980,G<<=4,G|=Z.getUTCMonth()+1,G<<=5,G|=Z.getUTCDate(),nt&&(X=u(1,1)+u(v(lt),4)+V,at+="up"+u(X.length,2)+X),w&&(Y=u(1,1)+u(v(vt),4)+z,at+="uc"+u(Y.length,2)+Y);var K="";return K+=`
\0`,K+=u(N,2),K+=H.magic,K+=u(D,2),K+=u(G,2),K+=u(ot.crc32,4),K+=u(ot.compressedSize,4),K+=u(ot.uncompressedSize,4),K+=u(lt.length,2),K+=u(at.length,2),{fileRecord:_.LOCAL_FILE_HEADER+K+lt+at,dirRecord:_.CENTRAL_FILE_HEADER+u($,2)+K+u(vt.length,2)+"\0\0\0\0"+u(U,4)+u(R,4)+lt+at+vt}}var h=o("../utils"),g=o("../stream/GenericWorker"),p=o("../utf8"),v=o("../crc32"),_=o("../signature");function T(S,b,A,R){g.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=A,this.encodeFileName=R,this.streamFiles=S,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(T,g),T.prototype.push=function(S){var b=S.meta.percent||0,A=this.entriesCount,R=this._sources.length;this.accumulate?this.contentBuffer.push(S):(this.bytesWritten+=S.data.length,g.prototype.push.call(this,{data:S.data,meta:{currentFile:this.currentFile,percent:A?(b+100*(A-R-1))/A:100}}))},T.prototype.openedSource=function(S){this.currentSourceOffset=this.bytesWritten,this.currentFile=S.file.name;var b=this.streamFiles&&!S.file.dir;if(b){var A=f(S,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},T.prototype.closedSource=function(S){this.accumulate=!1;var b=this.streamFiles&&!S.file.dir,A=f(S,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),b)this.push({data:(function(R){return _.DATA_DESCRIPTOR+u(R.crc32,4)+u(R.compressedSize,4)+u(R.uncompressedSize,4)})(S),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},T.prototype.flush=function(){for(var S=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var A=this.bytesWritten-S,R=(function(M,I,D,G,B){var H=h.transformTo("string",B(G));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(M,2)+u(M,2)+u(I,4)+u(D,4)+u(H.length,2)+H})(this.dirRecords.length,A,S,this.zipComment,this.encodeFileName);this.push({data:R,meta:{percent:100}})},T.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},T.prototype.registerPrevious=function(S){this._sources.push(S);var b=this;return S.on("data",function(A){b.processChunk(A)}),S.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),S.on("error",function(A){b.error(A)}),this},T.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},T.prototype.error=function(S){var b=this._sources;if(!g.prototype.error.call(this,S))return!1;for(var A=0;A<b.length;A++)try{b[A].error(S)}catch{}return!0},T.prototype.lock=function(){g.prototype.lock.call(this);for(var S=this._sources,b=0;b<S.length;b++)S[b].lock()},r.exports=T},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,r,a){var u=o("../compressions"),f=o("./ZipFileWorker");a.generateWorker=function(h,g,p){var v=new f(g.streamFiles,p,g.platform,g.encodeFileName),_=0;try{h.forEach(function(T,S){_++;var b=(function(I,D){var G=I||D,B=u[G];if(!B)throw new Error(G+" is not a valid compression method !");return B})(S.options.compression,g.compression),A=S.options.compressionOptions||g.compressionOptions||{},R=S.dir,M=S.date;S._compressWorker(b,A).withStreamInfo("file",{name:T,dir:R,date:M,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(v)}),v.entriesCount=_}catch(T){v.error(T)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,r,a){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new u;for(var h in this)typeof this[h]!="function"&&(f[h]=this[h]);return f}}(u.prototype=o("./object")).loadAsync=o("./load"),u.support=o("./support"),u.defaults=o("./defaults"),u.version="3.10.1",u.loadAsync=function(f,h){return new u().loadAsync(f,h)},u.external=o("./external"),r.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,r,a){var u=o("./utils"),f=o("./external"),h=o("./utf8"),g=o("./zipEntries"),p=o("./stream/Crc32Probe"),v=o("./nodejsUtils");function _(T){return new f.Promise(function(S,b){var A=T.decompressed.getContentWorker().pipe(new p);A.on("error",function(R){b(R)}).on("end",function(){A.streamInfo.crc32!==T.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):S()}).resume()})}r.exports=function(T,S){var b=this;return S=u.extend(S||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),v.isNode&&v.isStream(T)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u.prepareContent("the loaded zip file",T,!0,S.optimizedBinaryString,S.base64).then(function(A){var R=new g(S);return R.load(A),R}).then(function(A){var R=[f.Promise.resolve(A)],M=A.files;if(S.checkCRC32)for(var I=0;I<M.length;I++)R.push(_(M[I]));return f.Promise.all(R)}).then(function(A){for(var R=A.shift(),M=R.files,I=0;I<M.length;I++){var D=M[I],G=D.fileNameStr,B=u.resolve(D.fileNameStr);b.file(B,D.decompressed,{binary:!0,optimizedBinaryString:!0,date:D.date,dir:D.dir,comment:D.fileCommentStr.length?D.fileCommentStr:null,unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions,createFolders:S.createFolders}),D.dir||(b.file(B).unsafeOriginalName=G)}return R.zipComment.length&&(b.comment=R.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,r,a){var u=o("../utils"),f=o("../stream/GenericWorker");function h(g,p){f.call(this,"Nodejs stream input adapter for "+g),this._upstreamEnded=!1,this._bindStream(p)}u.inherits(h,f),h.prototype._bindStream=function(g){var p=this;(this._stream=g).pause(),g.on("data",function(v){p.push({data:v,meta:{percent:0}})}).on("error",function(v){p.isPaused?this.generatedError=v:p.error(v)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},h.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,r,a){var u=o("readable-stream").Readable;function f(h,g,p){u.call(this,g),this._helper=h;var v=this;h.on("data",function(_,T){v.push(_)||v._helper.pause(),p&&p(T)}).on("error",function(_){v.emit("error",_)}).on("end",function(){v.push(null)})}o("../utils").inherits(f,u),f.prototype._read=function(){this._helper.resume()},r.exports=f},{"../utils":32,"readable-stream":16}],14:[function(o,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(u,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(u,f);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new Buffer(u,f)},allocBuffer:function(u){if(Buffer.alloc)return Buffer.alloc(u);var f=new Buffer(u);return f.fill(0),f},isBuffer:function(u){return Buffer.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(o,r,a){function u(B,H,P){var lt,V=h.getTypeOf(H),ut=h.extend(P||{},v);ut.date=ut.date||new Date,ut.compression!==null&&(ut.compression=ut.compression.toUpperCase()),typeof ut.unixPermissions=="string"&&(ut.unixPermissions=parseInt(ut.unixPermissions,8)),ut.unixPermissions&&16384&ut.unixPermissions&&(ut.dir=!0),ut.dosPermissions&&16&ut.dosPermissions&&(ut.dir=!0),ut.dir&&(B=M(B)),ut.createFolders&&(lt=R(B))&&I.call(this,lt,!0);var vt=V==="string"&&ut.binary===!1&&ut.base64===!1;P&&P.binary!==void 0||(ut.binary=!vt),(H instanceof _&&H.uncompressedSize===0||ut.dir||!H||H.length===0)&&(ut.base64=!1,ut.binary=!0,H="",ut.compression="STORE",V="string");var z=null;z=H instanceof _||H instanceof g?H:b.isNode&&b.isStream(H)?new A(B,H):h.prepareContent(B,H,ut.binary,ut.optimizedBinaryString,ut.base64);var nt=new T(B,z,ut);this.files[B]=nt}var f=o("./utf8"),h=o("./utils"),g=o("./stream/GenericWorker"),p=o("./stream/StreamHelper"),v=o("./defaults"),_=o("./compressedObject"),T=o("./zipObject"),S=o("./generate"),b=o("./nodejsUtils"),A=o("./nodejs/NodejsStreamInputAdapter"),R=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var H=B.lastIndexOf("/");return 0<H?B.substring(0,H):""},M=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},I=function(B,H){return H=H!==void 0?H:v.createFolders,B=M(B),this.files[B]||u.call(this,B,null,{dir:!0,createFolders:H}),this.files[B]};function D(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var G={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var H,P,lt;for(H in this.files)lt=this.files[H],(P=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&B(P,lt)},filter:function(B){var H=[];return this.forEach(function(P,lt){B(P,lt)&&H.push(lt)}),H},file:function(B,H,P){if(arguments.length!==1)return B=this.root+B,u.call(this,B,H,P),this;if(D(B)){var lt=B;return this.filter(function(ut,vt){return!vt.dir&&lt.test(ut)})}var V=this.files[this.root+B];return V&&!V.dir?V:null},folder:function(B){if(!B)return this;if(D(B))return this.filter(function(V,ut){return ut.dir&&B.test(V)});var H=this.root+B,P=I.call(this,H),lt=this.clone();return lt.root=P.name,lt},remove:function(B){B=this.root+B;var H=this.files[B];if(H||(B.slice(-1)!=="/"&&(B+="/"),H=this.files[B]),H&&!H.dir)delete this.files[B];else for(var P=this.filter(function(V,ut){return ut.name.slice(0,B.length)===B}),lt=0;lt<P.length;lt++)delete this.files[P[lt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var H,P={};try{if((P=h.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=P.type.toLowerCase(),P.compression=P.compression.toUpperCase(),P.type==="binarystring"&&(P.type="string"),!P.type)throw new Error("No output type specified.");h.checkSupport(P.type),P.platform!=="darwin"&&P.platform!=="freebsd"&&P.platform!=="linux"&&P.platform!=="sunos"||(P.platform="UNIX"),P.platform==="win32"&&(P.platform="DOS");var lt=P.comment||this.comment||"";H=S.generateWorker(this,P,lt)}catch(V){(H=new g("error")).error(V)}return new p(H,P.type||"string",P.mimeType)},generateAsync:function(B,H){return this.generateInternalStream(B).accumulate(H)},generateNodeStream:function(B,H){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(H)}};r.exports=G},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,r,a){r.exports=o("stream")},{stream:void 0}],17:[function(o,r,a){var u=o("./DataReader");function f(h){u.call(this,h);for(var g=0;g<this.data.length;g++)h[g]=255&h[g]}o("../utils").inherits(f,u),f.prototype.byteAt=function(h){return this.data[this.zero+h]},f.prototype.lastIndexOfSignature=function(h){for(var g=h.charCodeAt(0),p=h.charCodeAt(1),v=h.charCodeAt(2),_=h.charCodeAt(3),T=this.length-4;0<=T;--T)if(this.data[T]===g&&this.data[T+1]===p&&this.data[T+2]===v&&this.data[T+3]===_)return T-this.zero;return-1},f.prototype.readAndCheckSignature=function(h){var g=h.charCodeAt(0),p=h.charCodeAt(1),v=h.charCodeAt(2),_=h.charCodeAt(3),T=this.readData(4);return g===T[0]&&p===T[1]&&v===T[2]&&_===T[3]},f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},r.exports=f},{"../utils":32,"./DataReader":18}],18:[function(o,r,a){var u=o("../utils");function f(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var g,p=0;for(this.checkOffset(h),g=this.index+h-1;g>=this.index;g--)p=(p<<8)+this.byteAt(g);return this.index+=h,p},readString:function(h){return u.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},r.exports=f},{"../utils":32}],19:[function(o,r,a){var u=o("./Uint8ArrayReader");function f(h){u.call(this,h)}o("../utils").inherits(f,u),f.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},r.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,r,a){var u=o("./DataReader");function f(h){u.call(this,h)}o("../utils").inherits(f,u),f.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},f.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},f.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},f.prototype.readData=function(h){this.checkOffset(h);var g=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},r.exports=f},{"../utils":32,"./DataReader":18}],21:[function(o,r,a){var u=o("./ArrayReader");function f(h){u.call(this,h)}o("../utils").inherits(f,u),f.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,g},r.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(o,r,a){var u=o("../utils"),f=o("../support"),h=o("./ArrayReader"),g=o("./StringReader"),p=o("./NodeBufferReader"),v=o("./Uint8ArrayReader");r.exports=function(_){var T=u.getTypeOf(_);return u.checkSupport(T),T!=="string"||f.uint8array?T==="nodebuffer"?new p(_):f.uint8array?new v(u.transformTo("uint8array",_)):new h(u.transformTo("array",_)):new g(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,r,a){var u=o("./GenericWorker"),f=o("../utils");function h(g){u.call(this,"ConvertWorker to "+g),this.destType=g}f.inherits(h,u),h.prototype.processChunk=function(g){this.push({data:f.transformTo(this.destType,g.data),meta:g.meta})},r.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(o,r,a){var u=o("./GenericWorker"),f=o("../crc32");function h(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(h,u),h.prototype.processChunk=function(g){this.streamInfo.crc32=f(g.data,this.streamInfo.crc32||0),this.push(g)},r.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,r,a){var u=o("../utils"),f=o("./GenericWorker");function h(g){f.call(this,"DataLengthProbe for "+g),this.propName=g,this.withStreamInfo(g,0)}u.inherits(h,f),h.prototype.processChunk=function(g){if(g){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+g.data.length}f.prototype.processChunk.call(this,g)},r.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(o,r,a){var u=o("../utils"),f=o("./GenericWorker");function h(g){f.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,g.then(function(v){p.dataIsReady=!0,p.data=v,p.max=v&&v.length||0,p.type=u.getTypeOf(v),p.isPaused||p._tickAndRepeat()},function(v){p.error(v)})}u.inherits(h,f),h.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var g=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":g=this.data.substring(this.index,p);break;case"uint8array":g=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":g=this.data.slice(this.index,p)}return this.index=p,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(o,r,a){function u(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,h){return this._listeners[f].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,h){if(this._listeners[f])for(var g=0;g<this._listeners[f].length;g++)this._listeners[f][g].call(this,h)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var h=this;return f.on("data",function(g){h.processChunk(g)}),f.on("end",function(){h.end()}),f.on("error",function(g){h.error(g)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,h){return this.extraStreamInfo[f]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},r.exports=u},{}],29:[function(o,r,a){var u=o("../utils"),f=o("./ConvertWorker"),h=o("./GenericWorker"),g=o("../base64"),p=o("../support"),v=o("../external"),_=null;if(p.nodestream)try{_=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function T(b,A){return new v.Promise(function(R,M){var I=[],D=b._internalType,G=b._outputType,B=b._mimeType;b.on("data",function(H,P){I.push(H),A&&A(P)}).on("error",function(H){I=[],M(H)}).on("end",function(){try{var H=(function(P,lt,V){switch(P){case"blob":return u.newBlob(u.transformTo("arraybuffer",lt),V);case"base64":return g.encode(lt);default:return u.transformTo(P,lt)}})(G,(function(P,lt){var V,ut=0,vt=null,z=0;for(V=0;V<lt.length;V++)z+=lt[V].length;switch(P){case"string":return lt.join("");case"array":return Array.prototype.concat.apply([],lt);case"uint8array":for(vt=new Uint8Array(z),V=0;V<lt.length;V++)vt.set(lt[V],ut),ut+=lt[V].length;return vt;case"nodebuffer":return Buffer.concat(lt);default:throw new Error("concat : unsupported type '"+P+"'")}})(D,I),B);R(H)}catch(P){M(P)}I=[]}).resume()})}function S(b,A,R){var M=A;switch(A){case"blob":case"arraybuffer":M="uint8array";break;case"base64":M="string"}try{this._internalType=M,this._outputType=A,this._mimeType=R,u.checkSupport(M),this._worker=b.pipe(new f(M)),b.lock()}catch(I){this._worker=new h("error"),this._worker.error(I)}}S.prototype={accumulate:function(b){return T(this,b)},on:function(b,A){var R=this;return b==="data"?this._worker.on(b,function(M){A.call(R,M.data,M.meta)}):this._worker.on(b,function(){u.delay(A,arguments,R)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(u.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=S},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var u=new ArrayBuffer(0);try{a.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(u),a.blob=f.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!o("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(o,r,a){for(var u=o("./utils"),f=o("./support"),h=o("./nodejsUtils"),g=o("./stream/GenericWorker"),p=new Array(256),v=0;v<256;v++)p[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;p[254]=p[254]=1;function _(){g.call(this,"utf-8 decode"),this.leftOver=null}function T(){g.call(this,"utf-8 encode")}a.utf8encode=function(S){return f.nodebuffer?h.newBufferFrom(S,"utf-8"):(function(b){var A,R,M,I,D,G=b.length,B=0;for(I=0;I<G;I++)(64512&(R=b.charCodeAt(I)))==55296&&I+1<G&&(64512&(M=b.charCodeAt(I+1)))==56320&&(R=65536+(R-55296<<10)+(M-56320),I++),B+=R<128?1:R<2048?2:R<65536?3:4;for(A=f.uint8array?new Uint8Array(B):new Array(B),I=D=0;D<B;I++)(64512&(R=b.charCodeAt(I)))==55296&&I+1<G&&(64512&(M=b.charCodeAt(I+1)))==56320&&(R=65536+(R-55296<<10)+(M-56320),I++),R<128?A[D++]=R:(R<2048?A[D++]=192|R>>>6:(R<65536?A[D++]=224|R>>>12:(A[D++]=240|R>>>18,A[D++]=128|R>>>12&63),A[D++]=128|R>>>6&63),A[D++]=128|63&R);return A})(S)},a.utf8decode=function(S){return f.nodebuffer?u.transformTo("nodebuffer",S).toString("utf-8"):(function(b){var A,R,M,I,D=b.length,G=new Array(2*D);for(A=R=0;A<D;)if((M=b[A++])<128)G[R++]=M;else if(4<(I=p[M]))G[R++]=65533,A+=I-1;else{for(M&=I===2?31:I===3?15:7;1<I&&A<D;)M=M<<6|63&b[A++],I--;1<I?G[R++]=65533:M<65536?G[R++]=M:(M-=65536,G[R++]=55296|M>>10&1023,G[R++]=56320|1023&M)}return G.length!==R&&(G.subarray?G=G.subarray(0,R):G.length=R),u.applyFromCharCode(G)})(S=u.transformTo(f.uint8array?"uint8array":"array",S))},u.inherits(_,g),_.prototype.processChunk=function(S){var b=u.transformTo(f.uint8array?"uint8array":"array",S.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var A=b;(b=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),b.set(A,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var R=(function(I,D){var G;for((D=D||I.length)>I.length&&(D=I.length),G=D-1;0<=G&&(192&I[G])==128;)G--;return G<0||G===0?D:G+p[I[G]]>D?G:D})(b),M=b;R!==b.length&&(f.uint8array?(M=b.subarray(0,R),this.leftOver=b.subarray(R,b.length)):(M=b.slice(0,R),this.leftOver=b.slice(R,b.length))),this.push({data:a.utf8decode(M),meta:S.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=_,u.inherits(T,g),T.prototype.processChunk=function(S){this.push({data:a.utf8encode(S.data),meta:S.meta})},a.Utf8EncodeWorker=T},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,r,a){var u=o("./support"),f=o("./base64"),h=o("./nodejsUtils"),g=o("./external");function p(A){return A}function v(A,R){for(var M=0;M<A.length;++M)R[M]=255&A.charCodeAt(M);return R}o("setimmediate"),a.newBlob=function(A,R){a.checkSupport("blob");try{return new Blob([A],{type:R})}catch{try{var M=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return M.append(A),M.getBlob(R)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(A,R,M){var I=[],D=0,G=A.length;if(G<=M)return String.fromCharCode.apply(null,A);for(;D<G;)R==="array"||R==="nodebuffer"?I.push(String.fromCharCode.apply(null,A.slice(D,Math.min(D+M,G)))):I.push(String.fromCharCode.apply(null,A.subarray(D,Math.min(D+M,G)))),D+=M;return I.join("")},stringifyByChar:function(A){for(var R="",M=0;M<A.length;M++)R+=String.fromCharCode(A[M]);return R},applyCanBeUsed:{uint8array:(function(){try{return u.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return u.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}})()}};function T(A){var R=65536,M=a.getTypeOf(A),I=!0;if(M==="uint8array"?I=_.applyCanBeUsed.uint8array:M==="nodebuffer"&&(I=_.applyCanBeUsed.nodebuffer),I)for(;1<R;)try{return _.stringifyByChunk(A,M,R)}catch{R=Math.floor(R/2)}return _.stringifyByChar(A)}function S(A,R){for(var M=0;M<A.length;M++)R[M]=A[M];return R}a.applyFromCharCode=T;var b={};b.string={string:p,array:function(A){return v(A,new Array(A.length))},arraybuffer:function(A){return b.string.uint8array(A).buffer},uint8array:function(A){return v(A,new Uint8Array(A.length))},nodebuffer:function(A){return v(A,h.allocBuffer(A.length))}},b.array={string:T,array:p,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return h.newBufferFrom(A)}},b.arraybuffer={string:function(A){return T(new Uint8Array(A))},array:function(A){return S(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:p,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return h.newBufferFrom(new Uint8Array(A))}},b.uint8array={string:T,array:function(A){return S(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:p,nodebuffer:function(A){return h.newBufferFrom(A)}},b.nodebuffer={string:T,array:function(A){return S(A,new Array(A.length))},arraybuffer:function(A){return b.nodebuffer.uint8array(A).buffer},uint8array:function(A){return S(A,new Uint8Array(A.length))},nodebuffer:p},a.transformTo=function(A,R){if(R=R||"",!A)return R;a.checkSupport(A);var M=a.getTypeOf(R);return b[M][A](R)},a.resolve=function(A){for(var R=A.split("/"),M=[],I=0;I<R.length;I++){var D=R[I];D==="."||D===""&&I!==0&&I!==R.length-1||(D===".."?M.pop():M.push(D))}return M.join("/")},a.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":u.nodebuffer&&h.isBuffer(A)?"nodebuffer":u.uint8array&&A instanceof Uint8Array?"uint8array":u.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(A){if(!u[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(A){var R,M,I="";for(M=0;M<(A||"").length;M++)I+="\\x"+((R=A.charCodeAt(M))<16?"0":"")+R.toString(16).toUpperCase();return I},a.delay=function(A,R,M){setImmediate(function(){A.apply(M||null,R||[])})},a.inherits=function(A,R){function M(){}M.prototype=R.prototype,A.prototype=new M},a.extend=function(){var A,R,M={};for(A=0;A<arguments.length;A++)for(R in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],R)&&M[R]===void 0&&(M[R]=arguments[A][R]);return M},a.prepareContent=function(A,R,M,I,D){return g.Promise.resolve(R).then(function(G){return u.blob&&(G instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(G))!==-1)&&typeof FileReader<"u"?new g.Promise(function(B,H){var P=new FileReader;P.onload=function(lt){B(lt.target.result)},P.onerror=function(lt){H(lt.target.error)},P.readAsArrayBuffer(G)}):G}).then(function(G){var B=a.getTypeOf(G);return B?(B==="arraybuffer"?G=a.transformTo("uint8array",G):B==="string"&&(D?G=f.decode(G):M&&I!==!0&&(G=(function(H){return v(H,u.uint8array?new Uint8Array(H.length):new Array(H.length))})(G))),G):g.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,r,a){var u=o("./reader/readerFor"),f=o("./utils"),h=o("./signature"),g=o("./zipEntry"),p=o("./support");function v(_){this.files=[],this.loadOptions=_}v.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var T=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(T)+", expected "+f.pretty(_)+")")}},isSignature:function(_,T){var S=this.reader.index;this.reader.setIndex(_);var b=this.reader.readString(4)===T;return this.reader.setIndex(S),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),T=p.uint8array?"uint8array":"array",S=f.transformTo(T,_);this.zipComment=this.loadOptions.decodeFileName(S)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,T,S,b=this.zip64EndOfCentralSize-44;0<b;)_=this.reader.readInt(2),T=this.reader.readInt(4),S=this.reader.readData(T),this.zip64ExtensibleData[_]={id:_,length:T,value:S}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,T;for(_=0;_<this.files.length;_++)T=this.files[_],this.reader.setIndex(T.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),T.readLocalPart(this.reader),T.handleUTF8(),T.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(_=new g({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var T=_;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var b=T-S;if(0<b)this.isSignature(T,h.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(_){this.reader=u(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,r,a){var u=o("./reader/readerFor"),f=o("./utils"),h=o("./compressedObject"),g=o("./crc32"),p=o("./utf8"),v=o("./compressions"),_=o("./support");function T(S,b){this.options=S,this.loadOptions=b}T.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(S){var b,A;if(S.skip(22),this.fileNameLength=S.readInt(2),A=S.readInt(2),this.fileName=S.readData(this.fileNameLength),S.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(R){for(var M in v)if(Object.prototype.hasOwnProperty.call(v,M)&&v[M].magic===R)return v[M];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,b,S.readData(this.compressedSize))},readCentralPart:function(S){this.versionMadeBy=S.readInt(2),S.skip(2),this.bitFlag=S.readInt(2),this.compressionMethod=S.readString(2),this.date=S.readDate(),this.crc32=S.readInt(4),this.compressedSize=S.readInt(4),this.uncompressedSize=S.readInt(4);var b=S.readInt(2);if(this.extraFieldsLength=S.readInt(2),this.fileCommentLength=S.readInt(2),this.diskNumberStart=S.readInt(2),this.internalFileAttributes=S.readInt(2),this.externalFileAttributes=S.readInt(4),this.localHeaderOffset=S.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");S.skip(b),this.readExtraFields(S),this.parseZIP64ExtraField(S),this.fileComment=S.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var S=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),S==0&&(this.dosPermissions=63&this.externalFileAttributes),S==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var S=u(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=S.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=S.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=S.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=S.readInt(4))}},readExtraFields:function(S){var b,A,R,M=S.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});S.index+4<M;)b=S.readInt(2),A=S.readInt(2),R=S.readData(A),this.extraFields[b]={id:b,length:A,value:R};S.setIndex(M)},handleUTF8:function(){var S=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var A=f.transformTo(S,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var R=this.findExtraFieldUnicodeComment();if(R!==null)this.fileCommentStr=R;else{var M=f.transformTo(S,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(M)}}},findExtraFieldUnicodePath:function(){var S=this.extraFields[28789];if(S){var b=u(S.value);return b.readInt(1)!==1||g(this.fileName)!==b.readInt(4)?null:p.utf8decode(b.readData(S.length-5))}return null},findExtraFieldUnicodeComment:function(){var S=this.extraFields[25461];if(S){var b=u(S.value);return b.readInt(1)!==1||g(this.fileComment)!==b.readInt(4)?null:p.utf8decode(b.readData(S.length-5))}return null}},r.exports=T},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,r,a){function u(b,A,R){this.name=b,this.dir=R.dir,this.date=R.date,this.comment=R.comment,this.unixPermissions=R.unixPermissions,this.dosPermissions=R.dosPermissions,this._data=A,this._dataBinary=R.binary,this.options={compression:R.compression,compressionOptions:R.compressionOptions}}var f=o("./stream/StreamHelper"),h=o("./stream/DataWorker"),g=o("./utf8"),p=o("./compressedObject"),v=o("./stream/GenericWorker");u.prototype={internalStream:function(b){var A=null,R="string";try{if(!b)throw new Error("No output type specified.");var M=(R=b.toLowerCase())==="string"||R==="text";R!=="binarystring"&&R!=="text"||(R="string"),A=this._decompressWorker();var I=!this._dataBinary;I&&!M&&(A=A.pipe(new g.Utf8EncodeWorker)),!I&&M&&(A=A.pipe(new g.Utf8DecodeWorker))}catch(D){(A=new v("error")).error(D)}return new f(A,R,"")},async:function(b,A){return this.internalStream(b).accumulate(A)},nodeStream:function(b,A){return this.internalStream(b||"nodebuffer").toNodejsStream(A)},_compressWorker:function(b,A){if(this._data instanceof p&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var R=this._decompressWorker();return this._dataBinary||(R=R.pipe(new g.Utf8EncodeWorker)),p.createWorkerFrom(R,b,A)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof v?this._data:new h(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],T=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},S=0;S<_.length;S++)u.prototype[_[S]]=T;r.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,r,a){(function(u){var f,h,g=u.MutationObserver||u.WebKitMutationObserver;if(g){var p=0,v=new g(b),_=u.document.createTextNode("");v.observe(_,{characterData:!0}),f=function(){_.data=p=++p%2}}else if(u.setImmediate||u.MessageChannel===void 0)f="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var A=u.document.createElement("script");A.onreadystatechange=function(){b(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},u.document.documentElement.appendChild(A)}:function(){setTimeout(b,0)};else{var T=new u.MessageChannel;T.port1.onmessage=b,f=function(){T.port2.postMessage(0)}}var S=[];function b(){var A,R;h=!0;for(var M=S.length;M;){for(R=S,S=[],A=-1;++A<M;)R[A]();M=S.length}h=!1}r.exports=function(A){S.push(A)!==1||h||f()}}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,r,a){var u=o("immediate");function f(){}var h={},g=["REJECTED"],p=["FULFILLED"],v=["PENDING"];function _(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,M!==f&&A(this,M)}function T(M,I,D){this.promise=M,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof D=="function"&&(this.onRejected=D,this.callRejected=this.otherCallRejected)}function S(M,I,D){u(function(){var G;try{G=I(D)}catch(B){return h.reject(M,B)}G===M?h.reject(M,new TypeError("Cannot resolve promise with itself")):h.resolve(M,G)})}function b(M){var I=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof I=="function")return function(){I.apply(M,arguments)}}function A(M,I){var D=!1;function G(P){D||(D=!0,h.reject(M,P))}function B(P){D||(D=!0,h.resolve(M,P))}var H=R(function(){I(B,G)});H.status==="error"&&G(H.value)}function R(M,I){var D={};try{D.value=M(I),D.status="success"}catch(G){D.status="error",D.value=G}return D}(r.exports=_).prototype.finally=function(M){if(typeof M!="function")return this;var I=this.constructor;return this.then(function(D){return I.resolve(M()).then(function(){return D})},function(D){return I.resolve(M()).then(function(){throw D})})},_.prototype.catch=function(M){return this.then(null,M)},_.prototype.then=function(M,I){if(typeof M!="function"&&this.state===p||typeof I!="function"&&this.state===g)return this;var D=new this.constructor(f);return this.state!==v?S(D,this.state===p?M:I,this.outcome):this.queue.push(new T(D,M,I)),D},T.prototype.callFulfilled=function(M){h.resolve(this.promise,M)},T.prototype.otherCallFulfilled=function(M){S(this.promise,this.onFulfilled,M)},T.prototype.callRejected=function(M){h.reject(this.promise,M)},T.prototype.otherCallRejected=function(M){S(this.promise,this.onRejected,M)},h.resolve=function(M,I){var D=R(b,I);if(D.status==="error")return h.reject(M,D.value);var G=D.value;if(G)A(M,G);else{M.state=p,M.outcome=I;for(var B=-1,H=M.queue.length;++B<H;)M.queue[B].callFulfilled(I)}return M},h.reject=function(M,I){M.state=g,M.outcome=I;for(var D=-1,G=M.queue.length;++D<G;)M.queue[D].callRejected(I);return M},_.resolve=function(M){return M instanceof this?M:h.resolve(new this(f),M)},_.reject=function(M){var I=new this(f);return h.reject(I,M)},_.all=function(M){var I=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=M.length,G=!1;if(!D)return this.resolve([]);for(var B=new Array(D),H=0,P=-1,lt=new this(f);++P<D;)V(M[P],P);return lt;function V(ut,vt){I.resolve(ut).then(function(z){B[vt]=z,++H!==D||G||(G=!0,h.resolve(lt,B))},function(z){G||(G=!0,h.reject(lt,z))})}},_.race=function(M){var I=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var D=M.length,G=!1;if(!D)return this.resolve([]);for(var B=-1,H=new this(f);++B<D;)P=M[B],I.resolve(P).then(function(lt){G||(G=!0,h.resolve(H,lt))},function(lt){G||(G=!0,h.reject(H,lt))});var P;return H}},{immediate:36}],38:[function(o,r,a){var u={};(0,o("./lib/utils/common").assign)(u,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),r.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,r,a){var u=o("./zlib/deflate"),f=o("./utils/common"),h=o("./utils/strings"),g=o("./zlib/messages"),p=o("./zlib/zstream"),v=Object.prototype.toString,_=0,T=-1,S=0,b=8;function A(M){if(!(this instanceof A))return new A(M);this.options=f.assign({level:T,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:S,to:""},M||{});var I=this.options;I.raw&&0<I.windowBits?I.windowBits=-I.windowBits:I.gzip&&0<I.windowBits&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var D=u.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(D!==_)throw new Error(g[D]);if(I.header&&u.deflateSetHeader(this.strm,I.header),I.dictionary){var G;if(G=typeof I.dictionary=="string"?h.string2buf(I.dictionary):v.call(I.dictionary)==="[object ArrayBuffer]"?new Uint8Array(I.dictionary):I.dictionary,(D=u.deflateSetDictionary(this.strm,G))!==_)throw new Error(g[D]);this._dict_set=!0}}function R(M,I){var D=new A(I);if(D.push(M,!0),D.err)throw D.msg||g[D.err];return D.result}A.prototype.push=function(M,I){var D,G,B=this.strm,H=this.options.chunkSize;if(this.ended)return!1;G=I===~~I?I:I===!0?4:0,typeof M=="string"?B.input=h.string2buf(M):v.call(M)==="[object ArrayBuffer]"?B.input=new Uint8Array(M):B.input=M,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new f.Buf8(H),B.next_out=0,B.avail_out=H),(D=u.deflate(B,G))!==1&&D!==_)return this.onEnd(D),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||G!==4&&G!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(f.shrinkBuf(B.output,B.next_out))):this.onData(f.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&D!==1);return G===4?(D=u.deflateEnd(this.strm),this.onEnd(D),this.ended=!0,D===_):G!==2||(this.onEnd(_),!(B.avail_out=0))},A.prototype.onData=function(M){this.chunks.push(M)},A.prototype.onEnd=function(M){M===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},a.Deflate=A,a.deflate=R,a.deflateRaw=function(M,I){return(I=I||{}).raw=!0,R(M,I)},a.gzip=function(M,I){return(I=I||{}).gzip=!0,R(M,I)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,r,a){var u=o("./zlib/inflate"),f=o("./utils/common"),h=o("./utils/strings"),g=o("./zlib/constants"),p=o("./zlib/messages"),v=o("./zlib/zstream"),_=o("./zlib/gzheader"),T=Object.prototype.toString;function S(A){if(!(this instanceof S))return new S(A);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},A||{});var R=this.options;R.raw&&0<=R.windowBits&&R.windowBits<16&&(R.windowBits=-R.windowBits,R.windowBits===0&&(R.windowBits=-15)),!(0<=R.windowBits&&R.windowBits<16)||A&&A.windowBits||(R.windowBits+=32),15<R.windowBits&&R.windowBits<48&&(15&R.windowBits)==0&&(R.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var M=u.inflateInit2(this.strm,R.windowBits);if(M!==g.Z_OK)throw new Error(p[M]);this.header=new _,u.inflateGetHeader(this.strm,this.header)}function b(A,R){var M=new S(R);if(M.push(A,!0),M.err)throw M.msg||p[M.err];return M.result}S.prototype.push=function(A,R){var M,I,D,G,B,H,P=this.strm,lt=this.options.chunkSize,V=this.options.dictionary,ut=!1;if(this.ended)return!1;I=R===~~R?R:R===!0?g.Z_FINISH:g.Z_NO_FLUSH,typeof A=="string"?P.input=h.binstring2buf(A):T.call(A)==="[object ArrayBuffer]"?P.input=new Uint8Array(A):P.input=A,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new f.Buf8(lt),P.next_out=0,P.avail_out=lt),(M=u.inflate(P,g.Z_NO_FLUSH))===g.Z_NEED_DICT&&V&&(H=typeof V=="string"?h.string2buf(V):T.call(V)==="[object ArrayBuffer]"?new Uint8Array(V):V,M=u.inflateSetDictionary(this.strm,H)),M===g.Z_BUF_ERROR&&ut===!0&&(M=g.Z_OK,ut=!1),M!==g.Z_STREAM_END&&M!==g.Z_OK)return this.onEnd(M),!(this.ended=!0);P.next_out&&(P.avail_out!==0&&M!==g.Z_STREAM_END&&(P.avail_in!==0||I!==g.Z_FINISH&&I!==g.Z_SYNC_FLUSH)||(this.options.to==="string"?(D=h.utf8border(P.output,P.next_out),G=P.next_out-D,B=h.buf2string(P.output,D),P.next_out=G,P.avail_out=lt-G,G&&f.arraySet(P.output,P.output,D,G,0),this.onData(B)):this.onData(f.shrinkBuf(P.output,P.next_out)))),P.avail_in===0&&P.avail_out===0&&(ut=!0)}while((0<P.avail_in||P.avail_out===0)&&M!==g.Z_STREAM_END);return M===g.Z_STREAM_END&&(I=g.Z_FINISH),I===g.Z_FINISH?(M=u.inflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===g.Z_OK):I!==g.Z_SYNC_FLUSH||(this.onEnd(g.Z_OK),!(P.avail_out=0))},S.prototype.onData=function(A){this.chunks.push(A)},S.prototype.onEnd=function(A){A===g.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},a.Inflate=S,a.inflate=b,a.inflateRaw=function(A,R){return(R=R||{}).raw=!0,b(A,R)},a.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,r,a){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(g){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var v=p.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var _ in v)v.hasOwnProperty(_)&&(g[_]=v[_])}}return g},a.shrinkBuf=function(g,p){return g.length===p?g:g.subarray?g.subarray(0,p):(g.length=p,g)};var f={arraySet:function(g,p,v,_,T){if(p.subarray&&g.subarray)g.set(p.subarray(v,v+_),T);else for(var S=0;S<_;S++)g[T+S]=p[v+S]},flattenChunks:function(g){var p,v,_,T,S,b;for(p=_=0,v=g.length;p<v;p++)_+=g[p].length;for(b=new Uint8Array(_),p=T=0,v=g.length;p<v;p++)S=g[p],b.set(S,T),T+=S.length;return b}},h={arraySet:function(g,p,v,_,T){for(var S=0;S<_;S++)g[T+S]=p[v+S]},flattenChunks:function(g){return[].concat.apply([],g)}};a.setTyped=function(g){g?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,f)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,h))},a.setTyped(u)},{}],42:[function(o,r,a){var u=o("./common"),f=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var g=new u.Buf8(256),p=0;p<256;p++)g[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function v(_,T){if(T<65537&&(_.subarray&&h||!_.subarray&&f))return String.fromCharCode.apply(null,u.shrinkBuf(_,T));for(var S="",b=0;b<T;b++)S+=String.fromCharCode(_[b]);return S}g[254]=g[254]=1,a.string2buf=function(_){var T,S,b,A,R,M=_.length,I=0;for(A=0;A<M;A++)(64512&(S=_.charCodeAt(A)))==55296&&A+1<M&&(64512&(b=_.charCodeAt(A+1)))==56320&&(S=65536+(S-55296<<10)+(b-56320),A++),I+=S<128?1:S<2048?2:S<65536?3:4;for(T=new u.Buf8(I),A=R=0;R<I;A++)(64512&(S=_.charCodeAt(A)))==55296&&A+1<M&&(64512&(b=_.charCodeAt(A+1)))==56320&&(S=65536+(S-55296<<10)+(b-56320),A++),S<128?T[R++]=S:(S<2048?T[R++]=192|S>>>6:(S<65536?T[R++]=224|S>>>12:(T[R++]=240|S>>>18,T[R++]=128|S>>>12&63),T[R++]=128|S>>>6&63),T[R++]=128|63&S);return T},a.buf2binstring=function(_){return v(_,_.length)},a.binstring2buf=function(_){for(var T=new u.Buf8(_.length),S=0,b=T.length;S<b;S++)T[S]=_.charCodeAt(S);return T},a.buf2string=function(_,T){var S,b,A,R,M=T||_.length,I=new Array(2*M);for(S=b=0;S<M;)if((A=_[S++])<128)I[b++]=A;else if(4<(R=g[A]))I[b++]=65533,S+=R-1;else{for(A&=R===2?31:R===3?15:7;1<R&&S<M;)A=A<<6|63&_[S++],R--;1<R?I[b++]=65533:A<65536?I[b++]=A:(A-=65536,I[b++]=55296|A>>10&1023,I[b++]=56320|1023&A)}return v(I,b)},a.utf8border=function(_,T){var S;for((T=T||_.length)>_.length&&(T=_.length),S=T-1;0<=S&&(192&_[S])==128;)S--;return S<0||S===0?T:S+g[_[S]]>T?S:T}},{"./common":41}],43:[function(o,r,a){r.exports=function(u,f,h,g){for(var p=65535&u|0,v=u>>>16&65535|0,_=0;h!==0;){for(h-=_=2e3<h?2e3:h;v=v+(p=p+f[g++]|0)|0,--_;);p%=65521,v%=65521}return p|v<<16|0}},{}],44:[function(o,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,r,a){var u=(function(){for(var f,h=[],g=0;g<256;g++){f=g;for(var p=0;p<8;p++)f=1&f?3988292384^f>>>1:f>>>1;h[g]=f}return h})();r.exports=function(f,h,g,p){var v=u,_=p+g;f^=-1;for(var T=p;T<_;T++)f=f>>>8^v[255&(f^h[T])];return-1^f}},{}],46:[function(o,r,a){var u,f=o("../utils/common"),h=o("./trees"),g=o("./adler32"),p=o("./crc32"),v=o("./messages"),_=0,T=4,S=0,b=-2,A=-1,R=4,M=2,I=8,D=9,G=286,B=30,H=19,P=2*G+1,lt=15,V=3,ut=258,vt=ut+V+1,z=42,nt=113,w=1,at=2,X=3,Y=4;function mt(C,ft){return C.msg=v[ft],ft}function Z(C){return(C<<1)-(4<C?9:0)}function ot(C){for(var ft=C.length;0<=--ft;)C[ft]=0}function N(C){var ft=C.state,rt=ft.pending;rt>C.avail_out&&(rt=C.avail_out),rt!==0&&(f.arraySet(C.output,ft.pending_buf,ft.pending_out,rt,C.next_out),C.next_out+=rt,ft.pending_out+=rt,C.total_out+=rt,C.avail_out-=rt,ft.pending-=rt,ft.pending===0&&(ft.pending_out=0))}function U(C,ft){h._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,ft),C.block_start=C.strstart,N(C.strm)}function $(C,ft){C.pending_buf[C.pending++]=ft}function K(C,ft){C.pending_buf[C.pending++]=ft>>>8&255,C.pending_buf[C.pending++]=255&ft}function et(C,ft){var rt,L,k=C.max_chain_length,F=C.strstart,ht=C.prev_length,pt=C.nice_match,j=C.strstart>C.w_size-vt?C.strstart-(C.w_size-vt):0,gt=C.window,Tt=C.w_mask,yt=C.prev,Rt=C.strstart+ut,Xt=gt[F+ht-1],Lt=gt[F+ht];C.prev_length>=C.good_match&&(k>>=2),pt>C.lookahead&&(pt=C.lookahead);do if(gt[(rt=ft)+ht]===Lt&&gt[rt+ht-1]===Xt&&gt[rt]===gt[F]&&gt[++rt]===gt[F+1]){F+=2,rt++;do;while(gt[++F]===gt[++rt]&&gt[++F]===gt[++rt]&&gt[++F]===gt[++rt]&&gt[++F]===gt[++rt]&&gt[++F]===gt[++rt]&&gt[++F]===gt[++rt]&&gt[++F]===gt[++rt]&&gt[++F]===gt[++rt]&&F<Rt);if(L=ut-(Rt-F),F=Rt-ut,ht<L){if(C.match_start=ft,pt<=(ht=L))break;Xt=gt[F+ht-1],Lt=gt[F+ht]}}while((ft=yt[ft&Tt])>j&&--k!=0);return ht<=C.lookahead?ht:C.lookahead}function _t(C){var ft,rt,L,k,F,ht,pt,j,gt,Tt,yt=C.w_size;do{if(k=C.window_size-C.lookahead-C.strstart,C.strstart>=yt+(yt-vt)){for(f.arraySet(C.window,C.window,yt,yt,0),C.match_start-=yt,C.strstart-=yt,C.block_start-=yt,ft=rt=C.hash_size;L=C.head[--ft],C.head[ft]=yt<=L?L-yt:0,--rt;);for(ft=rt=yt;L=C.prev[--ft],C.prev[ft]=yt<=L?L-yt:0,--rt;);k+=yt}if(C.strm.avail_in===0)break;if(ht=C.strm,pt=C.window,j=C.strstart+C.lookahead,gt=k,Tt=void 0,Tt=ht.avail_in,gt<Tt&&(Tt=gt),rt=Tt===0?0:(ht.avail_in-=Tt,f.arraySet(pt,ht.input,ht.next_in,Tt,j),ht.state.wrap===1?ht.adler=g(ht.adler,pt,Tt,j):ht.state.wrap===2&&(ht.adler=p(ht.adler,pt,Tt,j)),ht.next_in+=Tt,ht.total_in+=Tt,Tt),C.lookahead+=rt,C.lookahead+C.insert>=V)for(F=C.strstart-C.insert,C.ins_h=C.window[F],C.ins_h=(C.ins_h<<C.hash_shift^C.window[F+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[F+V-1])&C.hash_mask,C.prev[F&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=F,F++,C.insert--,!(C.lookahead+C.insert<V)););}while(C.lookahead<vt&&C.strm.avail_in!==0)}function Nt(C,ft){for(var rt,L;;){if(C.lookahead<vt){if(_t(C),C.lookahead<vt&&ft===_)return w;if(C.lookahead===0)break}if(rt=0,C.lookahead>=V&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+V-1])&C.hash_mask,rt=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),rt!==0&&C.strstart-rt<=C.w_size-vt&&(C.match_length=et(C,rt)),C.match_length>=V)if(L=h._tr_tally(C,C.strstart-C.match_start,C.match_length-V),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=V){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+V-1])&C.hash_mask,rt=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else L=h._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(L&&(U(C,!1),C.strm.avail_out===0))return w}return C.insert=C.strstart<V-1?C.strstart:V-1,ft===T?(U(C,!0),C.strm.avail_out===0?X:Y):C.last_lit&&(U(C,!1),C.strm.avail_out===0)?w:at}function Mt(C,ft){for(var rt,L,k;;){if(C.lookahead<vt){if(_t(C),C.lookahead<vt&&ft===_)return w;if(C.lookahead===0)break}if(rt=0,C.lookahead>=V&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+V-1])&C.hash_mask,rt=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=V-1,rt!==0&&C.prev_length<C.max_lazy_match&&C.strstart-rt<=C.w_size-vt&&(C.match_length=et(C,rt),C.match_length<=5&&(C.strategy===1||C.match_length===V&&4096<C.strstart-C.match_start)&&(C.match_length=V-1)),C.prev_length>=V&&C.match_length<=C.prev_length){for(k=C.strstart+C.lookahead-V,L=h._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-V),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=k&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+V-1])&C.hash_mask,rt=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=V-1,C.strstart++,L&&(U(C,!1),C.strm.avail_out===0))return w}else if(C.match_available){if((L=h._tr_tally(C,0,C.window[C.strstart-1]))&&U(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return w}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(L=h._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<V-1?C.strstart:V-1,ft===T?(U(C,!0),C.strm.avail_out===0?X:Y):C.last_lit&&(U(C,!1),C.strm.avail_out===0)?w:at}function bt(C,ft,rt,L,k){this.good_length=C,this.max_lazy=ft,this.nice_length=rt,this.max_chain=L,this.func=k}function Jt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*P),this.dyn_dtree=new f.Buf16(2*(2*B+1)),this.bl_tree=new f.Buf16(2*(2*H+1)),ot(this.dyn_ltree),ot(this.dyn_dtree),ot(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(lt+1),this.heap=new f.Buf16(2*G+1),ot(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*G+1),ot(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Kt(C){var ft;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=M,(ft=C.state).pending=0,ft.pending_out=0,ft.wrap<0&&(ft.wrap=-ft.wrap),ft.status=ft.wrap?z:nt,C.adler=ft.wrap===2?0:1,ft.last_flush=_,h._tr_init(ft),S):mt(C,b)}function Te(C){var ft=Kt(C);return ft===S&&(function(rt){rt.window_size=2*rt.w_size,ot(rt.head),rt.max_lazy_match=u[rt.level].max_lazy,rt.good_match=u[rt.level].good_length,rt.nice_match=u[rt.level].nice_length,rt.max_chain_length=u[rt.level].max_chain,rt.strstart=0,rt.block_start=0,rt.lookahead=0,rt.insert=0,rt.match_length=rt.prev_length=V-1,rt.match_available=0,rt.ins_h=0})(C.state),ft}function xe(C,ft,rt,L,k,F){if(!C)return b;var ht=1;if(ft===A&&(ft=6),L<0?(ht=0,L=-L):15<L&&(ht=2,L-=16),k<1||D<k||rt!==I||L<8||15<L||ft<0||9<ft||F<0||R<F)return mt(C,b);L===8&&(L=9);var pt=new Jt;return(C.state=pt).strm=C,pt.wrap=ht,pt.gzhead=null,pt.w_bits=L,pt.w_size=1<<pt.w_bits,pt.w_mask=pt.w_size-1,pt.hash_bits=k+7,pt.hash_size=1<<pt.hash_bits,pt.hash_mask=pt.hash_size-1,pt.hash_shift=~~((pt.hash_bits+V-1)/V),pt.window=new f.Buf8(2*pt.w_size),pt.head=new f.Buf16(pt.hash_size),pt.prev=new f.Buf16(pt.w_size),pt.lit_bufsize=1<<k+6,pt.pending_buf_size=4*pt.lit_bufsize,pt.pending_buf=new f.Buf8(pt.pending_buf_size),pt.d_buf=1*pt.lit_bufsize,pt.l_buf=3*pt.lit_bufsize,pt.level=ft,pt.strategy=F,pt.method=rt,Te(C)}u=[new bt(0,0,0,0,function(C,ft){var rt=65535;for(rt>C.pending_buf_size-5&&(rt=C.pending_buf_size-5);;){if(C.lookahead<=1){if(_t(C),C.lookahead===0&&ft===_)return w;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var L=C.block_start+rt;if((C.strstart===0||C.strstart>=L)&&(C.lookahead=C.strstart-L,C.strstart=L,U(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-vt&&(U(C,!1),C.strm.avail_out===0))return w}return C.insert=0,ft===T?(U(C,!0),C.strm.avail_out===0?X:Y):(C.strstart>C.block_start&&(U(C,!1),C.strm.avail_out),w)}),new bt(4,4,8,4,Nt),new bt(4,5,16,8,Nt),new bt(4,6,32,32,Nt),new bt(4,4,16,16,Mt),new bt(8,16,32,32,Mt),new bt(8,16,128,128,Mt),new bt(8,32,128,256,Mt),new bt(32,128,258,1024,Mt),new bt(32,258,258,4096,Mt)],a.deflateInit=function(C,ft){return xe(C,ft,I,15,8,0)},a.deflateInit2=xe,a.deflateReset=Te,a.deflateResetKeep=Kt,a.deflateSetHeader=function(C,ft){return C&&C.state?C.state.wrap!==2?b:(C.state.gzhead=ft,S):b},a.deflate=function(C,ft){var rt,L,k,F;if(!C||!C.state||5<ft||ft<0)return C?mt(C,b):b;if(L=C.state,!C.output||!C.input&&C.avail_in!==0||L.status===666&&ft!==T)return mt(C,C.avail_out===0?-5:b);if(L.strm=C,rt=L.last_flush,L.last_flush=ft,L.status===z)if(L.wrap===2)C.adler=0,$(L,31),$(L,139),$(L,8),L.gzhead?($(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),$(L,255&L.gzhead.time),$(L,L.gzhead.time>>8&255),$(L,L.gzhead.time>>16&255),$(L,L.gzhead.time>>24&255),$(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),$(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&($(L,255&L.gzhead.extra.length),$(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(C.adler=p(C.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):($(L,0),$(L,0),$(L,0),$(L,0),$(L,0),$(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),$(L,3),L.status=nt);else{var ht=I+(L.w_bits-8<<4)<<8;ht|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(ht|=32),ht+=31-ht%31,L.status=nt,K(L,ht),L.strstart!==0&&(K(L,C.adler>>>16),K(L,65535&C.adler)),C.adler=1}if(L.status===69)if(L.gzhead.extra){for(k=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>k&&(C.adler=p(C.adler,L.pending_buf,L.pending-k,k)),N(C),k=L.pending,L.pending!==L.pending_buf_size));)$(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>k&&(C.adler=p(C.adler,L.pending_buf,L.pending-k,k)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){k=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>k&&(C.adler=p(C.adler,L.pending_buf,L.pending-k,k)),N(C),k=L.pending,L.pending===L.pending_buf_size)){F=1;break}F=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,$(L,F)}while(F!==0);L.gzhead.hcrc&&L.pending>k&&(C.adler=p(C.adler,L.pending_buf,L.pending-k,k)),F===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){k=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>k&&(C.adler=p(C.adler,L.pending_buf,L.pending-k,k)),N(C),k=L.pending,L.pending===L.pending_buf_size)){F=1;break}F=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,$(L,F)}while(F!==0);L.gzhead.hcrc&&L.pending>k&&(C.adler=p(C.adler,L.pending_buf,L.pending-k,k)),F===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&N(C),L.pending+2<=L.pending_buf_size&&($(L,255&C.adler),$(L,C.adler>>8&255),C.adler=0,L.status=nt)):L.status=nt),L.pending!==0){if(N(C),C.avail_out===0)return L.last_flush=-1,S}else if(C.avail_in===0&&Z(ft)<=Z(rt)&&ft!==T)return mt(C,-5);if(L.status===666&&C.avail_in!==0)return mt(C,-5);if(C.avail_in!==0||L.lookahead!==0||ft!==_&&L.status!==666){var pt=L.strategy===2?(function(j,gt){for(var Tt;;){if(j.lookahead===0&&(_t(j),j.lookahead===0)){if(gt===_)return w;break}if(j.match_length=0,Tt=h._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++,Tt&&(U(j,!1),j.strm.avail_out===0))return w}return j.insert=0,gt===T?(U(j,!0),j.strm.avail_out===0?X:Y):j.last_lit&&(U(j,!1),j.strm.avail_out===0)?w:at})(L,ft):L.strategy===3?(function(j,gt){for(var Tt,yt,Rt,Xt,Lt=j.window;;){if(j.lookahead<=ut){if(_t(j),j.lookahead<=ut&&gt===_)return w;if(j.lookahead===0)break}if(j.match_length=0,j.lookahead>=V&&0<j.strstart&&(yt=Lt[Rt=j.strstart-1])===Lt[++Rt]&&yt===Lt[++Rt]&&yt===Lt[++Rt]){Xt=j.strstart+ut;do;while(yt===Lt[++Rt]&&yt===Lt[++Rt]&&yt===Lt[++Rt]&&yt===Lt[++Rt]&&yt===Lt[++Rt]&&yt===Lt[++Rt]&&yt===Lt[++Rt]&&yt===Lt[++Rt]&&Rt<Xt);j.match_length=ut-(Xt-Rt),j.match_length>j.lookahead&&(j.match_length=j.lookahead)}if(j.match_length>=V?(Tt=h._tr_tally(j,1,j.match_length-V),j.lookahead-=j.match_length,j.strstart+=j.match_length,j.match_length=0):(Tt=h._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++),Tt&&(U(j,!1),j.strm.avail_out===0))return w}return j.insert=0,gt===T?(U(j,!0),j.strm.avail_out===0?X:Y):j.last_lit&&(U(j,!1),j.strm.avail_out===0)?w:at})(L,ft):u[L.level].func(L,ft);if(pt!==X&&pt!==Y||(L.status=666),pt===w||pt===X)return C.avail_out===0&&(L.last_flush=-1),S;if(pt===at&&(ft===1?h._tr_align(L):ft!==5&&(h._tr_stored_block(L,0,0,!1),ft===3&&(ot(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),N(C),C.avail_out===0))return L.last_flush=-1,S}return ft!==T?S:L.wrap<=0?1:(L.wrap===2?($(L,255&C.adler),$(L,C.adler>>8&255),$(L,C.adler>>16&255),$(L,C.adler>>24&255),$(L,255&C.total_in),$(L,C.total_in>>8&255),$(L,C.total_in>>16&255),$(L,C.total_in>>24&255)):(K(L,C.adler>>>16),K(L,65535&C.adler)),N(C),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?S:1)},a.deflateEnd=function(C){var ft;return C&&C.state?(ft=C.state.status)!==z&&ft!==69&&ft!==73&&ft!==91&&ft!==103&&ft!==nt&&ft!==666?mt(C,b):(C.state=null,ft===nt?mt(C,-3):S):b},a.deflateSetDictionary=function(C,ft){var rt,L,k,F,ht,pt,j,gt,Tt=ft.length;if(!C||!C.state||(F=(rt=C.state).wrap)===2||F===1&&rt.status!==z||rt.lookahead)return b;for(F===1&&(C.adler=g(C.adler,ft,Tt,0)),rt.wrap=0,Tt>=rt.w_size&&(F===0&&(ot(rt.head),rt.strstart=0,rt.block_start=0,rt.insert=0),gt=new f.Buf8(rt.w_size),f.arraySet(gt,ft,Tt-rt.w_size,rt.w_size,0),ft=gt,Tt=rt.w_size),ht=C.avail_in,pt=C.next_in,j=C.input,C.avail_in=Tt,C.next_in=0,C.input=ft,_t(rt);rt.lookahead>=V;){for(L=rt.strstart,k=rt.lookahead-(V-1);rt.ins_h=(rt.ins_h<<rt.hash_shift^rt.window[L+V-1])&rt.hash_mask,rt.prev[L&rt.w_mask]=rt.head[rt.ins_h],rt.head[rt.ins_h]=L,L++,--k;);rt.strstart=L,rt.lookahead=V-1,_t(rt)}return rt.strstart+=rt.lookahead,rt.block_start=rt.strstart,rt.insert=rt.lookahead,rt.lookahead=0,rt.match_length=rt.prev_length=V-1,rt.match_available=0,C.next_in=pt,C.input=j,C.avail_in=ht,rt.wrap=F,S},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,r,a){r.exports=function(u,f){var h,g,p,v,_,T,S,b,A,R,M,I,D,G,B,H,P,lt,V,ut,vt,z,nt,w,at;h=u.state,g=u.next_in,w=u.input,p=g+(u.avail_in-5),v=u.next_out,at=u.output,_=v-(f-u.avail_out),T=v+(u.avail_out-257),S=h.dmax,b=h.wsize,A=h.whave,R=h.wnext,M=h.window,I=h.hold,D=h.bits,G=h.lencode,B=h.distcode,H=(1<<h.lenbits)-1,P=(1<<h.distbits)-1;t:do{D<15&&(I+=w[g++]<<D,D+=8,I+=w[g++]<<D,D+=8),lt=G[I&H];e:for(;;){if(I>>>=V=lt>>>24,D-=V,(V=lt>>>16&255)===0)at[v++]=65535&lt;else{if(!(16&V)){if((64&V)==0){lt=G[(65535&lt)+(I&(1<<V)-1)];continue e}if(32&V){h.mode=12;break t}u.msg="invalid literal/length code",h.mode=30;break t}ut=65535&lt,(V&=15)&&(D<V&&(I+=w[g++]<<D,D+=8),ut+=I&(1<<V)-1,I>>>=V,D-=V),D<15&&(I+=w[g++]<<D,D+=8,I+=w[g++]<<D,D+=8),lt=B[I&P];n:for(;;){if(I>>>=V=lt>>>24,D-=V,!(16&(V=lt>>>16&255))){if((64&V)==0){lt=B[(65535&lt)+(I&(1<<V)-1)];continue n}u.msg="invalid distance code",h.mode=30;break t}if(vt=65535&lt,D<(V&=15)&&(I+=w[g++]<<D,(D+=8)<V&&(I+=w[g++]<<D,D+=8)),S<(vt+=I&(1<<V)-1)){u.msg="invalid distance too far back",h.mode=30;break t}if(I>>>=V,D-=V,(V=v-_)<vt){if(A<(V=vt-V)&&h.sane){u.msg="invalid distance too far back",h.mode=30;break t}if(nt=M,(z=0)===R){if(z+=b-V,V<ut){for(ut-=V;at[v++]=M[z++],--V;);z=v-vt,nt=at}}else if(R<V){if(z+=b+R-V,(V-=R)<ut){for(ut-=V;at[v++]=M[z++],--V;);if(z=0,R<ut){for(ut-=V=R;at[v++]=M[z++],--V;);z=v-vt,nt=at}}}else if(z+=R-V,V<ut){for(ut-=V;at[v++]=M[z++],--V;);z=v-vt,nt=at}for(;2<ut;)at[v++]=nt[z++],at[v++]=nt[z++],at[v++]=nt[z++],ut-=3;ut&&(at[v++]=nt[z++],1<ut&&(at[v++]=nt[z++]))}else{for(z=v-vt;at[v++]=at[z++],at[v++]=at[z++],at[v++]=at[z++],2<(ut-=3););ut&&(at[v++]=at[z++],1<ut&&(at[v++]=at[z++]))}break}}break}}while(g<p&&v<T);g-=ut=D>>3,I&=(1<<(D-=ut<<3))-1,u.next_in=g,u.next_out=v,u.avail_in=g<p?p-g+5:5-(g-p),u.avail_out=v<T?T-v+257:257-(v-T),h.hold=I,h.bits=D}},{}],49:[function(o,r,a){var u=o("../utils/common"),f=o("./adler32"),h=o("./crc32"),g=o("./inffast"),p=o("./inftrees"),v=1,_=2,T=0,S=-2,b=1,A=852,R=592;function M(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function I(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function D(z){var nt;return z&&z.state?(nt=z.state,z.total_in=z.total_out=nt.total=0,z.msg="",nt.wrap&&(z.adler=1&nt.wrap),nt.mode=b,nt.last=0,nt.havedict=0,nt.dmax=32768,nt.head=null,nt.hold=0,nt.bits=0,nt.lencode=nt.lendyn=new u.Buf32(A),nt.distcode=nt.distdyn=new u.Buf32(R),nt.sane=1,nt.back=-1,T):S}function G(z){var nt;return z&&z.state?((nt=z.state).wsize=0,nt.whave=0,nt.wnext=0,D(z)):S}function B(z,nt){var w,at;return z&&z.state?(at=z.state,nt<0?(w=0,nt=-nt):(w=1+(nt>>4),nt<48&&(nt&=15)),nt&&(nt<8||15<nt)?S:(at.window!==null&&at.wbits!==nt&&(at.window=null),at.wrap=w,at.wbits=nt,G(z))):S}function H(z,nt){var w,at;return z?(at=new I,(z.state=at).window=null,(w=B(z,nt))!==T&&(z.state=null),w):S}var P,lt,V=!0;function ut(z){if(V){var nt;for(P=new u.Buf32(512),lt=new u.Buf32(32),nt=0;nt<144;)z.lens[nt++]=8;for(;nt<256;)z.lens[nt++]=9;for(;nt<280;)z.lens[nt++]=7;for(;nt<288;)z.lens[nt++]=8;for(p(v,z.lens,0,288,P,0,z.work,{bits:9}),nt=0;nt<32;)z.lens[nt++]=5;p(_,z.lens,0,32,lt,0,z.work,{bits:5}),V=!1}z.lencode=P,z.lenbits=9,z.distcode=lt,z.distbits=5}function vt(z,nt,w,at){var X,Y=z.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new u.Buf8(Y.wsize)),at>=Y.wsize?(u.arraySet(Y.window,nt,w-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(at<(X=Y.wsize-Y.wnext)&&(X=at),u.arraySet(Y.window,nt,w-at,X,Y.wnext),(at-=X)?(u.arraySet(Y.window,nt,w-at,at,0),Y.wnext=at,Y.whave=Y.wsize):(Y.wnext+=X,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=X))),0}a.inflateReset=G,a.inflateReset2=B,a.inflateResetKeep=D,a.inflateInit=function(z){return H(z,15)},a.inflateInit2=H,a.inflate=function(z,nt){var w,at,X,Y,mt,Z,ot,N,U,$,K,et,_t,Nt,Mt,bt,Jt,Kt,Te,xe,C,ft,rt,L,k=0,F=new u.Buf8(4),ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return S;(w=z.state).mode===12&&(w.mode=13),mt=z.next_out,X=z.output,ot=z.avail_out,Y=z.next_in,at=z.input,Z=z.avail_in,N=w.hold,U=w.bits,$=Z,K=ot,ft=T;t:for(;;)switch(w.mode){case b:if(w.wrap===0){w.mode=13;break}for(;U<16;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if(2&w.wrap&&N===35615){F[w.check=0]=255&N,F[1]=N>>>8&255,w.check=h(w.check,F,2,0),U=N=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&N)<<8)+(N>>8))%31){z.msg="incorrect header check",w.mode=30;break}if((15&N)!=8){z.msg="unknown compression method",w.mode=30;break}if(U-=4,C=8+(15&(N>>>=4)),w.wbits===0)w.wbits=C;else if(C>w.wbits){z.msg="invalid window size",w.mode=30;break}w.dmax=1<<C,z.adler=w.check=1,w.mode=512&N?10:12,U=N=0;break;case 2:for(;U<16;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if(w.flags=N,(255&w.flags)!=8){z.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){z.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=N>>8&1),512&w.flags&&(F[0]=255&N,F[1]=N>>>8&255,w.check=h(w.check,F,2,0)),U=N=0,w.mode=3;case 3:for(;U<32;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}w.head&&(w.head.time=N),512&w.flags&&(F[0]=255&N,F[1]=N>>>8&255,F[2]=N>>>16&255,F[3]=N>>>24&255,w.check=h(w.check,F,4,0)),U=N=0,w.mode=4;case 4:for(;U<16;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}w.head&&(w.head.xflags=255&N,w.head.os=N>>8),512&w.flags&&(F[0]=255&N,F[1]=N>>>8&255,w.check=h(w.check,F,2,0)),U=N=0,w.mode=5;case 5:if(1024&w.flags){for(;U<16;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}w.length=N,w.head&&(w.head.extra_len=N),512&w.flags&&(F[0]=255&N,F[1]=N>>>8&255,w.check=h(w.check,F,2,0)),U=N=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(Z<(et=w.length)&&(et=Z),et&&(w.head&&(C=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),u.arraySet(w.head.extra,at,Y,et,C)),512&w.flags&&(w.check=h(w.check,at,et,Y)),Z-=et,Y+=et,w.length-=et),w.length))break t;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(Z===0)break t;for(et=0;C=at[Y+et++],w.head&&C&&w.length<65536&&(w.head.name+=String.fromCharCode(C)),C&&et<Z;);if(512&w.flags&&(w.check=h(w.check,at,et,Y)),Z-=et,Y+=et,C)break t}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(Z===0)break t;for(et=0;C=at[Y+et++],w.head&&C&&w.length<65536&&(w.head.comment+=String.fromCharCode(C)),C&&et<Z;);if(512&w.flags&&(w.check=h(w.check,at,et,Y)),Z-=et,Y+=et,C)break t}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;U<16;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if(N!==(65535&w.check)){z.msg="header crc mismatch",w.mode=30;break}U=N=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),z.adler=w.check=0,w.mode=12;break;case 10:for(;U<32;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}z.adler=w.check=M(N),U=N=0,w.mode=11;case 11:if(w.havedict===0)return z.next_out=mt,z.avail_out=ot,z.next_in=Y,z.avail_in=Z,w.hold=N,w.bits=U,2;z.adler=w.check=1,w.mode=12;case 12:if(nt===5||nt===6)break t;case 13:if(w.last){N>>>=7&U,U-=7&U,w.mode=27;break}for(;U<3;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}switch(w.last=1&N,U-=1,3&(N>>>=1)){case 0:w.mode=14;break;case 1:if(ut(w),w.mode=20,nt!==6)break;N>>>=2,U-=2;break t;case 2:w.mode=17;break;case 3:z.msg="invalid block type",w.mode=30}N>>>=2,U-=2;break;case 14:for(N>>>=7&U,U-=7&U;U<32;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if((65535&N)!=(N>>>16^65535)){z.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&N,U=N=0,w.mode=15,nt===6)break t;case 15:w.mode=16;case 16:if(et=w.length){if(Z<et&&(et=Z),ot<et&&(et=ot),et===0)break t;u.arraySet(X,at,Y,et,mt),Z-=et,Y+=et,ot-=et,mt+=et,w.length-=et;break}w.mode=12;break;case 17:for(;U<14;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if(w.nlen=257+(31&N),N>>>=5,U-=5,w.ndist=1+(31&N),N>>>=5,U-=5,w.ncode=4+(15&N),N>>>=4,U-=4,286<w.nlen||30<w.ndist){z.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;U<3;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}w.lens[ht[w.have++]]=7&N,N>>>=3,U-=3}for(;w.have<19;)w.lens[ht[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,rt={bits:w.lenbits},ft=p(0,w.lens,0,19,w.lencode,0,w.work,rt),w.lenbits=rt.bits,ft){z.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;bt=(k=w.lencode[N&(1<<w.lenbits)-1])>>>16&255,Jt=65535&k,!((Mt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if(Jt<16)N>>>=Mt,U-=Mt,w.lens[w.have++]=Jt;else{if(Jt===16){for(L=Mt+2;U<L;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if(N>>>=Mt,U-=Mt,w.have===0){z.msg="invalid bit length repeat",w.mode=30;break}C=w.lens[w.have-1],et=3+(3&N),N>>>=2,U-=2}else if(Jt===17){for(L=Mt+3;U<L;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}U-=Mt,C=0,et=3+(7&(N>>>=Mt)),N>>>=3,U-=3}else{for(L=Mt+7;U<L;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}U-=Mt,C=0,et=11+(127&(N>>>=Mt)),N>>>=7,U-=7}if(w.have+et>w.nlen+w.ndist){z.msg="invalid bit length repeat",w.mode=30;break}for(;et--;)w.lens[w.have++]=C}}if(w.mode===30)break;if(w.lens[256]===0){z.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,rt={bits:w.lenbits},ft=p(v,w.lens,0,w.nlen,w.lencode,0,w.work,rt),w.lenbits=rt.bits,ft){z.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,rt={bits:w.distbits},ft=p(_,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,rt),w.distbits=rt.bits,ft){z.msg="invalid distances set",w.mode=30;break}if(w.mode=20,nt===6)break t;case 20:w.mode=21;case 21:if(6<=Z&&258<=ot){z.next_out=mt,z.avail_out=ot,z.next_in=Y,z.avail_in=Z,w.hold=N,w.bits=U,g(z,K),mt=z.next_out,X=z.output,ot=z.avail_out,Y=z.next_in,at=z.input,Z=z.avail_in,N=w.hold,U=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;bt=(k=w.lencode[N&(1<<w.lenbits)-1])>>>16&255,Jt=65535&k,!((Mt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if(bt&&(240&bt)==0){for(Kt=Mt,Te=bt,xe=Jt;bt=(k=w.lencode[xe+((N&(1<<Kt+Te)-1)>>Kt)])>>>16&255,Jt=65535&k,!(Kt+(Mt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}N>>>=Kt,U-=Kt,w.back+=Kt}if(N>>>=Mt,U-=Mt,w.back+=Mt,w.length=Jt,bt===0){w.mode=26;break}if(32&bt){w.back=-1,w.mode=12;break}if(64&bt){z.msg="invalid literal/length code",w.mode=30;break}w.extra=15&bt,w.mode=22;case 22:if(w.extra){for(L=w.extra;U<L;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}w.length+=N&(1<<w.extra)-1,N>>>=w.extra,U-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;bt=(k=w.distcode[N&(1<<w.distbits)-1])>>>16&255,Jt=65535&k,!((Mt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if((240&bt)==0){for(Kt=Mt,Te=bt,xe=Jt;bt=(k=w.distcode[xe+((N&(1<<Kt+Te)-1)>>Kt)])>>>16&255,Jt=65535&k,!(Kt+(Mt=k>>>24)<=U);){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}N>>>=Kt,U-=Kt,w.back+=Kt}if(N>>>=Mt,U-=Mt,w.back+=Mt,64&bt){z.msg="invalid distance code",w.mode=30;break}w.offset=Jt,w.extra=15&bt,w.mode=24;case 24:if(w.extra){for(L=w.extra;U<L;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}w.offset+=N&(1<<w.extra)-1,N>>>=w.extra,U-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){z.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(ot===0)break t;if(et=K-ot,w.offset>et){if((et=w.offset-et)>w.whave&&w.sane){z.msg="invalid distance too far back",w.mode=30;break}_t=et>w.wnext?(et-=w.wnext,w.wsize-et):w.wnext-et,et>w.length&&(et=w.length),Nt=w.window}else Nt=X,_t=mt-w.offset,et=w.length;for(ot<et&&(et=ot),ot-=et,w.length-=et;X[mt++]=Nt[_t++],--et;);w.length===0&&(w.mode=21);break;case 26:if(ot===0)break t;X[mt++]=w.length,ot--,w.mode=21;break;case 27:if(w.wrap){for(;U<32;){if(Z===0)break t;Z--,N|=at[Y++]<<U,U+=8}if(K-=ot,z.total_out+=K,w.total+=K,K&&(z.adler=w.check=w.flags?h(w.check,X,K,mt-K):f(w.check,X,K,mt-K)),K=ot,(w.flags?N:M(N))!==w.check){z.msg="incorrect data check",w.mode=30;break}U=N=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;U<32;){if(Z===0)break t;Z--,N+=at[Y++]<<U,U+=8}if(N!==(4294967295&w.total)){z.msg="incorrect length check",w.mode=30;break}U=N=0}w.mode=29;case 29:ft=1;break t;case 30:ft=-3;break t;case 31:return-4;case 32:default:return S}return z.next_out=mt,z.avail_out=ot,z.next_in=Y,z.avail_in=Z,w.hold=N,w.bits=U,(w.wsize||K!==z.avail_out&&w.mode<30&&(w.mode<27||nt!==4))&&vt(z,z.output,z.next_out,K-z.avail_out)?(w.mode=31,-4):($-=z.avail_in,K-=z.avail_out,z.total_in+=$,z.total_out+=K,w.total+=K,w.wrap&&K&&(z.adler=w.check=w.flags?h(w.check,X,K,z.next_out-K):f(w.check,X,K,z.next_out-K)),z.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),($==0&&K===0||nt===4)&&ft===T&&(ft=-5),ft)},a.inflateEnd=function(z){if(!z||!z.state)return S;var nt=z.state;return nt.window&&(nt.window=null),z.state=null,T},a.inflateGetHeader=function(z,nt){var w;return z&&z.state?(2&(w=z.state).wrap)==0?S:((w.head=nt).done=!1,T):S},a.inflateSetDictionary=function(z,nt){var w,at=nt.length;return z&&z.state?(w=z.state).wrap!==0&&w.mode!==11?S:w.mode===11&&f(1,nt,at,0)!==w.check?-3:vt(z,nt,at,at)?(w.mode=31,-4):(w.havedict=1,T):S},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,r,a){var u=o("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],g=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(v,_,T,S,b,A,R,M){var I,D,G,B,H,P,lt,V,ut,vt=M.bits,z=0,nt=0,w=0,at=0,X=0,Y=0,mt=0,Z=0,ot=0,N=0,U=null,$=0,K=new u.Buf16(16),et=new u.Buf16(16),_t=null,Nt=0;for(z=0;z<=15;z++)K[z]=0;for(nt=0;nt<S;nt++)K[_[T+nt]]++;for(X=vt,at=15;1<=at&&K[at]===0;at--);if(at<X&&(X=at),at===0)return b[A++]=20971520,b[A++]=20971520,M.bits=1,0;for(w=1;w<at&&K[w]===0;w++);for(X<w&&(X=w),z=Z=1;z<=15;z++)if(Z<<=1,(Z-=K[z])<0)return-1;if(0<Z&&(v===0||at!==1))return-1;for(et[1]=0,z=1;z<15;z++)et[z+1]=et[z]+K[z];for(nt=0;nt<S;nt++)_[T+nt]!==0&&(R[et[_[T+nt]]++]=nt);if(P=v===0?(U=_t=R,19):v===1?(U=f,$-=257,_t=h,Nt-=257,256):(U=g,_t=p,-1),z=w,H=A,mt=nt=N=0,G=-1,B=(ot=1<<(Y=X))-1,v===1&&852<ot||v===2&&592<ot)return 1;for(;;){for(lt=z-mt,ut=R[nt]<P?(V=0,R[nt]):R[nt]>P?(V=_t[Nt+R[nt]],U[$+R[nt]]):(V=96,0),I=1<<z-mt,w=D=1<<Y;b[H+(N>>mt)+(D-=I)]=lt<<24|V<<16|ut|0,D!==0;);for(I=1<<z-1;N&I;)I>>=1;if(I!==0?(N&=I-1,N+=I):N=0,nt++,--K[z]==0){if(z===at)break;z=_[T+R[nt]]}if(X<z&&(N&B)!==G){for(mt===0&&(mt=X),H+=w,Z=1<<(Y=z-mt);Y+mt<at&&!((Z-=K[Y+mt])<=0);)Y++,Z<<=1;if(ot+=1<<Y,v===1&&852<ot||v===2&&592<ot)return 1;b[G=N&B]=X<<24|Y<<16|H-A|0}}return N!==0&&(b[H+N]=z-mt<<24|64<<16|0),M.bits=X,0}},{"../utils/common":41}],51:[function(o,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,r,a){var u=o("../utils/common"),f=0,h=1;function g(k){for(var F=k.length;0<=--F;)k[F]=0}var p=0,v=29,_=256,T=_+1+v,S=30,b=19,A=2*T+1,R=15,M=16,I=7,D=256,G=16,B=17,H=18,P=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],lt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ut=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vt=new Array(2*(T+2));g(vt);var z=new Array(2*S);g(z);var nt=new Array(512);g(nt);var w=new Array(256);g(w);var at=new Array(v);g(at);var X,Y,mt,Z=new Array(S);function ot(k,F,ht,pt,j){this.static_tree=k,this.extra_bits=F,this.extra_base=ht,this.elems=pt,this.max_length=j,this.has_stree=k&&k.length}function N(k,F){this.dyn_tree=k,this.max_code=0,this.stat_desc=F}function U(k){return k<256?nt[k]:nt[256+(k>>>7)]}function $(k,F){k.pending_buf[k.pending++]=255&F,k.pending_buf[k.pending++]=F>>>8&255}function K(k,F,ht){k.bi_valid>M-ht?(k.bi_buf|=F<<k.bi_valid&65535,$(k,k.bi_buf),k.bi_buf=F>>M-k.bi_valid,k.bi_valid+=ht-M):(k.bi_buf|=F<<k.bi_valid&65535,k.bi_valid+=ht)}function et(k,F,ht){K(k,ht[2*F],ht[2*F+1])}function _t(k,F){for(var ht=0;ht|=1&k,k>>>=1,ht<<=1,0<--F;);return ht>>>1}function Nt(k,F,ht){var pt,j,gt=new Array(R+1),Tt=0;for(pt=1;pt<=R;pt++)gt[pt]=Tt=Tt+ht[pt-1]<<1;for(j=0;j<=F;j++){var yt=k[2*j+1];yt!==0&&(k[2*j]=_t(gt[yt]++,yt))}}function Mt(k){var F;for(F=0;F<T;F++)k.dyn_ltree[2*F]=0;for(F=0;F<S;F++)k.dyn_dtree[2*F]=0;for(F=0;F<b;F++)k.bl_tree[2*F]=0;k.dyn_ltree[2*D]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function bt(k){8<k.bi_valid?$(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function Jt(k,F,ht,pt){var j=2*F,gt=2*ht;return k[j]<k[gt]||k[j]===k[gt]&&pt[F]<=pt[ht]}function Kt(k,F,ht){for(var pt=k.heap[ht],j=ht<<1;j<=k.heap_len&&(j<k.heap_len&&Jt(F,k.heap[j+1],k.heap[j],k.depth)&&j++,!Jt(F,pt,k.heap[j],k.depth));)k.heap[ht]=k.heap[j],ht=j,j<<=1;k.heap[ht]=pt}function Te(k,F,ht){var pt,j,gt,Tt,yt=0;if(k.last_lit!==0)for(;pt=k.pending_buf[k.d_buf+2*yt]<<8|k.pending_buf[k.d_buf+2*yt+1],j=k.pending_buf[k.l_buf+yt],yt++,pt===0?et(k,j,F):(et(k,(gt=w[j])+_+1,F),(Tt=P[gt])!==0&&K(k,j-=at[gt],Tt),et(k,gt=U(--pt),ht),(Tt=lt[gt])!==0&&K(k,pt-=Z[gt],Tt)),yt<k.last_lit;);et(k,D,F)}function xe(k,F){var ht,pt,j,gt=F.dyn_tree,Tt=F.stat_desc.static_tree,yt=F.stat_desc.has_stree,Rt=F.stat_desc.elems,Xt=-1;for(k.heap_len=0,k.heap_max=A,ht=0;ht<Rt;ht++)gt[2*ht]!==0?(k.heap[++k.heap_len]=Xt=ht,k.depth[ht]=0):gt[2*ht+1]=0;for(;k.heap_len<2;)gt[2*(j=k.heap[++k.heap_len]=Xt<2?++Xt:0)]=1,k.depth[j]=0,k.opt_len--,yt&&(k.static_len-=Tt[2*j+1]);for(F.max_code=Xt,ht=k.heap_len>>1;1<=ht;ht--)Kt(k,gt,ht);for(j=Rt;ht=k.heap[1],k.heap[1]=k.heap[k.heap_len--],Kt(k,gt,1),pt=k.heap[1],k.heap[--k.heap_max]=ht,k.heap[--k.heap_max]=pt,gt[2*j]=gt[2*ht]+gt[2*pt],k.depth[j]=(k.depth[ht]>=k.depth[pt]?k.depth[ht]:k.depth[pt])+1,gt[2*ht+1]=gt[2*pt+1]=j,k.heap[1]=j++,Kt(k,gt,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],(function(Lt,Ie){var Hn,Ke,hi,te,me,Xe,le=Ie.dyn_tree,Ml=Ie.max_code,ca=Ie.stat_desc.static_tree,fa=Ie.stat_desc.has_stree,Li=Ie.stat_desc.extra_bits,pi=Ie.stat_desc.extra_base,pn=Ie.stat_desc.max_length,Ze=0;for(te=0;te<=R;te++)Lt.bl_count[te]=0;for(le[2*Lt.heap[Lt.heap_max]+1]=0,Hn=Lt.heap_max+1;Hn<A;Hn++)pn<(te=le[2*le[2*(Ke=Lt.heap[Hn])+1]+1]+1)&&(te=pn,Ze++),le[2*Ke+1]=te,Ml<Ke||(Lt.bl_count[te]++,me=0,pi<=Ke&&(me=Li[Ke-pi]),Xe=le[2*Ke],Lt.opt_len+=Xe*(te+me),fa&&(Lt.static_len+=Xe*(ca[2*Ke+1]+me)));if(Ze!==0){do{for(te=pn-1;Lt.bl_count[te]===0;)te--;Lt.bl_count[te]--,Lt.bl_count[te+1]+=2,Lt.bl_count[pn]--,Ze-=2}while(0<Ze);for(te=pn;te!==0;te--)for(Ke=Lt.bl_count[te];Ke!==0;)Ml<(hi=Lt.heap[--Hn])||(le[2*hi+1]!==te&&(Lt.opt_len+=(te-le[2*hi+1])*le[2*hi],le[2*hi+1]=te),Ke--)}})(k,F),Nt(gt,Xt,k.bl_count)}function C(k,F,ht){var pt,j,gt=-1,Tt=F[1],yt=0,Rt=7,Xt=4;for(Tt===0&&(Rt=138,Xt=3),F[2*(ht+1)+1]=65535,pt=0;pt<=ht;pt++)j=Tt,Tt=F[2*(pt+1)+1],++yt<Rt&&j===Tt||(yt<Xt?k.bl_tree[2*j]+=yt:j!==0?(j!==gt&&k.bl_tree[2*j]++,k.bl_tree[2*G]++):yt<=10?k.bl_tree[2*B]++:k.bl_tree[2*H]++,gt=j,Xt=(yt=0)===Tt?(Rt=138,3):j===Tt?(Rt=6,3):(Rt=7,4))}function ft(k,F,ht){var pt,j,gt=-1,Tt=F[1],yt=0,Rt=7,Xt=4;for(Tt===0&&(Rt=138,Xt=3),pt=0;pt<=ht;pt++)if(j=Tt,Tt=F[2*(pt+1)+1],!(++yt<Rt&&j===Tt)){if(yt<Xt)for(;et(k,j,k.bl_tree),--yt!=0;);else j!==0?(j!==gt&&(et(k,j,k.bl_tree),yt--),et(k,G,k.bl_tree),K(k,yt-3,2)):yt<=10?(et(k,B,k.bl_tree),K(k,yt-3,3)):(et(k,H,k.bl_tree),K(k,yt-11,7));gt=j,Xt=(yt=0)===Tt?(Rt=138,3):j===Tt?(Rt=6,3):(Rt=7,4)}}g(Z);var rt=!1;function L(k,F,ht,pt){K(k,(p<<1)+(pt?1:0),3),(function(j,gt,Tt,yt){bt(j),$(j,Tt),$(j,~Tt),u.arraySet(j.pending_buf,j.window,gt,Tt,j.pending),j.pending+=Tt})(k,F,ht)}a._tr_init=function(k){rt||((function(){var F,ht,pt,j,gt,Tt=new Array(R+1);for(j=pt=0;j<v-1;j++)for(at[j]=pt,F=0;F<1<<P[j];F++)w[pt++]=j;for(w[pt-1]=j,j=gt=0;j<16;j++)for(Z[j]=gt,F=0;F<1<<lt[j];F++)nt[gt++]=j;for(gt>>=7;j<S;j++)for(Z[j]=gt<<7,F=0;F<1<<lt[j]-7;F++)nt[256+gt++]=j;for(ht=0;ht<=R;ht++)Tt[ht]=0;for(F=0;F<=143;)vt[2*F+1]=8,F++,Tt[8]++;for(;F<=255;)vt[2*F+1]=9,F++,Tt[9]++;for(;F<=279;)vt[2*F+1]=7,F++,Tt[7]++;for(;F<=287;)vt[2*F+1]=8,F++,Tt[8]++;for(Nt(vt,T+1,Tt),F=0;F<S;F++)z[2*F+1]=5,z[2*F]=_t(F,5);X=new ot(vt,P,_+1,T,R),Y=new ot(z,lt,0,S,R),mt=new ot(new Array(0),V,0,b,I)})(),rt=!0),k.l_desc=new N(k.dyn_ltree,X),k.d_desc=new N(k.dyn_dtree,Y),k.bl_desc=new N(k.bl_tree,mt),k.bi_buf=0,k.bi_valid=0,Mt(k)},a._tr_stored_block=L,a._tr_flush_block=function(k,F,ht,pt){var j,gt,Tt=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=(function(yt){var Rt,Xt=4093624447;for(Rt=0;Rt<=31;Rt++,Xt>>>=1)if(1&Xt&&yt.dyn_ltree[2*Rt]!==0)return f;if(yt.dyn_ltree[18]!==0||yt.dyn_ltree[20]!==0||yt.dyn_ltree[26]!==0)return h;for(Rt=32;Rt<_;Rt++)if(yt.dyn_ltree[2*Rt]!==0)return h;return f})(k)),xe(k,k.l_desc),xe(k,k.d_desc),Tt=(function(yt){var Rt;for(C(yt,yt.dyn_ltree,yt.l_desc.max_code),C(yt,yt.dyn_dtree,yt.d_desc.max_code),xe(yt,yt.bl_desc),Rt=b-1;3<=Rt&&yt.bl_tree[2*ut[Rt]+1]===0;Rt--);return yt.opt_len+=3*(Rt+1)+5+5+4,Rt})(k),j=k.opt_len+3+7>>>3,(gt=k.static_len+3+7>>>3)<=j&&(j=gt)):j=gt=ht+5,ht+4<=j&&F!==-1?L(k,F,ht,pt):k.strategy===4||gt===j?(K(k,2+(pt?1:0),3),Te(k,vt,z)):(K(k,4+(pt?1:0),3),(function(yt,Rt,Xt,Lt){var Ie;for(K(yt,Rt-257,5),K(yt,Xt-1,5),K(yt,Lt-4,4),Ie=0;Ie<Lt;Ie++)K(yt,yt.bl_tree[2*ut[Ie]+1],3);ft(yt,yt.dyn_ltree,Rt-1),ft(yt,yt.dyn_dtree,Xt-1)})(k,k.l_desc.max_code+1,k.d_desc.max_code+1,Tt+1),Te(k,k.dyn_ltree,k.dyn_dtree)),Mt(k),pt&&bt(k)},a._tr_tally=function(k,F,ht){return k.pending_buf[k.d_buf+2*k.last_lit]=F>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&F,k.pending_buf[k.l_buf+k.last_lit]=255&ht,k.last_lit++,F===0?k.dyn_ltree[2*ht]++:(k.matches++,F--,k.dyn_ltree[2*(w[ht]+_+1)]++,k.dyn_dtree[2*U(F)]++),k.last_lit===k.lit_bufsize-1},a._tr_align=function(k){K(k,2,3),et(k,D,vt),(function(F){F.bi_valid===16?($(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)})(k)}},{"../utils/common":41}],53:[function(o,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,r,a){(function(u){(function(f,h){if(!f.setImmediate){var g,p,v,_,T=1,S={},b=!1,A=f.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(f);R=R&&R.setTimeout?R:f,g={}.toString.call(f.process)==="[object process]"?function(G){process.nextTick(function(){I(G)})}:(function(){if(f.postMessage&&!f.importScripts){var G=!0,B=f.onmessage;return f.onmessage=function(){G=!1},f.postMessage("","*"),f.onmessage=B,G}})()?(_="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",D,!1):f.attachEvent("onmessage",D),function(G){f.postMessage(_+G,"*")}):f.MessageChannel?((v=new MessageChannel).port1.onmessage=function(G){I(G.data)},function(G){v.port2.postMessage(G)}):A&&"onreadystatechange"in A.createElement("script")?(p=A.documentElement,function(G){var B=A.createElement("script");B.onreadystatechange=function(){I(G),B.onreadystatechange=null,p.removeChild(B),B=null},p.appendChild(B)}):function(G){setTimeout(I,0,G)},R.setImmediate=function(G){typeof G!="function"&&(G=new Function(""+G));for(var B=new Array(arguments.length-1),H=0;H<B.length;H++)B[H]=arguments[H+1];var P={callback:G,args:B};return S[T]=P,g(T),T++},R.clearImmediate=M}function M(G){delete S[G]}function I(G){if(b)setTimeout(I,0,G);else{var B=S[G];if(B){b=!0;try{(function(H){var P=H.callback,lt=H.args;switch(lt.length){case 0:P();break;case 1:P(lt[0]);break;case 2:P(lt[0],lt[1]);break;case 3:P(lt[0],lt[1],lt[2]);break;default:P.apply(h,lt)}})(B)}finally{M(G),b=!1}}}}function D(G){G.source===f&&typeof G.data=="string"&&G.data.indexOf(_)===0&&I(+G.data.slice(_.length))}})(typeof self>"u"?u===void 0?this:u:self)}).call(this,typeof qr<"u"?qr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(zu)),zu.exports}var $1=W1();const j1=oa($1),tb=async i=>{const o=await new j1().loadAsync(i),r=[],a=Object.keys(o.files).filter(f=>!o.files[f].dir&&/\.(jpg|jpeg|png|webp|gif)$/i.test(f));a.sort((f,h)=>f.localeCompare(h,void 0,{numeric:!0,sensitivity:"base"}));for(const f of a){const g=await o.files[f].async("blob");r.push({name:f,blob:g})}if(r.length===0)throw new Error("No valid images found in the archive.");const u=r.map(f=>URL.createObjectURL(f.blob));return{id:crypto.randomUUID(),title:i.name.replace(/\.(cbz|zip)$/i,""),coverUrl:u[0],pages:u}};function eb(){const[i,e]=Pt.useState("library"),[o,r]=Pt.useState(null),[a,u]=Pt.useState([]),[f,h]=Pt.useState(!1),g=async _=>{h(!0);try{const T=await tb(_);r(T),u(S=>[...S,{id:T.id,title:T.title,coverUrl:T.coverUrl}]),e("reader")}catch(T){console.error("Failed to process file",T),alert("Failed to process file. Please ensure it is a valid .zip or .cbz file containing images.")}finally{h(!1)}},p=_=>{o&&o.id===_?e("reader"):alert("In-memory storage limit: Only the most recently uploaded manga is readable.")},v=()=>{e("library")};return i==="reader"&&o?Et.jsx(Z1,{manga:o,onClose:v}):Et.jsxs(Et.Fragment,{children:[Et.jsx(_0,{items:a,onSelect:p,onUpload:g}),f&&Et.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm",children:Et.jsxs("div",{className:"flex flex-col items-center gap-4",children:[Et.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary border-t-transparent"}),Et.jsx("p",{className:"text-white font-medium animate-pulse",children:"Processing Manga..."})]})})]})}const Kg=document.getElementById("root");if(!Kg)throw new Error("Could not find root element to mount to");const nb=v0.createRoot(Kg);nb.render(Et.jsx(c0.StrictMode,{children:Et.jsx(eb,{})}));
